<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ç”¨eslint & prettier & pre-commitè§„èŒƒå‰ç«¯ä»£ç æ ¼å¼]]></title>
    <url>%2Fblog%2F2019%2F09%2F20%2F%E7%94%A8eslint%2Cprettier%2Cpre-commit%E8%A7%84%E8%8C%83%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[å‰è¨€æ¯ä¸ªäººçš„ä»£ç é£Žæ ¼ä¸ä¸€,ä½†å¯¹äºŽå›¢é˜Ÿæ¥è¯´,ä»£ç é£Žæ ¼çš„ç»Ÿä¸€æœ‰åŠ©äºŽå›¢é˜Ÿä¹‹é—´çš„åä½œ,è‰¯å¥½çš„ä»£ç é£Žæ ¼æ›´ä¼šä»¤äººèµå¿ƒæ‚¦ç›®ã€‚ä½†æ˜¯çŽ°å®žæ€»ä¼šä¸å¦‚æ„¿,å¯èƒ½ä¸€å¼€å§‹å¾ˆè§„èŒƒçš„é¡¹ç›®éšç€å·¥ä½œè¿›åº¦çš„æŽ¨å±•,ä»£ç ä¹Ÿä¼šå˜å¾—å‡Œä¹±ã€‚äººä¸ºçš„è¿›è¡Œä»£ç é£Žæ ¼æ£€æŸ¥æ— ç–‘æ˜¯ä¸€ç§ä½Žæ•ˆçŽ‡ä¸”ä¸å¯é çš„æ–¹å¼,æ‰€ä»¥æˆ‘ä»¬éœ€è¦å€ŸåŠ©å·¥å…·æ¥è¿›è¡Œå¼ºåˆ¶çš„ä»£ç é£Žæ ¼æ£€æŸ¥ eslintESLintæ˜¯ä¸€ä¸ªç”¨æ¥è¯†åˆ« ECMAScript å¹¶ä¸”æŒ‰ç…§è§„åˆ™ç»™å‡ºæŠ¥å‘Šçš„ä»£ç æ£€æµ‹å·¥å…·ï¼Œä½¿ç”¨å®ƒå¯ä»¥é¿å…ä½Žçº§é”™è¯¯å’Œç»Ÿä¸€ä»£ç çš„é£Žæ ¼ã€‚ESLintè¢«è®¾è®¡ä¸ºå®Œå…¨å¯é…ç½®çš„ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼æ¥é…ç½®ESLintï¼š åœ¨æ³¨é‡Šä¸­é…ç½®ï¼šä½¿ç”¨JavaScriptæ³¨é‡Šç›´æŽ¥æŠŠé…ç½®åµŒå…¥åˆ°JSæ–‡ä»¶ä¸­ã€‚ é…ç½®æ–‡ä»¶ï¼šä½¿ç”¨ä¸‹é¢ä»»ä¸€çš„æ–‡ä»¶æ¥ä¸ºå…¨éƒ¨çš„ç›®å½•å’Œå®ƒçš„å­ç›®å½•æŒ‡å®šé…ç½®ä¿¡æ¯ javascriptï¼šä½¿ç”¨.eslintrc.jsæ–‡ä»¶å¹¶å¯¼å‡ºä¸€ä¸ªåŒ…å«é…ç½®çš„å¯¹è±¡ã€‚ YAMLï¼š.eslintrc.yamlæˆ–è€….eslintrc.yml JSONï¼š.eslintrc.jsonï¼Œå¹¶ä¸”æ­¤æ–‡ä»¶å…è®¸ä½¿ç”¨JSå½¢å¼çš„æ³¨é‡Š åºŸå¼ƒçš„ç”¨æ³•ï¼š.eslintrcï¼Œæ­¤æ–‡ä»¶å¯ä»¥æ˜¯JSONæˆ–è€…YAML package.jsonï¼šåœ¨package.jsonæ–‡ä»¶ä¸­åˆ›å»ºeslintConfigå±žæ€§ï¼Œæ‰€æœ‰çš„é…ç½®åŒ…å«åœ¨æ­¤å±žæ€§ä¸­ è¿™äº›æ–‡ä»¶çš„ä¼˜å…ˆçº§åˆ™æ˜¯æŒ‰ç…§ä»¥ä¸Šå‡ºçŽ°çš„é¡ºåºï¼ˆ.eslintrc.js &gt; .eslintrc.yaml &gt; .eslintrc.yml &gt; .eslintrc.json&gt; .eslintrc &gt; package.jsonï¼‰ å¯ä»¥è¢«é…ç½®çš„ä¿¡æ¯ä¸»è¦åˆ†ä¸º3ç±»ï¼š Environmentsï¼šä½ çš„ javascript è„šæ­¥å°†è¦è¿è¡Œåœ¨ä»€ä¹ˆçŽ¯å¢ƒï¼ˆå¦‚ï¼šnodejsï¼Œbrowserï¼Œcommonjsç­‰ï¼‰ä¸­ã€‚ Globalsï¼šæ‰§è¡Œä»£ç æ—¶è„šæ­¥éœ€è¦è®¿é—®çš„é¢å¤–å…¨å±€å˜é‡ã€‚ Rulesï¼šå¼€å¯æŸäº›è§„åˆ™ï¼Œä¹Ÿå¯ä»¥è®¾ç½®è§„åˆ™çš„ç­‰çº§ã€‚ å®‰è£…yarn add eslint æˆ–è€…å…¨å±€å®‰è£… yarn global add eslint è§„åˆ™é…ç½®123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515&#123; // çŽ¯å¢ƒå®šä¹‰äº†é¢„å®šä¹‰çš„å…¨å±€å˜é‡ã€‚ "env": &#123; //çŽ¯å¢ƒå®šä¹‰äº†é¢„å®šä¹‰çš„å…¨å±€å˜é‡ã€‚æ›´å¤šåœ¨å®˜ç½‘æŸ¥çœ‹ "browser": true, "node": true, "commonjs": true, "amd": true, "es6":true, "mocha":true &#125;, // JavaScript è¯­è¨€é€‰é¡¹ "parserOptions": &#123; // ECMAScript ç‰ˆæœ¬ "ecmaVersion": 6, "sourceType": "script",//module // æƒ³ä½¿ç”¨çš„é¢å¤–çš„è¯­è¨€ç‰¹æ€§: "ecmaFeatures": &#123; // å…è®¸åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ä½¿ç”¨ return è¯­å¥ "globalReturn":true, // impliedStric "impliedStrict":true, // å¯ç”¨ JSX "jsx":true &#125; &#125;, /** * "off" æˆ– 0 - å…³é—­è§„åˆ™ * "warn" æˆ– 1 - å¼€å¯è§„åˆ™ï¼Œä½¿ç”¨è­¦å‘Šçº§åˆ«çš„é”™è¯¯ï¼šwarn (ä¸ä¼šå¯¼è‡´ç¨‹åºé€€å‡º), * "error" æˆ– 2 - å¼€å¯è§„åˆ™ï¼Œä½¿ç”¨é”™è¯¯çº§åˆ«çš„é”™è¯¯ï¼šerror (å½“è¢«è§¦å‘çš„æ—¶å€™ï¼Œç¨‹åºä¼šé€€å‡º) */ "rules": &#123; //////////////// // å¯èƒ½çš„é”™è¯¯ // //////////////// // ç¦æ­¢æ¡ä»¶è¡¨è¾¾å¼ä¸­å‡ºçŽ°èµ‹å€¼æ“ä½œç¬¦ "no-cond-assign": 2, // ç¦ç”¨ console "no-console": 0, // ç¦æ­¢åœ¨æ¡ä»¶ä¸­ä½¿ç”¨å¸¸é‡è¡¨è¾¾å¼ // if (false) &#123; // doSomethingUnfinished(); // &#125; //cuowu "no-constant-condition": 2, // ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æŽ§åˆ¶å­—ç¬¦ ï¼šnew RegExp("\x1f") "no-control-regex": 2, // æ•°ç»„å’Œå¯¹è±¡é”®å€¼å¯¹æœ€åŽä¸€ä¸ªé€—å·ï¼Œ neverå‚æ•°ï¼šä¸èƒ½å¸¦æœ«å°¾çš„é€—å·, alwayså‚æ•°ï¼šå¿…é¡»å¸¦æœ«å°¾çš„é€—å·ï¼Œ // always-multilineï¼šå¤šè¡Œæ¨¡å¼å¿…é¡»å¸¦é€—å·ï¼Œå•è¡Œæ¨¡å¼ä¸èƒ½å¸¦é€—å· "comma-dangle": [1, "always-multiline"], // ç¦ç”¨ debugger "no-debugger": 2, // ç¦æ­¢ function å®šä¹‰ä¸­å‡ºçŽ°é‡åå‚æ•° "no-dupe-args": 2, // ç¦æ­¢å¯¹è±¡å­—é¢é‡ä¸­å‡ºçŽ°é‡å¤çš„ key "no-dupe-keys": 2, // ç¦æ­¢é‡å¤çš„ case æ ‡ç­¾ "no-duplicate-case": 2, // ç¦æ­¢ç©ºè¯­å¥å— "no-empty": 2, // ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨ç©ºå­—ç¬¦é›† (/^abc[]/) "no-empty-character-class": 2, // ç¦æ­¢å¯¹ catch å­å¥çš„å‚æ•°é‡æ–°èµ‹å€¼ "no-ex-assign": 2, // ç¦æ­¢ä¸å¿…è¦çš„å¸ƒå°”è½¬æ¢ "no-extra-boolean-cast": 2, // ç¦æ­¢ä¸å¿…è¦çš„æ‹¬å· //(a * b) + c;//æŠ¥é”™ "no-extra-parens": 0, // ç¦æ­¢ä¸å¿…è¦çš„åˆ†å· "no-extra-semi": 2, // ç¦æ­¢å¯¹ function å£°æ˜Žé‡æ–°èµ‹å€¼ "no-func-assign": 2, // ç¦æ­¢åœ¨åµŒå¥—çš„å—ä¸­å‡ºçŽ° function æˆ– var å£°æ˜Ž "no-inner-declarations": [2, "functions"], // ç¦æ­¢ RegExp æž„é€ å‡½æ•°ä¸­æ— æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸² "no-invalid-regexp": 2, // ç¦æ­¢åœ¨å­—ç¬¦ä¸²å’Œæ³¨é‡Šä¹‹å¤–ä¸è§„åˆ™çš„ç©ºç™½ "no-irregular-whitespace": 2, // ç¦æ­¢åœ¨ in è¡¨è¾¾å¼ä¸­å‡ºçŽ°å¦å®šçš„å·¦æ“ä½œæ•° "no-negated-in-lhs": 2, // ç¦æ­¢æŠŠå…¨å±€å¯¹è±¡ (Math å’Œ JSON) ä½œä¸ºå‡½æ•°è°ƒç”¨ é”™è¯¯ï¼švar math = Math(); "no-obj-calls": 2, // ç¦æ­¢ç›´æŽ¥ä½¿ç”¨ Object.prototypes çš„å†…ç½®å±žæ€§ "no-prototype-builtins":0, // ç¦æ­¢æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¸­å‡ºçŽ°å¤šä¸ªç©ºæ ¼ "no-regex-spaces": 2, // ç¦ç”¨ç¨€ç–æ•°ç»„ "no-sparse-arrays": 2, // ç¦æ­¢å‡ºçŽ°ä»¤äººå›°æƒ‘çš„å¤šè¡Œè¡¨è¾¾å¼ "no-unexpected-multiline": 2, // ç¦æ­¢åœ¨returnã€throwã€continue å’Œ breakè¯­å¥ä¹‹åŽå‡ºçŽ°ä¸å¯è¾¾ä»£ç  /* function foo() &#123; return true; console.log("done"); &#125;//é”™è¯¯ */ "no-unreachable": 2, // è¦æ±‚ä½¿ç”¨ isNaN() æ£€æŸ¥ NaN "use-isnan": 2, // å¼ºåˆ¶ä½¿ç”¨æœ‰æ•ˆçš„ JSDoc æ³¨é‡Š "valid-jsdoc": 1, // å¼ºåˆ¶ typeof è¡¨è¾¾å¼ä¸Žæœ‰æ•ˆçš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒ // typeof foo === "undefimed" é”™è¯¯ "valid-typeof": 2, ////////////// // æœ€ä½³å®žè·µ // ////////////// // å®šä¹‰å¯¹è±¡çš„setå­˜å–å™¨å±žæ€§æ—¶ï¼Œå¼ºåˆ¶å®šä¹‰get "accessor-pairs": 2, // å¼ºåˆ¶æ•°ç»„æ–¹æ³•çš„å›žè°ƒå‡½æ•°ä¸­æœ‰ return è¯­å¥ "array-callback-return":0, // å¼ºåˆ¶æŠŠå˜é‡çš„ä½¿ç”¨é™åˆ¶åœ¨å…¶å®šä¹‰çš„ä½œç”¨åŸŸèŒƒå›´å†… "block-scoped-var": 0, // é™åˆ¶åœˆå¤æ‚åº¦ï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼if elseèƒ½è¿žç»­æŽ¥å¤šå°‘ä¸ª "complexity": [2, 9], // è¦æ±‚ return è¯­å¥è¦ä¹ˆæ€»æ˜¯æŒ‡å®šè¿”å›žçš„å€¼ï¼Œè¦ä¹ˆä¸æŒ‡å®š "consistent-return": 0, // å¼ºåˆ¶æ‰€æœ‰æŽ§åˆ¶è¯­å¥ä½¿ç”¨ä¸€è‡´çš„æ‹¬å·é£Žæ ¼ "curly": [2, "all"], // switch è¯­å¥å¼ºåˆ¶ default åˆ†æ”¯ï¼Œä¹Ÿå¯æ·»åŠ  // no default æ³¨é‡Šå–æ¶ˆæ­¤æ¬¡è­¦å‘Š "default-case": 2, // å¼ºåˆ¶object.key ä¸­ . çš„ä½ç½®ï¼Œå‚æ•°: // propertyï¼Œ'.'å·åº”ä¸Žå±žæ€§åœ¨åŒä¸€è¡Œ // object, '.' å·åº”ä¸Žå¯¹è±¡ååœ¨åŒä¸€è¡Œ "dot-location": [2, "property"], // å¼ºåˆ¶ä½¿ç”¨.å·å–å±žæ€§ // å‚æ•°ï¼š allowKeywordsï¼štrue ä½¿ç”¨ä¿ç•™å­—åšå±žæ€§åæ—¶ï¼Œåªèƒ½ä½¿ç”¨.æ–¹å¼å–å±žæ€§ // false ä½¿ç”¨ä¿ç•™å­—åšå±žæ€§åæ—¶, åªèƒ½ä½¿ç”¨[]æ–¹å¼å–å±žæ€§ e.g [2, &#123;"allowKeywords": false&#125;] // allowPattern: å½“å±žæ€§ååŒ¹é…æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œå…è®¸ä½¿ç”¨[]æ–¹å¼å–å€¼,å¦åˆ™åªèƒ½ç”¨.å·å–å€¼ e.g [2, &#123;"allowPattern": "^[a-z]+(_[a-z]+)+$"&#125;] "dot-notation": [2, &#123; "allowKeywords": false &#125;], // ä½¿ç”¨ === æ›¿ä»£ == allow-nullå…è®¸nullå’Œundefined== "eqeqeq": [2, "allow-null"], // è¦æ±‚ for-in å¾ªçŽ¯ä¸­æœ‰ä¸€ä¸ª if è¯­å¥ "guard-for-in": 2, // ç¦ç”¨ alertã€confirm å’Œ prompt "no-alert": 0, // ç¦ç”¨ arguments.caller æˆ– arguments.callee "no-caller": 2, // ä¸å…è®¸åœ¨ case å­å¥ä¸­ä½¿ç”¨è¯æ³•å£°æ˜Ž "no-case-declarations":2, // ç¦æ­¢é™¤æ³•æ“ä½œç¬¦æ˜¾å¼çš„å‡ºçŽ°åœ¨æ­£åˆ™è¡¨è¾¾å¼å¼€å§‹çš„ä½ç½® "no-div-regex": 2, // ç¦æ­¢ if è¯­å¥ä¸­æœ‰ return ä¹‹åŽæœ‰ else "no-else-return": 0, // ç¦æ­¢å‡ºçŽ°ç©ºå‡½æ•°.å¦‚æžœä¸€ä¸ªå‡½æ•°åŒ…å«äº†ä¸€æ¡æ³¨é‡Šï¼Œå®ƒå°†ä¸ä¼šè¢«è®¤ä¸ºæœ‰é—®é¢˜ã€‚ "no-empty-function":2, // ç¦æ­¢ä½¿ç”¨ç©ºè§£æž„æ¨¡å¼no-empty-pattern "no-empty-pattern":2, // ç¦æ­¢åœ¨æ²¡æœ‰ç±»åž‹æ£€æŸ¥æ“ä½œç¬¦çš„æƒ…å†µä¸‹ä¸Ž null è¿›è¡Œæ¯”è¾ƒ "no-eq-null": 1, // ç¦ç”¨ eval() "no-eval": 2, // ç¦æ­¢æ‰©å±•åŽŸç”Ÿç±»åž‹ "no-extend-native": 2, // ç¦æ­¢ä¸å¿…è¦çš„ .bind() è°ƒç”¨ "no-extra-bind": 2, // ç¦ç”¨ä¸å¿…è¦çš„æ ‡ç­¾ "no-extra-label:":0, // ç¦æ­¢ case è¯­å¥è½ç©º "no-fallthrough": 2, // ç¦æ­¢æ•°å­—å­—é¢é‡ä¸­ä½¿ç”¨å‰å¯¼å’Œæœ«å°¾å°æ•°ç‚¹ "no-floating-decimal": 2, // ç¦æ­¢ä½¿ç”¨çŸ­ç¬¦å·è¿›è¡Œç±»åž‹è½¬æ¢(!!fOO) "no-implicit-coercion":0, // ç¦æ­¢åœ¨å…¨å±€èŒƒå›´å†…ä½¿ç”¨ var å’Œå‘½åçš„ function å£°æ˜Ž "no-implicit-globals":1, // ç¦æ­¢ä½¿ç”¨ç±»ä¼¼ eval() çš„æ–¹æ³• "no-implied-eval": 2, // ç¦æ­¢ this å…³é”®å­—å‡ºçŽ°åœ¨ç±»å’Œç±»å¯¹è±¡ä¹‹å¤– "no-invalid-this":0, // ç¦ç”¨ __iterator__ å±žæ€§ "no-iterator": 2, // ç¦ç”¨æ ‡ç­¾è¯­å¥ "no-labels": 2, // ç¦ç”¨ä¸å¿…è¦çš„åµŒå¥—å— "no-lone-blocks": 2, // ç¦æ­¢åœ¨å¾ªçŽ¯ä¸­å‡ºçŽ° function å£°æ˜Žå’Œè¡¨è¾¾å¼ "no-loop-func":1, // ç¦ç”¨é­”æœ¯æ•°å­—(3.14ä»€ä¹ˆçš„ç”¨å¸¸é‡ä»£æ›¿) "no-magic-numbers":[1,&#123; "ignore": [0,-1,1] &#125;], // ç¦æ­¢ä½¿ç”¨å¤šä¸ªç©ºæ ¼ "no-multi-spaces": 2, // ç¦æ­¢ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²ï¼Œåœ¨ JavaScript ä¸­ï¼Œå¯ä»¥åœ¨æ–°è¡Œä¹‹å‰ä½¿ç”¨æ–œçº¿åˆ›å»ºå¤šè¡Œå­—ç¬¦ä¸² "no-multi-str": 2, // ç¦æ­¢å¯¹åŽŸç”Ÿå¯¹è±¡èµ‹å€¼ "no-native-reassign": 2, // ç¦æ­¢åœ¨éžèµ‹å€¼æˆ–æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ new æ“ä½œç¬¦ "no-new": 2, // ç¦æ­¢å¯¹ Function å¯¹è±¡ä½¿ç”¨ new æ“ä½œç¬¦ "no-new-func": 0, // ç¦æ­¢å¯¹ Stringï¼ŒNumber å’Œ Boolean ä½¿ç”¨ new æ“ä½œç¬¦ "no-new-wrappers": 2, // ç¦ç”¨å…«è¿›åˆ¶å­—é¢é‡ "no-octal": 2, // ç¦æ­¢åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å…«è¿›åˆ¶è½¬ä¹‰åºåˆ— "no-octal-escape": 2, // ä¸å…è®¸å¯¹ function çš„å‚æ•°è¿›è¡Œé‡æ–°èµ‹å€¼ "no-param-reassign": 0, // ç¦ç”¨ __proto__ å±žæ€§ "no-proto": 2, // ç¦æ­¢ä½¿ç”¨ var å¤šæ¬¡å£°æ˜ŽåŒä¸€å˜é‡ "no-redeclare": 2, // ç¦ç”¨æŒ‡å®šçš„é€šè¿‡ require åŠ è½½çš„æ¨¡å— "no-return-assign": 0, // ç¦æ­¢ä½¿ç”¨ javascript: url "no-script-url": 0, // ç¦æ­¢è‡ªæˆ‘èµ‹å€¼ "no-self-assign":2, // ç¦æ­¢è‡ªèº«æ¯”è¾ƒ "no-self-compare": 2, // ç¦ç”¨é€—å·æ“ä½œç¬¦ "no-sequences": 2, // ç¦æ­¢æŠ›å‡ºéžå¼‚å¸¸å­—é¢é‡ "no-throw-literal": 2, // ç¦ç”¨ä¸€æˆä¸å˜çš„å¾ªçŽ¯æ¡ä»¶ "no-unmodified-loop-condition":2, // ç¦æ­¢å‡ºçŽ°æœªä½¿ç”¨è¿‡çš„è¡¨è¾¾å¼ "no-unused-expressions": 0, // ç¦ç”¨æœªä½¿ç”¨è¿‡çš„æ ‡ç­¾ "no-unused-labels":2, // ç¦æ­¢ä¸å¿…è¦çš„ .call() å’Œ .apply() "no-useless-call":2, // ç¦æ­¢ä¸å¿…è¦çš„å­—ç¬¦ä¸²å­—é¢é‡æˆ–æ¨¡æ¿å­—é¢é‡çš„è¿žæŽ¥ "no-useless-concat":2, // ç¦ç”¨ä¸å¿…è¦çš„è½¬ä¹‰å­—ç¬¦ "no-useless-escape":0, // ç¦ç”¨ void æ“ä½œç¬¦ "no-void": 0, // ç¦æ­¢åœ¨æ³¨é‡Šä¸­ä½¿ç”¨ç‰¹å®šçš„è­¦å‘Šæœ¯è¯­ "no-warning-comments": 0, // ç¦ç”¨ with è¯­å¥ "no-with": 2, // å¼ºåˆ¶åœ¨parseInt()ä½¿ç”¨åŸºæ•°å‚æ•° "radix": 2, // è¦æ±‚æ‰€æœ‰çš„ var å£°æ˜Žå‡ºçŽ°åœ¨å®ƒä»¬æ‰€åœ¨çš„ä½œç”¨åŸŸé¡¶éƒ¨ "vars-on-top": 0, // è¦æ±‚ IIFE ä½¿ç”¨æ‹¬å·æ‹¬èµ·æ¥ "wrap-iife": [2, "any"], // è¦æ±‚æˆ–ç¦æ­¢ â€œYodaâ€ æ¡ä»¶ "yoda": [2, "never"], // è¦æ±‚æˆ–ç¦æ­¢ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼æŒ‡ä»¤ "strict": 0, ////////////// // å˜é‡å£°æ˜Ž // ////////////// // è¦æ±‚æˆ–ç¦æ­¢ var å£°æ˜Žä¸­çš„åˆå§‹åŒ–(åˆå€¼) "init-declarations":0, // ä¸å…è®¸ catch å­å¥çš„å‚æ•°ä¸Žå¤–å±‚ä½œç”¨åŸŸä¸­çš„å˜é‡åŒå "no-catch-shadow": 0, // ç¦æ­¢åˆ é™¤å˜é‡ "no-delete-var": 2, // ä¸å…è®¸æ ‡ç­¾ä¸Žå˜é‡åŒå "no-label-var": 2, // ç¦ç”¨ç‰¹å®šçš„å…¨å±€å˜é‡ "no-restricted-globals":0, // ç¦æ­¢ var å£°æ˜Ž ä¸Žå¤–å±‚ä½œç”¨åŸŸçš„å˜é‡åŒå "no-shadow": 0, // ç¦æ­¢è¦†ç›–å—é™åˆ¶çš„æ ‡è¯†ç¬¦ "no-shadow-restricted-names": 2, // ç¦ç”¨æœªå£°æ˜Žçš„å˜é‡ï¼Œé™¤éžå®ƒä»¬åœ¨ /*global */ æ³¨é‡Šä¸­è¢«æåˆ° "no-undef": 2, // ç¦æ­¢å°†å˜é‡åˆå§‹åŒ–ä¸º undefined "no-undef-init": 2, // ç¦æ­¢å°† undefined ä½œä¸ºæ ‡è¯†ç¬¦ "no-undefined": 0, // ç¦æ­¢å‡ºçŽ°æœªä½¿ç”¨è¿‡çš„å˜é‡ "no-unused-vars": [2, &#123; "vars": "all", "args": "none" &#125;], // ä¸å…è®¸åœ¨å˜é‡å®šä¹‰ä¹‹å‰ä½¿ç”¨å®ƒä»¬ "no-use-before-define": 0, ////////////////////////// // Node.js and CommonJS // ////////////////////////// // require return statements after callbacks "callback-return":0, // è¦æ±‚ require() å‡ºçŽ°åœ¨é¡¶å±‚æ¨¡å—ä½œç”¨åŸŸä¸­ "global-require": 1, // è¦æ±‚å›žè°ƒå‡½æ•°ä¸­æœ‰å®¹é”™å¤„ç† "handle-callback-err": [2, "^(err|error)$"], // ç¦æ­¢æ··åˆå¸¸è§„ var å£°æ˜Žå’Œ require è°ƒç”¨ "no-mixed-requires": 0, // ç¦æ­¢è°ƒç”¨ require æ—¶ä½¿ç”¨ new æ“ä½œç¬¦ "no-new-require": 2, // ç¦æ­¢å¯¹ __dirname å’Œ __filenameè¿›è¡Œå­—ç¬¦ä¸²è¿žæŽ¥ "no-path-concat": 0, // ç¦ç”¨ process.env "no-process-env": 0, // ç¦ç”¨ process.exit() "no-process-exit": 0, // ç¦ç”¨åŒæ­¥æ–¹æ³• "no-sync": 0, ////////////// // é£Žæ ¼æŒ‡å— // ////////////// // æŒ‡å®šæ•°ç»„çš„å…ƒç´ ä¹‹é—´è¦ä»¥ç©ºæ ¼éš”å¼€(, åŽé¢)ï¼Œ neverå‚æ•°ï¼š[ ä¹‹å‰å’Œ ] ä¹‹åŽä¸èƒ½å¸¦ç©ºæ ¼ï¼Œalwayså‚æ•°ï¼š[ ä¹‹å‰å’Œ ] ä¹‹åŽå¿…é¡»å¸¦ç©ºæ ¼ "array-bracket-spacing": [2, "never"], // ç¦æ­¢æˆ–å¼ºåˆ¶åœ¨å•è¡Œä»£ç å—ä¸­ä½¿ç”¨ç©ºæ ¼(ç¦ç”¨) "block-spacing":[1,"never"], //å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„ç¼©è¿› ç¬¬äºŒä¸ªå‚æ•°ä¸º "tab" æ—¶ï¼Œä¼šä½¿ç”¨tabï¼Œ // if while function åŽé¢çš„&#123;å¿…é¡»ä¸Žifåœ¨åŒä¸€è¡Œï¼Œjavaé£Žæ ¼ã€‚ "brace-style": [2, "1tbs", &#123; "allowSingleLine": true &#125;], // åŒå³°é©¼å‘½åæ ¼å¼ "camelcase": 2, // æŽ§åˆ¶é€—å·å‰åŽçš„ç©ºæ ¼ "comma-spacing": [2, &#123; "before": false, "after": true &#125;], // æŽ§åˆ¶é€—å·åœ¨è¡Œå°¾å‡ºçŽ°è¿˜æ˜¯åœ¨è¡Œé¦–å‡ºçŽ° (é»˜è®¤è¡Œå°¾) // http://eslint.org/docs/rules/comma-style "comma-style": [2, "last"], //"SwitchCase" (é»˜è®¤ï¼š0) å¼ºåˆ¶ switch è¯­å¥ä¸­çš„ case å­å¥çš„ç¼©è¿›æ°´å¹³ // ä»¥æ–¹æ‹¬å·å–å¯¹è±¡å±žæ€§æ—¶ï¼Œ[ åŽé¢å’Œ ] å‰é¢æ˜¯å¦éœ€è¦ç©ºæ ¼, å¯é€‰å‚æ•° never, always "computed-property-spacing": [2, "never"], // ç”¨äºŽæŒ‡ç»Ÿä¸€åœ¨å›žè°ƒå‡½æ•°ä¸­æŒ‡å‘thisçš„å˜é‡åï¼Œç®­å¤´å‡½æ•°ä¸­çš„thiså·²ç»å¯ä»¥æŒ‡å‘å¤–å±‚è°ƒç”¨è€…ï¼Œåº”è¯¥æ²¡åµç”¨äº† // e.g [0,"that"] æŒ‡å®šåªèƒ½ var that = this. thatä¸èƒ½æŒ‡å‘å…¶ä»–ä»»ä½•å€¼ï¼Œthisä¹Ÿä¸èƒ½èµ‹å€¼ç»™thatä»¥å¤–çš„å…¶ä»–å€¼ "consistent-this": [1,"that"], // å¼ºåˆ¶ä½¿ç”¨å‘½åçš„ function è¡¨è¾¾å¼ "func-names": 0, // æ–‡ä»¶æœ«å°¾å¼ºåˆ¶æ¢è¡Œ "eol-last": 2, "indent": [2, 4, &#123; "SwitchCase": 1 &#125;], // å¼ºåˆ¶åœ¨å¯¹è±¡å­—é¢é‡çš„å±žæ€§ä¸­é”®å’Œå€¼ä¹‹é—´ä½¿ç”¨ä¸€è‡´çš„é—´è· "key-spacing": [2, &#123; "beforeColon": false, "afterColon": true &#125;], // å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„æ¢è¡Œé£Žæ ¼ "linebreak-style": [1,"unix"], // è¦æ±‚åœ¨æ³¨é‡Šå‘¨å›´æœ‰ç©ºè¡Œ ( è¦æ±‚åœ¨å—çº§æ³¨é‡Šä¹‹å‰æœ‰ä¸€ç©ºè¡Œ) "lines-around-comment": [1,&#123;"beforeBlockComment":true&#125;], // å¼ºåˆ¶ä¸€è‡´åœ°ä½¿ç”¨å‡½æ•°å£°æ˜Žæˆ–å‡½æ•°è¡¨è¾¾å¼ï¼Œæ–¹æ³•å®šä¹‰é£Žæ ¼ï¼Œå‚æ•°ï¼š // declaration: å¼ºåˆ¶ä½¿ç”¨æ–¹æ³•å£°æ˜Žçš„æ–¹å¼ï¼Œfunction f()&#123;&#125; e.g [2, "declaration"] // expressionï¼šå¼ºåˆ¶ä½¿ç”¨æ–¹æ³•è¡¨è¾¾å¼çš„æ–¹å¼ï¼Œvar f = function() &#123;&#125; e.g [2, "expression"] // allowArrowFunctions: declarationé£Žæ ¼ä¸­å…è®¸ç®­å¤´å‡½æ•°ã€‚ e.g [2, "declaration", &#123; "allowArrowFunctions": true &#125;] "func-style": 0, // å¼ºåˆ¶å›žè°ƒå‡½æ•°æœ€å¤§åµŒå¥—æ·±åº¦ 5å±‚ "max-nested-callbacks": [1,5], // ç¦æ­¢ä½¿ç”¨æŒ‡å®šçš„æ ‡è¯†ç¬¦ "id-blacklist":0, // å¼ºåˆ¶æ ‡è¯†ç¬¦çš„æœ€æ–°å’Œæœ€å¤§é•¿åº¦ "id-length":0, // è¦æ±‚æ ‡è¯†ç¬¦åŒ¹é…ä¸€ä¸ªæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ "id-match":0, // å¼ºåˆ¶åœ¨ JSX å±žæ€§ä¸­ä¸€è‡´åœ°ä½¿ç”¨åŒå¼•å·æˆ–å•å¼•å· "jsx-quotes":0, // å¼ºåˆ¶åœ¨å…³é”®å­—å‰åŽä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ (å‰åŽè…°éœ€è¦) "keyword-spacing":2, // å¼ºåˆ¶ä¸€è¡Œçš„æœ€å¤§é•¿åº¦ "max-len":[1,200], // å¼ºåˆ¶æœ€å¤§è¡Œæ•° "max-lines":0, // å¼ºåˆ¶ function å®šä¹‰ä¸­æœ€å¤šå…è®¸çš„å‚æ•°æ•°é‡ "max-params":[1,7], // å¼ºåˆ¶ function å—æœ€å¤šå…è®¸çš„çš„è¯­å¥æ•°é‡ "max-statements":[1,200], // å¼ºåˆ¶æ¯ä¸€è¡Œä¸­æ‰€å…è®¸çš„æœ€å¤§è¯­å¥æ•°é‡ "max-statements-per-line":0, // è¦æ±‚æž„é€ å‡½æ•°é¦–å­—æ¯å¤§å†™ ï¼ˆè¦æ±‚è°ƒç”¨ new æ“ä½œç¬¦æ—¶æœ‰é¦–å­—æ¯å¤§å°çš„å‡½æ•°ï¼Œå…è®¸è°ƒç”¨é¦–å­—æ¯å¤§å†™çš„å‡½æ•°æ—¶æ²¡æœ‰ new æ“ä½œç¬¦ã€‚ï¼‰ "new-cap": [2, &#123; "newIsCap": true, "capIsNew": false &#125;], // è¦æ±‚è°ƒç”¨æ— å‚æž„é€ å‡½æ•°æ—¶æœ‰åœ†æ‹¬å· "new-parens": 2, // è¦æ±‚æˆ–ç¦æ­¢ var å£°æ˜Žè¯­å¥åŽæœ‰ä¸€è¡Œç©ºè¡Œ "newline-after-var": 0, // ç¦æ­¢ä½¿ç”¨ Array æž„é€ å‡½æ•° "no-array-constructor": 2, // ç¦ç”¨æŒ‰ä½è¿ç®—ç¬¦ "no-bitwise":0, // è¦æ±‚ return è¯­å¥ä¹‹å‰æœ‰ä¸€ç©ºè¡Œ "newline-before-return":0, // è¦æ±‚æ–¹æ³•é“¾ä¸­æ¯ä¸ªè°ƒç”¨éƒ½æœ‰ä¸€ä¸ªæ¢è¡Œç¬¦ "newline-per-chained-call":1, // ç¦ç”¨ continue è¯­å¥ "no-continue": 0, // ç¦æ­¢åœ¨ä»£ç è¡ŒåŽä½¿ç”¨å†…è”æ³¨é‡Š "no-inline-comments": 0, // ç¦æ­¢ if ä½œä¸ºå”¯ä¸€çš„è¯­å¥å‡ºçŽ°åœ¨ else è¯­å¥ä¸­ "no-lonely-if": 0, // ç¦æ­¢æ··åˆä½¿ç”¨ä¸åŒçš„æ“ä½œç¬¦ "no-mixed-operators":0, // ä¸å…è®¸ç©ºæ ¼å’Œ tab æ··åˆç¼©è¿› "no-mixed-spaces-and-tabs": 2, // ä¸å…è®¸å¤šä¸ªç©ºè¡Œ "no-multiple-empty-lines": [2, &#123; "max": 2 &#125;], // ä¸å…è®¸å¦å®šçš„è¡¨è¾¾å¼ "no-negated-condition":0, // ä¸å…è®¸ä½¿ç”¨åµŒå¥—çš„ä¸‰å…ƒè¡¨è¾¾å¼ "no-nested-ternary": 0, // ç¦æ­¢ä½¿ç”¨ Object çš„æž„é€ å‡½æ•° "no-new-object": 2, // ç¦æ­¢ä½¿ç”¨ä¸€å…ƒæ“ä½œç¬¦ ++ å’Œ -- "no-plusplus":0, // ç¦æ­¢ä½¿ç”¨ç‰¹å®šçš„è¯­æ³• "no-restricted-syntax":0, // ç¦æ­¢ function æ ‡è¯†ç¬¦å’Œæ‹¬å·ä¹‹é—´å‡ºçŽ°ç©ºæ ¼ "no-spaced-func": 2, // ä¸å…è®¸ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦ "no-ternary": 0, // ç¦ç”¨è¡Œå°¾ç©ºæ ¼ "no-trailing-spaces": 2, // ç¦æ­¢æ ‡è¯†ç¬¦ä¸­æœ‰æ‚¬ç©ºä¸‹åˆ’çº¿_bar "no-underscore-dangle": 0, // ç¦æ­¢å¯ä»¥åœ¨æœ‰æ›´ç®€å•çš„å¯æ›¿ä»£çš„è¡¨è¾¾å¼æ—¶ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦ "no-unneeded-ternary": 2, // ç¦æ­¢å±žæ€§å‰æœ‰ç©ºç™½ "no-whitespace-before-property":0, // å¼ºåˆ¶èŠ±æ‹¬å·å†…æ¢è¡Œç¬¦çš„ä¸€è‡´æ€§ "object-curly-newline":0, // å¼ºåˆ¶åœ¨èŠ±æ‹¬å·ä¸­ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ "object-curly-spacing": 0, // å¼ºåˆ¶å°†å¯¹è±¡çš„å±žæ€§æ”¾åœ¨ä¸åŒçš„è¡Œä¸Š "object-property-newline":0, // å¼ºåˆ¶å‡½æ•°ä¸­çš„å˜é‡è¦ä¹ˆä¸€èµ·å£°æ˜Žè¦ä¹ˆåˆ†å¼€å£°æ˜Ž "one-var": [2, &#123; "initialized": "never" &#125;], // è¦æ±‚æˆ–ç¦æ­¢åœ¨ var å£°æ˜Žå‘¨å›´æ¢è¡Œ "one-var-declaration-per-line":0, // è¦æ±‚æˆ–ç¦æ­¢åœ¨å¯èƒ½çš„æƒ…å†µä¸‹è¦æ±‚ä½¿ç”¨ç®€åŒ–çš„èµ‹å€¼æ“ä½œç¬¦ "operator-assignment": 0, // å¼ºåˆ¶æ“ä½œç¬¦ä½¿ç”¨ä¸€è‡´çš„æ¢è¡Œç¬¦ "operator-linebreak": [2, "after", &#123; "overrides": &#123; "?": "before", ":": "before" &#125; &#125;], // è¦æ±‚æˆ–ç¦æ­¢å—å†…å¡«å…… "padded-blocks": 0, // è¦æ±‚å¯¹è±¡å­—é¢é‡å±žæ€§åç§°ç”¨å¼•å·æ‹¬èµ·æ¥ "quote-props": 0, // å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„åå‹¾å·ã€åŒå¼•å·æˆ–å•å¼•å· "quotes": [2, "single", "avoid-escape"], // è¦æ±‚ä½¿ç”¨ JSDoc æ³¨é‡Š "require-jsdoc":1, // è¦æ±‚æˆ–ç¦æ­¢ä½¿ç”¨åˆ†å·è€Œä¸æ˜¯ ASIï¼ˆè¿™ä¸ªæ‰æ˜¯æŽ§åˆ¶è¡Œå°¾éƒ¨åˆ†å·çš„ï¼Œï¼‰ "semi": [2, "always"], // å¼ºåˆ¶åˆ†å·ä¹‹å‰å’Œä¹‹åŽä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ "semi-spacing": 0, // è¦æ±‚åŒä¸€ä¸ªå£°æ˜Žå—ä¸­çš„å˜é‡æŒ‰é¡ºåºæŽ’åˆ— "sort-vars": 0, // å¼ºåˆ¶åœ¨å—ä¹‹å‰ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ "space-before-blocks": [2, "always"], // å¼ºåˆ¶åœ¨ functionçš„å·¦æ‹¬å·ä¹‹å‰ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ "space-before-function-paren": [2, "always"], // å¼ºåˆ¶åœ¨åœ†æ‹¬å·å†…ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ "space-in-parens": [2, "never"], // è¦æ±‚æ“ä½œç¬¦å‘¨å›´æœ‰ç©ºæ ¼ "space-infix-ops": 2, // å¼ºåˆ¶åœ¨ä¸€å…ƒæ“ä½œç¬¦å‰åŽä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ "space-unary-ops": [2, &#123; "words": true, "nonwords": false &#125;], // å¼ºåˆ¶åœ¨æ³¨é‡Šä¸­ // æˆ– /* ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ "spaced-comment": [2, "always", &#123; "markers": ["global", "globals", "eslint", "eslint-disable", "*package", "!"] &#125;], // è¦æ±‚æˆ–ç¦æ­¢ Unicode BOM "unicode-bom": 0, // è¦æ±‚æ­£åˆ™è¡¨è¾¾å¼è¢«æ‹¬å·æ‹¬èµ·æ¥ "wrap-regex": 0, ////////////// // ES6.ç›¸å…³ // ////////////// // è¦æ±‚ç®­å¤´å‡½æ•°ä½“ä½¿ç”¨å¤§æ‹¬å· "arrow-body-style": 2, // è¦æ±‚ç®­å¤´å‡½æ•°çš„å‚æ•°ä½¿ç”¨åœ†æ‹¬å· "arrow-parens": 2, "arrow-spacing":[2,&#123; "before": true, "after": true &#125;], // å¼ºåˆ¶åœ¨å­ç±»æž„é€ å‡½æ•°ä¸­ç”¨super()è°ƒç”¨çˆ¶ç±»æž„é€ å‡½æ•°ï¼ŒTypeScripçš„ç¼–è¯‘å™¨ä¹Ÿä¼šæç¤º "constructor-super": 0, // å¼ºåˆ¶ generator å‡½æ•°ä¸­ * å·å‘¨å›´ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ "generator-star-spacing": [2, &#123; "before": true, "after": true &#125;], // ç¦æ­¢ä¿®æ”¹ç±»å£°æ˜Žçš„å˜é‡ "no-class-assign":2, // ä¸å…è®¸ç®­å¤´åŠŸèƒ½ï¼Œåœ¨é‚£é‡Œä»–ä»¬å¯ä»¥æ··æ·†çš„æ¯”è¾ƒ "no-confusing-arrow":0, // ç¦æ­¢ä¿®æ”¹ const å£°æ˜Žçš„å˜é‡ "no-const-assign":2, // ç¦æ­¢ç±»æˆå‘˜ä¸­å‡ºçŽ°é‡å¤çš„åç§° "no-dupe-class-members":2, // ä¸å…è®¸å¤åˆ¶æ¨¡å—çš„è¿›å£ "no-duplicate-imports":0, // ç¦æ­¢ Symbol çš„æž„é€ å‡½æ•° "no-new-symbol":2, // å…è®¸æŒ‡å®šæ¨¡å—åŠ è½½æ—¶çš„è¿›å£ "no-restricted-imports":0, // ç¦æ­¢åœ¨æž„é€ å‡½æ•°ä¸­ï¼Œåœ¨è°ƒç”¨ super() ä¹‹å‰ä½¿ç”¨ this æˆ– super "no-this-before-super": 2, // ç¦æ­¢ä¸å¿…è¦çš„è®¡ç®—æ€§èƒ½é”®å¯¹è±¡çš„æ–‡å­— "no-useless-computed-key":0, // è¦æ±‚ä½¿ç”¨ let æˆ– const è€Œä¸æ˜¯ var "no-var": 0, // è¦æ±‚æˆ–ç¦æ­¢å¯¹è±¡å­—é¢é‡ä¸­æ–¹æ³•å’Œå±žæ€§ä½¿ç”¨ç®€å†™è¯­æ³• "object-shorthand": 0, // è¦æ±‚ä½¿ç”¨ç®­å¤´å‡½æ•°ä½œä¸ºå›žè°ƒ "prefer-arrow-callback":0, // è¦æ±‚ä½¿ç”¨ const å£°æ˜Žé‚£äº›å£°æ˜ŽåŽä¸å†è¢«ä¿®æ”¹çš„å˜é‡ "prefer-const": 0, // è¦æ±‚åœ¨åˆé€‚çš„åœ°æ–¹ä½¿ç”¨ Reflect æ–¹æ³• "prefer-reflect":0, // è¦æ±‚ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦è€Œéž .apply() "prefer-spread":0, // è¦æ±‚ä½¿ç”¨æ¨¡æ¿å­—é¢é‡è€Œéžå­—ç¬¦ä¸²è¿žæŽ¥ "prefer-template":0, // Suggest using the rest parameters instead of arguments "prefer-rest-params":0, // è¦æ±‚generator å‡½æ•°å†…æœ‰ yield "require-yield":0, // enforce spacing between rest and spread operators and their expressions "rest-spread-spacing":0, // å¼ºåˆ¶æ¨¡å—å†…çš„ import æŽ’åº "sort-imports":0, // è¦æ±‚æˆ–ç¦æ­¢æ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„åµŒå…¥è¡¨è¾¾å¼å‘¨å›´ç©ºæ ¼çš„ä½¿ç”¨ "template-curly-spacing":1, // å¼ºåˆ¶åœ¨ yield* è¡¨è¾¾å¼ä¸­ * å‘¨å›´ä½¿ç”¨ç©ºæ ¼ "yield-star-spacing":2 &#125;&#125; prettierprettieræ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·,å®ƒæ”¯æŒå¯¹JavaScript,JSX,Angular,Vue,Flow,TypeScript,CSS, Less, and SCSS,HTML,JSON,GraphQL,Markdown,including GFM and MDX,YAMLæ ¼å¼çš„ä»£ç æ ¼å¼åŒ–Prettieræä¾›äº†ä¸€å¥—é»˜è®¤çš„é…ç½®ï¼Œé‚£ä¹ˆå¦‚ä½•ä¿®æ”¹é…ç½®é¡¹ç¬¦åˆæˆ‘ä»¬è‡ªå·±çš„ä»£ç è§„èŒƒå‘¢ï¼Œæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥åšåˆ° .prettierrc æ–‡ä»¶ prettier.config.js æ–‡ä»¶ package.json ä¸­é…ç½®prettierå±žæ€§å®‰è£…123yarn add prettier --dev --exact# or globallyyarn global add prettier è§„åˆ™é…ç½®123456789101112131415161718&#123; &quot;printWidth&quot;: &quot;80&quot;, // ä¸€è¡Œçš„å­—ç¬¦æ•°ï¼Œå¦‚æžœè¶…è¿‡ä¼šè¿›è¡Œæ¢è¡Œ &quot;tabWidth&quot;: &quot;2&quot;, // ä¸€ä¸ªtabä»£è¡¨å‡ ä¸ªç©ºæ ¼æ•° &quot;useTabs&quot;: &quot;false&quot;, // æ˜¯å¦ä½¿ç”¨tabæ›¿æ¢ç©ºæ ¼ &quot;semi&quot;: &quot;true&quot;, // æ˜¯å¦åœ¨æ¯å¥æœ«å°¾æ·»åŠ åˆ†å· &quot;singleQuote&quot;: &quot;false&quot;, // å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·æ›¿ä»£åŒå¼•å· &quot;jsxSingleQuote&quot;: &quot;false&quot;, // jsxè¯­æ³•ä¸­æ˜¯å¦ä½¿ç”¨å•å¼•å·ä»£æ›¿åŒå¼•å· &quot;trailingComma&quot;: &quot;none&quot;, // æ˜¯å¦ä½¿ç”¨å°¾é€—å·ï¼Œæœ‰ä¸‰ä¸ªå¯é€‰å€¼&quot;&lt;none|es5|all&gt;&quot; &quot;bracketSpacing&quot;: true, // å¯¹è±¡å¤§æ‹¬å·ç›´æŽ¥æ˜¯å¦æœ‰ç©ºæ ¼ï¼Œé»˜è®¤ä¸ºtrueï¼Œæ•ˆæžœï¼š&#123; foo: bar &#125; &quot;jsxBracketSameLine&quot;: &quot;false&quot;, // å°†å¤šè¡ŒJSXå…ƒç´ çš„&gt;æ”¾åœ¨æœ€åŽä¸€è¡Œçš„æœ«å°¾ï¼Œè€Œä¸æ˜¯å•ç‹¬æ”¾åœ¨ä¸‹ä¸€è¡Œï¼ˆä¸é€‚ç”¨äºŽè‡ªé—­å…ƒç´ ï¼‰ã€‚ &quot;arrowParens&quot;: &quot;avoid&quot;, // åœ¨å•ä¸ªç®­å¤´å‡½æ•°å‚æ•°å‘¨å›´åŠ ä¸Šæ‹¬å·ã€‚&quot;&lt;avoid|always&gt;&quot; &quot;rangeStart&quot;: &lt;int&gt;, // ä»…æ ¼å¼åŒ–æ–‡ä»¶ä»Ž&lt;ä½ç½®&gt;å¼€å§‹, é»˜è®¤ 0 rangeEnd: &lt;int&gt;, // ä»…æ ¼å¼åŒ–æ–‡ä»¶ä»Ž&lt;ä½ç½®&gt;ç»“æŸ é»˜è®¤ Infinity &quot;parser&quot;: &quot;babylon&quot;, // ä»£ç çš„è§£æžå¼•æ“Žï¼Œé»˜è®¤ä¸ºbabylonï¼Œä¸Žbabelç›¸åŒã€‚ &quot;filepath&quot;: &quot;&lt;string&gt;&quot;, // æŒ‡å®šç”¨äºŽæŽ¨æ–­è¦ä½¿ç”¨çš„è§£æžå™¨çš„æ–‡ä»¶åã€‚ &quot;requirePragma&quot;: &lt;bool&gt;, // æ˜¯å¦åœ¨è¢«æ ¼å¼åŒ–æ–‡ä»¶å¼€å¤´æ·»åŠ æ³¨é‡Š &quot;insertPragma&quot;: &lt;bool&gt;, // ä½¿ç”¨@formatæ ‡è®°å‘å¼€å¤´æ·»åŠ æ¢è¡Œç¬¦ã€‚&#125; æ›´å¤šé…ç½®è§„åˆ™ï¼š é…åˆESLintæ£€æµ‹ä»£ç é£Žæ ¼eslint-plugin-prettiereslint-plugin-prettieræ’ä»¶ä¼šè°ƒç”¨prettierå¯¹ä½ çš„ä»£ç é£Žæ ¼è¿›è¡Œæ£€æŸ¥ï¼Œå…¶åŽŸç†æ˜¯å…ˆä½¿ç”¨prettierå¯¹ä½ çš„ä»£ç è¿›è¡Œæ ¼å¼åŒ–ï¼Œç„¶åŽä¸Žæ ¼å¼åŒ–ä¹‹å‰çš„ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æžœè¿‡å‡ºçŽ°äº†ä¸ä¸€è‡´ï¼Œè¿™ä¸ªåœ°æ–¹å°±ä¼šè¢«prettierè¿›è¡Œæ ‡è®°ã€‚ é…ç½®1234567//.eslintrc.js&#123; &quot;plugins&quot;: [&quot;prettier&quot;], &quot;rules&quot;: &#123; &quot;prettier/prettier&quot;: &quot;error&quot; &#125;&#125; pre-commitpre-commité’©å­å¯ä»¥åœ¨ git commits ä¹‹å‰è¿è¡Œä¸€æ®µè„šæœ¬æ¯”å¦‚åœ¨commitä»£ç ä¹‹å‰è¿è¡Œeslintï¼Œæ ¡éªŒå¤±è´¥åˆ™ä»£ç æäº¤å¤±è´¥ï¼Œæ ¡éªŒæˆåŠŸåˆ™å…è®¸æäº¤ä»£ç  å®‰è£…npm install --save-dev pre-commit npm scriptsé…ç½®12345678&#123;"scripts": &#123; "dev": "webpack-dev-server &amp; npm run format", "precommit-msg": "echo 'Pre-commit checks.........' &amp;&amp; exit 0", "lint": "eslint --ext .js --ext .jsx src" &#125;, "pre-commit": ["precommit-msg", "lint"]&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ­å»ºå¾®å‰ç«¯æž¶æž„]]></title>
    <url>%2Fblog%2F2019%2F09%2F12%2F%E6%90%AD%E5%BB%BA%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯å¾®å‰ç«¯å¾®å‰ç«¯æ˜¯ä¸€ç§ç±»ä¼¼äºŽå¾®æœåŠ¡çš„æž¶æž„,å®ƒå°†å¾®æœåŠ¡çš„ç†å¿µåº”ç”¨äºŽæµè§ˆå™¨ç«¯,å³å°†å•é¡µé¢å‰ç«¯åº”ç”¨ç”±å•ä¸€åº”ç”¨è½¬å˜ä¸ºæŠŠå¤šä¸ªå°åž‹å‰ç«¯åº”ç”¨èšåˆä¸ºä¸€çš„åº”ç”¨ã€‚å„ä¸ªå‰ç«¯åº”ç”¨è¿˜å¯ä»¥ç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²ã€‚åŒæ—¶,å®ƒä»¬ä¹Ÿå¯ä»¥è¿›è¡Œå¹¶è¡Œå¼€å‘â€”è¿™äº›ç»„ä»¶å¯ä»¥é€šè¿‡NPM,GITæˆ–è€…SVNæ¥ç®¡ç†ã€‚ å¾®å‰ç«¯æž¶æž„ç‰¹ç‚¹ åº”ç”¨è‡ªæ²»,å³æ¯ä¸ªå­åº”ç”¨ä¹‹é—´ä¸å­˜åœ¨ä¾èµ–å…³ç³»,æ›¿æ¢å…¶ä¸­ä¸€ä¸ªå­åº”ç”¨è€Œæ•´ä½“ä¸å—å½±å“ å•ä¸€èŒè´£,å³å¾®å‰ç«¯æž¶æž„åº”è¯¥æ»¡è¶³å•ä¸€èŒè´£çš„åŽŸåˆ™ æŠ€æœ¯æ ˆæ— å…³,å³æ¯ä¸ªå­åº”ç”¨å¯ä»¥ç”¨ä¸åŒçš„å‰ç«¯æ¡†æž¶åŽ»ç¼–å†™ å¾®å‰ç«¯æŠ€æœ¯æ‹†åˆ†æ–¹å¼1.è·¯ç”±åˆ†å‘å¼é€šè¿‡HTTPæœåŠ¡å™¨çš„åå‘ä»£ç†åŠŸèƒ½,å°†è¯·æ±‚è·¯ç”±æ˜ å°„åˆ°å¯¹åº”çš„åº”ç”¨ä¸Š 2.å‰ç«¯å¾®æœåŠ¡åŒ–åœ¨ä¸åŒçš„æ¡†æž¶ä¸Šè®¾è®¡é€šä¿¡å’ŒåŠ è½½æœºåˆ¶,ä»¥åœ¨ä¸€ä¸ªé¡µé¢å†…åŠ è½½å¯¹åº”çš„åº”ç”¨ 3.å¾®åº”ç”¨é€šè¿‡è½¯ä»¶å·¥ç¨‹çš„æ–¹å¼,åœ¨éƒ¨ç½²æž„å»ºçŽ¯å¢ƒä¸­,æŠŠå¤šä¸ªç‹¬ç«‹çš„åº”ç”¨ç»„åˆæˆä¸€ä¸ªåº”ç”¨ 4.å¾®ä»¶åŒ–å°†ä¸šåŠ¡åŠŸèƒ½æ‹†åˆ†æˆç‹¬ç«‹çš„chunkä»£ç ,åŠ è½½å³å¯è¿è¡Œ 5.å‰ç«¯å®¹å™¨åŒ–iframe 6.åº”ç”¨ç»„ä»¶åŒ–Web ComponentsæŠ€æœ¯ å‰ç«¯å¾®æœåŠ¡åŒ–è¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼,ä½¿ç”¨å‰ç«¯å¾®æœåŠ¡åŒ–çš„æ–¹å¼å°†åŸºäºŽcreate-react-appè„šæ‰‹æž¶æ­å»ºçš„reactåº”ç”¨ä»¥åŠvue-cliæ­å»ºçš„vueåº”ç”¨åˆå¹¶åœ¨ä¸€ä¸ªåŸºåº§åº”ç”¨ä¸Š,åšåˆ°å­åº”ç”¨å¯ä»¥ç‹¬ç«‹å¼€å‘,åˆ†åˆ«éƒ¨ç½²çš„åŒæ—¶ä¹Ÿèƒ½åšåˆ°åˆå¹¶åœ¨ä¸€èµ·æˆä¸ºä¸€ä¸ªèšåˆåº”ç”¨ æ™®é€šSPAå¯¹æ¯”å‰ç«¯å¾®æœåŠ¡åŒ–æ™®é€šå•ä½“åº”ç”¨ å¾®å‰ç«¯æž¶æž„ åŸºåº§æ¨¡å¼åœ¨è¿™é‡Œ,æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªä¸»åº”ç”¨ï¼Œæ¥ç®¡ç†å…¶å®ƒå­åº”ç”¨,å®ƒä¸»è¦å®žçŽ°äº†ä»¥ä¸‹çš„åŠŸèƒ½ åº”ç”¨å‘çŽ°ã€‚è®©ä¸»åº”ç”¨å¯ä»¥å¯»æ‰¾åˆ°å…¶å®ƒåº”ç”¨ã€‚ åº”ç”¨æ³¨å†Œã€‚å³æä¾›æ–°çš„å¾®å‰ç«¯åº”ç”¨ï¼Œå‘åº”ç”¨æ³¨å†Œè¡¨æ³¨å†Œçš„åŠŸèƒ½ã€‚ ç¬¬ä¸‰æ–¹åº”ç”¨æ³¨å†Œã€‚å³è®©ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œå¯ä»¥æŽ¥å…¥åˆ°ç³»ç»Ÿä¸­ã€‚ è®¿é—®æƒé™ç­‰ç›¸å…³é…ç½®ã€‚ åˆ›å»ºä¸»åº”ç”¨single-spasingle-spaæ˜¯ä¸€æ¬¾ä¸“ä¸ºå¾®å‰ç«¯å®žçŽ°è®¾è®¡çš„æ¡†æž¶githubåœ°å€: https://github.com/CanopyTax/single-spa qiankunqiankunæ˜¯èš‚èšé‡‘æœä¸ºå…¶åº•å±‚å‰ç«¯æ¡†æž¶umiå¼€å‘çš„,åŸºäºŽsingle-spaå®žçŽ°çš„,æ›´é€‚ç”¨äºŽç”Ÿäº§çš„å¾®å‰ç«¯æ¡†æž¶githubåœ°å€: https://github.com/umijs/qiankun æ³¨å†ŒåŸºåº§ä½ çš„åŸºåº§åº”ç”¨å¯ä»¥ç”¨ä»»ä½•è„šæ‰‹æž¶æ­å»º,æ¯”å¦‚webpackæˆ–è€…parcelé¦–å…ˆyarn add qiankunindex.js12345678910111213141516171819202122232425262728293031323334353637383940414243444546import &#123; registerMicroApps, start &#125; from 'qiankun';import react from 'react'import ReactDOM from 'react-dom'function Framework() &#123; function goto(title, href) &#123; window.history.pushState(&#123;&#125;, title, href); &#125; return ( &lt;header&gt; &lt;nav&gt; &lt;ol&gt; &lt;li&gt;&lt;a onClick=&#123;() =&gt; goto('react app', '/react')&#125;&gt;react&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a onClick=&#123;() =&gt; goto('vue app', '/vue')&#125;&gt;vue&lt;/a&gt;&lt;/li&gt; &lt;/ol&gt; &lt;/nav&gt; &lt;/header&gt; )&#125;function render(&#123; appContent, loading &#125;) &#123; const container = document.getElementById('container'); ReactDOM.render(&lt;Framework loading=&#123;loading&#125; content=&#123;appContent&#125;/&gt;, container);&#125;function genActiveRule(routerPrefix) &#123; return (location) =&gt; location.pathname.startsWith(routerPrefix);&#125;registerMicroApps( [ &#123; name: 'react app', // app name registered entry: '//localhost:3000', render, activeRule: genActiveRule('/react') &#125;, &#123; name: 'vue app', entry: `//localhost:8080`, render, activeRule: genActiveRule('/vue') &#125;, ],);start(&#123; prefetch: true, jsSandbox: true &#125;) è¿™é‡Œ,Frameworkæ˜¯ä½ çš„åŸºåº§æ¡†æž¶,ä½¿ç”¨çš„æ˜¯reactçš„æ–¹å¼å®žçŽ°,ä¹Ÿå¯ä»¥ä½¿ç”¨vue,angular,ä¸‹é¢ç»™å‡ºvueçš„å†™æ³•,ä¸»è¦æ˜¯renderå‡½æ•°çš„åŒºåˆ«12345678910111213141516171819202122232425let app = nullfunction render(&#123; appContent, loading &#125;) &#123; if (!app) &#123; app = new Vue(&#123; el: '#container', data() &#123; return &#123; content: appContent, loading, &#125;; &#125;, render(h) &#123; return h(Framework, &#123; props: &#123; content: this.content, loading: this.loading, &#125;, &#125;); &#125;, &#125;); &#125; else &#123; app.content = appContent; app.loading = loading; &#125;&#125; genActiveRuleæ–¹æ³•ç”¨äºŽåŸºåº§åŒ¹é…è·¯ç”±å¯¹åº”çš„å­åº”ç”¨,è¿”å›žçš„æ˜¯å¸ƒå°”å€¼registerMicroAppsæ³¨å†Œå­åº”ç”¨,å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„,æ¯ä¸ªæ•°ç»„æˆå‘˜å¯¹è±¡éƒ½æœ‰å››ä¸ªå±žæ€§,åˆ†åˆ«æ˜¯name,entry,render,activeRule,å…¶ä¸­,entryæ˜¯å­åº”ç”¨éƒ¨ç½²æ‰€å¯¹åº”çš„åœ°å€æœ€åŽ,åˆ«å¿˜äº†è¿è¡Œstart è¿™æ ·æˆ‘ä»¬çš„åŸºåº§å°±å†™å¥½,ä¸‹é¢æˆ‘ä»¬æ¥æ”¹é€ ä¸€ä¸ªä½¿ç”¨vue-cliè„šæ‰‹æž¶æ­å»ºçš„vueé¡¹ç›®,ä½¿å…¶æˆä¸ºä¸€ä¸ªå¾®å‰ç«¯å­åº”ç”¨ å­åº”ç”¨ç”Ÿå‘½å‘¨æœŸä¸Šé¢åŸºåº§ä¸­è¢«æ³¨å†Œçš„å­åº”ç”¨å¦‚ä½•è¢«åŸºåº§è¿›è¡ŒæŒ‚è½½ä»¥åŠç›‘å¬å‘¢,å°±éœ€è¦å­åº”ç”¨è®¾ç½®ç”Ÿå‘½å‘¨æœŸæ–¹æ³• å­åº”ç”¨ç”Ÿå‘½å‘¨æœŸlifecyclesç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯single-spaå°†åœ¨å·²æ³¨å†Œçš„åº”ç”¨ç¨‹åºä¸Šè°ƒç”¨çš„å‡½æ•°æˆ–å‡½æ•°æ•°ç»„ã€‚single-spaé€šè¿‡ä»Žå·²æ³¨å†Œåº”ç”¨ç¨‹åºçš„ä¸»æ–‡ä»¶ä¸­æŸ¥æ‰¾ç‰¹å®šçš„å‘½åå¯¼å‡ºæ¥è°ƒç”¨å®ƒä»¬single-spa lifecycles è®¾ç½®ç”Ÿå‘½å‘¨æœŸé‚£ä¹ˆåœ¨å“ªé‡Œè®¾ç½®å‘¢,éœ€è¦åœ¨å­åº”ç”¨çš„å…¥å£æ–‡ä»¶å¤„è®¾ç½®,spaé¡¹ç›®ä¸€èˆ¬å°±æ˜¯/srcç›®å½•ä¸‹çš„index.jsæ–‡ä»¶ä¸€èˆ¬åœ¨å…¥å£æ–‡ä»¶ä¸­,æˆ‘ä»¬éƒ½ä¼šè¿›è¡Œå°†å®žä¾‹æŒ‚è½½åˆ°domä¸Šçš„æ“ä½œ,é¦–å…ˆ,æˆ‘ä»¬å°±è¦å°†è¿™ä¸€éƒ¨åˆ†å†…å®¹æ³¨é‡Š,åŸºåº§ä¼šè°ƒç”¨å¯¹åº”ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ¥å®žä¾‹åŒ–å­åº”ç”¨1234567891011121314151617181920212223//index.jsexport async function bootstrap() &#123; console.log('vue app bootstraped');&#125;export async function mount(props) &#123; console.log(props); instance = new Vue(&#123; el: '#vueRoot', render: h =&gt; h(App), &#125;)&#125;export async function unmount() &#123; ReactDOM.unmountComponentAtNode(document.getElementById('vueRoot'));&#125;// ä¸æ‰§è¡Œå®žä¾‹åŒ–æ–¹æ³•/* new Vue(&#123; el: '#vueRoot', render: h =&gt; h(App), &#125;) */ å…¥å£æ–‡ä»¶ä¸ä¼šå®žä¾‹åŒ–åˆ°domå¯¹è±¡,è€Œæ˜¯ä¼šå¯¼å‡ºç›¸åº”çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•,ç”±åŸºåº§æ¥è¿›è¡Œå¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸæ“ä½œ webpackçš„ç›¸å…³é…ç½®æ³¨æ„é¡¹ä¸Šé¢çš„é…ç½®åŸºæœ¬ç®—æ˜¯å·²ç»å®Œæˆäº†,ä½†æ˜¯è¿˜æ˜¯ä¸å¤Ÿçš„,åœ¨å®žé™…å¼€å‘ä¸­ä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜,è¿™åœ¨æ¡†æž¶æ–‡æ¡£ä¸­å¹¶ä¸ä¼šåˆ—å‡ºæ¥,å› ä¸ºå¤§éƒ¨åˆ†é—®é¢˜å¹¶ä¸å±žäºŽæ¡†æž¶æœ¬èº«çš„é—®é¢˜,è¿™ä¸ªæ—¶å€™å°±è¦æ ¹æ®æŠ¥é”™ä¿¡æ¯ä¸€ä¸€æŽ’æŸ¥ä¸‹é¢æ˜¯ç¬”è€…åœ¨å®žè·µä¸­é‡åˆ°é—®é¢˜çš„è§£å†³åŠžæ³• cra(create-react-app)é…ç½®å¦‚æžœä½¿ç”¨craæ­å»ºçš„è„šæ‰‹æž¶,ä¸€èˆ¬ä¼šç”¨åˆ°customize-craè¿™ä¸ªè¾…åŠ©å·¥å…·,æ¥å®Œæˆwebpackçš„é…ç½®,githubåœ°å€:https://github.com/arackaf/customize-craä¸‹é¢ç»™å‡ºç¤ºä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566const &#123; override, fixBabelImports, addLessLoader, useEslintRc, addDecoratorsLegacy, overrideDevServer,&#125; = require(&quot;customize-cra&quot;)const variables = require(&quot;./src/styles/variables&quot;)const antdThemes = require(&quot;./src/styles/antd&quot;)const themes = &#123;&#125;Object.keys(antdThemes).forEach(key =&gt; &#123; themes[&quot;@&quot; + key] = variables[key]&#125;)const rewiredMap = () =&gt; config =&gt; &#123; config.devtool = config.mode === &quot;development&quot; ? &quot;cheap-module-source-map&quot; : false return config&#125;const devServerConfig = () =&gt; config =&gt; &#123; return &#123; ...config, before(app) &#123; app.use((req, res, next) =&gt; &#123; res.append(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;) next() &#125;) &#125; &#125;&#125;const outputChange = () =&gt; config =&gt; &#123; config.output.library = &quot;packageName&quot; config.output.libraryTarget = &quot;umd&quot; config.output.jsonpFunction = &quot;webpackJsonp_packageName&quot; config.output.umdNamedDefine = true config.output.publicPath = &apos;http://localhost:3000/&apos;// config.optimization = &#123;&#125; return config&#125;module.exports = &#123; webpack: override( outputChange(), // disableChunk(), fixBabelImports(&quot;import&quot;, &#123; libraryName: &quot;antd&quot;, libraryDirectory: &quot;es&quot;, style: true &#125;), addLessLoader(&#123; javascriptEnabled: true, modifyVars: themes, data: Object.keys(variables) .map(key =&gt; `@$&#123;key&#125;:$&#123;variables[key]&#125;`) .join(`\n`), localIdentName: &quot;[local]--[hash:base64:5]&quot; &#125;), addDecoratorsLegacy(), useEslintRc(), rewiredMap() ), devServer: overrideDevServer( devServerConfig() )&#125; webpackå¯¼å‡ºumdé¦–å…ˆ,éœ€è¦å°†webpackçš„å¯¼å‡ºé€‰é¡¹è®¾ç½®ä¸ºumdé€šç”¨æ¨¡å¼umdåŽŸç†:1.å…ˆåˆ¤æ–­æ˜¯å¦æ”¯æŒNode.jsæ¨¡å—æ ¼å¼ï¼ˆexportsæ˜¯å¦å­˜åœ¨ï¼‰ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨Node.jsæ¨¡å—æ ¼å¼ã€‚2.å†åˆ¤æ–­æ˜¯å¦æ”¯æŒAMDï¼ˆdefineæ˜¯å¦å­˜åœ¨ï¼‰ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨AMDæ–¹å¼åŠ è½½æ¨¡å—ã€‚3.å‰ä¸¤ä¸ªéƒ½ä¸å­˜åœ¨ï¼Œåˆ™å°†æ¨¡å—å…¬å¼€åˆ°å…¨å±€ï¼ˆwindowæˆ–globalï¼‰ã€‚12345output: &#123; library: packageName, libraryTarget: &apos;umd&apos;, jsonpFunction: `webpackJsonp_$&#123;packageName&#125;`,&#125; è·¨åŸŸç”±äºŽä¸»æœåŠ¡ä¸Žå­æœåŠ¡æ˜¯è¿è¡Œåœ¨ä¸åŒçš„ç«¯å£ä¸‹,æ‰€ä»¥éœ€è¦è§£å†³è·¨åŸŸé—®é¢˜1234567// webpack-dev-serverè®¾ç½®ç¤ºä¾‹before(app) &#123; app.use((req, res, next) =&gt; &#123; res.append(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;) next() &#125;) &#125; è¯·æ±‚åœ°å€é—®é¢˜éœ€è¦å°†å­é¡¹ç›®çš„webpackçš„publicPathé…ç½®é¡¹è®¾ä¸ºç»å¯¹åœ°å€,è¿™æ ·åœ¨è¯·æ±‚èµ„æºæ—¶ä¸ä¼šå› ä¸ºè·¯å¾„è€Œå¯¼è‡´å­åº”ç”¨died å­é¡¹ç›®cssæ ·å¼éš”ç¦»CSS Moduleså¦‚æžœä½¿ç”¨antd,https://pro.ant.design/docs/style-cn]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Github WebHooksç›‘å¬æäº¤å®žçŽ°hexoè‡ªåŠ¨éƒ¨ç½²]]></title>
    <url>%2Fblog%2F2019%2F09%2F02%2FWebHook%E7%9B%91%E5%90%AC%E6%8F%90%E4%BA%A4%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[WebhooksWebhookså…è®¸åœ¨å‘ç”Ÿç‰¹å®šäº‹ä»¶æ—¶é€šçŸ¥å¤–éƒ¨æœåŠ¡ã€‚å½“æŒ‡å®šçš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå°†å‘è®¾ç½®å¥½çš„URLåœ°å€å‘é€POSTè¯·æ±‚ã€‚ åœ¨GitHubä¸­è®¾ç½®webhooksé¦–å…ˆè¿›å…¥é¡¹ç›®çš„è®¾ç½®é¡µé¢,åœ¨å·¦ä¾§æ‰¾åˆ°Webhooksé€‰é¡¹,ç‚¹å‡»addè¿›å…¥æ–°å¢žè®¾ç½® é¦–å…ˆè®¾ç½®Payload URL,è¿™æ˜¯ä½ çš„æœåŠ¡å™¨åœ°å€,æ¯å½“æœ‰æäº¤åŠ¨ä½œå°±ä¼šåƒè¿™ä¸ªåœ°å€å‘é€postè¯·æ±‚ Content typeå¯ä»¥è®¾ç½®è¡¨å•æˆ–è€…jsonæ ¼å¼ Secretå¯†é’¥,ç”¨äºŽæœåŠ¡å™¨éªŒè¯è¯·æ±‚æ˜¯å¦æœ‰GithubæœåŠ¡å™¨å‘é€ æ‰€æœ‰è®¾ç½®å®Œæ¯•åŽ,å°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥ æœåŠ¡å™¨ç›‘å¬è¿™é‡ŒæŽ¨èä½¿ç”¨github-webhook-handlerè¿™ä¸ªåº“,å¯ä»¥å¾ˆæ–¹ä¾¿å¸®åŠ©æˆ‘ä»¬å®ŒæˆæœåŠ¡ç«¯çš„é…ç½®ç¤ºä¾‹ä»£ç 1234567891011121314151617181920212223242526272829var http = require('http')var createHandler = require('github-webhook-handler')var handler = createHandler(&#123;path: 'è¿™é‡Œå¡«å†™åœ¨githubä¸Šé…ç½®çš„è·¯å¾„åœ°å€', secret: 'è¿™é‡Œå¡«å†™ä¸Šé¢é¡¹ç›®ä¸Šé…ç½®çš„å¯†é’¥'&#125;)const &#123;exec&#125; = require('child_process') // æ‰§è¡Œæœ¬åœ°å‘½ä»¤http.createServer(function(req, res) &#123; handler(req, res, function(err) &#123; res.statusCode = 404 res.end('no such location') &#125;)&#125;).listen('é…ç½®çš„ç«¯å£')handler.on('error', function(err) &#123; console.error('Error:', err.message)&#125;)handler.on('push', function(event) &#123; console.log('Received a push event for %s to %s', event.payload.repository.name, event.payload.ref) exec('cd /www/wwwroot/default/blog &amp;&amp; git pull', (err, stdout, stderr) =&gt; &#123; if (err) &#123; console.log(err) &#125; else &#123; console.log('updated success') &#125; &#125;)&#125;) ç»“æŸè¿™æ ·,åœ¨æœåŠ¡ç«¯éƒ¨ç½²å¥½è¿™ä¸ªå°çš„ç¨‹åºåŽ(æ³¨æ„å¼€æ”¾ç›¸å…³ç«¯å£),æ¯æ¬¡åœ¨æœ¬åœ°æ‰§è¡Œhexo g -då‘½ä»¤åŽ,æœåŠ¡ç«¯æŽ¥æ”¶åˆ°é’©å­ä¿¡æ¯å°±ä¼šè‡ªåŠ¨ä»Žmasteråˆ†æ”¯æ‹‰å–æœ€æ–°çš„ä»£ç ,å®žçŽ°è‡ªåŠ¨æ›´æ–°]]></content>
  </entry>
  <entry>
    <title><![CDATA[ã€ç¿»è¯‘ã€‘å¦‚ä½•ç”¨puppeteeré€šè¿‡slideræ»‘å—è®¤è¯]]></title>
    <url>%2Fblog%2F2019%2F08%2F22%2F%5B%E7%BF%BB%E8%AF%91%5D%E5%A6%82%E4%BD%95%E7%94%A8puppeteer%E9%80%9A%E8%BF%87slider%E6%BB%91%E5%9D%97%E8%AE%A4%E8%AF%81%2F</url>
    <content type="text"><![CDATA[Photo by James Pond on Unsplash åžƒåœ¾é‚®ä»¶å¯¹äºŽç½‘ç«™æ‰€æœ‰è€…æ¥è¯´æ˜¯ä¸ªå¤§é—®é¢˜ã€‚å¦ä¸€æ–¹é¢ï¼Œåˆ’å—éªŒè¯è®©æˆ‘å‘ç–¯ï¼Œä»–ä»¬å¯¹ç”¨æˆ·ä½“éªŒä¸å¤ªå‹å¥½ã€‚ åˆ’å—éªŒè¯è™½ç„¶å¾ˆç³Ÿç³•ä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦é¢å¯¹å®ƒ,æœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥äººæœºéªŒè¯,ä½†æ˜¯ä»–ä»¬ä¸€èˆ¬æ¥è¯´éƒ½ä¸å¤ªå¥½ã€‚ è¿‘å¹´æ¥çˆ¬è™«å˜å¾—è¶Šæ¥è¶Šæ™ºèƒ½å¹¶ä¸”ç½‘ç«™å¾ˆéš¾åŽ»è¯†åˆ«,åœ¨æ‹¥æœ‰å¤§é‡çš„æ—¶é—´ä»¥åŠè¶³å¤Ÿçš„èµ„æºåŽ,æˆ‘ä»¬å‡ ä¹Žå¯ä»¥é€šè¿‡ä»»ä½•äººæœºéªŒè¯ã€‚çŽ°åœ¨æœ‰æ’ä»¶å¯ä»¥é˜²æ­¢ä½¿ç”¨puppeteerè¢«æ£€æµ‹å¹¶è§£å†³äººæœºéªŒè¯,ç”šè‡³å‡ºçŽ°äº†ä¸“é—¨çš„å…¬å¸ã€‚æˆ‘ä»¬æ— æ³•æ£€æµ‹åˆ°è¢«puppeteeræŽ§åˆ¶çš„æ— å¤´chromeæµè§ˆå™¨ã€‚ æœ‰äº›ç½‘ç«™ä½¿ç”¨äº†æ»‘å—éªŒè¯æ¥ä½œä¸ºäººæœºéªŒè¯çš„ä¸€ç§æ–¹æ¡ˆ,ä½†æ˜¯ä¸ºä»€ä¹ˆæœ‰äººä¼šä½¿ç”¨è¿™ä¹ˆç®€å•çš„ä¸œè¥¿æ¥ç»•è¿‡å®ƒ: å¤§å¤šæ•°çˆ¬è™«ä¸æ‰§è¡Œjsä»£ç  ç”¨æˆ·ä½“éªŒæ›´å¥½ æ»‘å—çš„æ–¹å¼å¤©ç„¶é€‚åˆæ‰‹æœºç”¨æˆ· æ‰€ä»¥,æ»‘å—éªŒè¯å¯¹äºŽç”¨æˆ·æ¥è¯´æ˜¯ç¾Žå¥½ä¸”äº²åˆ‡çš„,ä½†æ˜¯å¦‚æžœåªæœ‰æ»‘å—éªŒè¯çš„è¯é‚£å°±è±¡æ‰‹æ‹¿æœ¨æ£’èµ¤è£¸åœ°è¿›å…¥æˆ˜åœºäº†ã€‚ è®©æˆ‘ä»¬æ¥é€šè¿‡æ»‘å—éªŒè¯å§! æ»‘åŠ¨æäº¤æœ‰ä¸€ç§jqueryæ’ä»¶æ˜¯ä¸“é—¨ä¸ºè¿™ç§é˜²æ­¢åžƒåœ¾é‚®ä»¶çš„è¡¨å•æœåŠ¡çš„ é¦–å…ˆæˆ‘ä»¬è®¡ç®—å‡ºæ»‘å—åŒºåŸŸçš„è¾¹ç•Œä¿¡æ¯,ä¸ºäº†ç§»åŠ¨æ»‘å—,æˆ‘ä»¬è¦åšä»¥ä¸‹è¿™äº›äº‹: æŠŠé¼ æ ‡æ”¾åœ¨è¦æ“ä½œå…ƒç´ çš„ä¸­å¿ƒ æŒ‰ä¸‹é¼ æ ‡ ç§»åŠ¨ åœ¨åˆé€‚çš„ä½ç½®æ¾å¼€é¼ æ ‡ 1234567891011121314151617181920212223242526272829303132const puppeteer = require('puppeteer')async function run() &#123; const browser = await puppeteer.launch(&#123; headless: false, defaultViewport: &#123; width: 1366, height: 768 &#125; &#125;) const page = await browser.newPage() await page.goto('http://kthornbloom.com/slidetosubmit/') await page.type('input[name="name"]', 'Puppeteer Bot') await page.type('input[name="email"]', 'js@automation.com') let sliderElement = await page.$('.slide-submit') let slider = await sliderElement.boundingBox() let sliderHandle = await page.$('.slide-submit-thumb') let handle = await sliderHandle.boundingBox() await page.mouse.move(handle.x + handle.width / 2, handle.y + handle.height / 2) await page.mouse.down() await page.mouse.move(handle.x + slider.width, handle.y + handle.height / 2, &#123; steps: 10 &#125;) await page.mouse.up() await page.waitFor(3000) // success! await browser.close()&#125;run() Dipbitæ³¨å†Œæ»‘å—éªŒè¯Dipbitæ˜¯ä¸€ä¸ªæ•°å­—è´§å¸å…‘æ¢ç½‘ç«™ã€‚ç™»å½•é¡µé¢å’Œæ³¨å†Œé¡µé¢éƒ½æœ‰æ»‘å—éªŒè¯ã€‚Dipbitå°±è¦æ˜¾å¾—èªæ˜Žä¸€ç‚¹äº†,æ‰€ä»¥æˆ‘ä»¬è¦å¢žåŠ ä¸€äº›ä»£ç æ¥éšè—puppeteerçš„æ‰§è¡Œ1234567891011121314151617181920212223242526272829303132333435363738const puppeteer = require('puppeteer')async function run() &#123; const browser = await puppeteer.launch(&#123; headless: false, defaultViewport: &#123; width: 1366, height: 768 &#125; &#125;) const page = await browser.newPage() await page.evaluateOnNewDocument(() =&gt; &#123; Object.defineProperty(navigator, 'webdriver', &#123; get: () =&gt; false //æ³¨ æ£€æµ‹æ˜¯å¦ä¸ºæ— å¤´æµè§ˆå™¨ &#125;) &#125;) await page.goto('https://www.dipbit.com/auth/login') await page.type('#email', 'js@automation.com') await page.type('#password', 'password123') let sliderElement = await page.$('.slidetounlock') let slider = await sliderElement.boundingBox() let sliderHandle = await page.$('.nc_iconfont.btn_slide') let handle = await sliderHandle.boundingBox() await page.mouse.move(handle.x + handle.width / 2, handle.y + handle.height / 2) await page.mouse.down() await page.mouse.move(handle.x + slider.width, handle.y + handle.height / 2, &#123; steps: 50 &#125;) await page.mouse.up() await page.waitFor(3000) // success! await browser.close()&#125;run() æ·˜å®æ·˜å®çš„æ³¨å†ŒéªŒè¯å’ŒDipbitç›¸ä¼¼,å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ä»–çš„éªŒè¯è¡¨å•åµŒå¥—åœ¨ä¸€ä¸ªiframeçš„æ¡†æž¶ä¸­,ä½†å¯¹äºŽPuppeteeræ¥è¯´,è¿™ä¸æ˜¯é—®é¢˜ã€‚1234567891011121314151617181920212223242526272829303132333435363738const puppeteer = require('puppeteer')async function run() &#123; const browser = await puppeteer.launch(&#123; headless: false, defaultViewport: &#123; width: 1366, height: 768 &#125; &#125;) const page = await browser.newPage() await page.evaluateOnNewDocument(() =&gt; &#123; Object.defineProperty(navigator, 'webdriver', &#123; get: () =&gt; false &#125;) &#125;) await page.goto('https://world.taobao.com/markets/all/sea/register') let frame = page.frames()[1] await frame.waitForSelector('.nc_iconfont.btn_slide') const sliderElement = await frame.$('.slidetounlock') const slider = await sliderElement.boundingBox() const sliderHandle = await frame.$('.nc_iconfont.btn_slide') const handle = await sliderHandle.boundingBox() await page.mouse.move(handle.x + handle.width / 2, handle.y + handle.height / 2) await page.mouse.down() await page.mouse.move(handle.x + slider.width, handle.y + handle.height / 2, &#123; steps: 50 &#125;) await page.mouse.up() await page.waitFor(3000) // success! await browser.close()&#125;run() æ‹¼å›¾éªŒè¯æˆ‘é‡åˆ°äº†â€™æ»‘åŠ¨éªŒè¯â€™vueç»„ä»¶åº”è¯¥å¯¹äººæ¥è¯´å¾ˆå®¹æ˜“ä½†æ˜¯å¯¹æœºå™¨ä¸å®¹æ˜“æ­¤éªŒè¯æ–¹æ³•èŽ·å–å›¾åƒï¼Œåˆ›å»º2ä¸ªç”»å¸ƒå’Œä¸€ä¸ªæ»‘å—ã€‚å®ƒä½¿ç”¨æ‹¼å›¾æ¸²æŸ“åˆå§‹å›¾åƒã€‚ç”¨æˆ·å°†ç§»åŠ¨æ»‘å—å’Œæ‹¼å›¾å—åŒ¹é…ã€‚å½“ä¸¤ä¸ªéƒ¨åˆ†åŒ¹é…æ—¶ï¼Œç”¨æˆ·åº”é‡Šæ”¾æ»‘å—å¹¶éªŒè¯ç»“æŸã€‚è¿™ç§éªŒè¯éšæœºåŒ–æ‹¼å›¾ä½ç½®æ¥æ··æ·†æœºå™¨äººã€‚åœ¨æ­¤æˆ‘ä¸æƒ³åšä»»ä½•è¯¸å¦‚æœºå™¨å­¦ä¹ æˆ–è€…OCRç­‰èŠ±å“¨çš„ä¸œè¥¿,æ‰€ä»¥æˆ‘åªæ˜¯ä¸€ç‚¹ä¸€ç‚¹çš„ç§»åŠ¨å¹¶ä¸Žæœ€åˆçš„å›¾ç‰‡è¿›è¡Œæ¯”è¾ƒ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374const puppeteer = require('puppeteer')const Rembrandt = require('rembrandt')async function run () &#123; const browser = await puppeteer.launch(&#123; headless: false, defaultViewport: &#123; width: 1366, height: 768 &#125; &#125;) const page = await browser.newPage() let originalImage = '' await page.setRequestInterception(true) page.on('request', request =&gt; request.continue()) page.on('response', async response =&gt; &#123; if (response.request().resourceType() === 'image') originalImage = await response.buffer().catch(() =&gt; &#123;&#125;) &#125;) await page.goto('https://monoplasty.github.io/vue-monoplasty-slide-verify/') const sliderElement = await page.$('.slide-verify-slider') const slider = await sliderElement.boundingBox() const sliderHandle = await page.$('.slide-verify-slider-mask-item') const handle = await sliderHandle.boundingBox() let currentPosition = 0 let bestSlider = &#123; position: 0, difference: 100 &#125; await page.mouse.move(handle.x + handle.width / 2, handle.y + handle.height / 2) await page.mouse.down() while (currentPosition &lt; slider.width - handle.width / 2) &#123; await page.mouse.move( handle.x + currentPosition, handle.y + handle.height / 2 + Math.random() * 10 - 5 ) let sliderContainer = await page.$('.slide-verify') let sliderImage = await sliderContainer.screenshot() const rembrandt = new Rembrandt(&#123; imageA: originalImage, imageB: sliderImage, thresholdType: Rembrandt.THRESHOLD_PERCENT &#125;) let result = await rembrandt.compare() let difference = result.percentageDifference * 100 if (difference &lt; bestSlider.difference) &#123; bestSlider.difference = difference bestSlider.position = currentPosition &#125; currentPosition += 10 &#125; await page.mouse.move(handle.x + bestSlider.position, handle.y + handle.height / 2, &#123; steps: 10 &#125;) await page.mouse.up() await page.waitFor(3000) // success! await browser.close()&#125;run() ä»¥é˜²ä¸‡ä¸€ä½ é”™è¿‡äº†ä¸€ä¸ªå¾ˆé…·çš„éƒ¨åˆ†ã€‚æˆ‘å°†Yè½´ä¸Šçš„æ»‘å—ç§»åŠ¨éšæœºåŒ–ä»¥æ¨¡æ‹ŸçœŸå®žçš„ç”¨æˆ·é¼ æ ‡ç§»åŠ¨ðŸ˜Ž1234await page.mouse.move( handle.x + currentPosition, handle.y + handle.height / 2 + Math.random() * 10 - 5 ) ä»¥ä¸Šæ‰€æœ‰ä»£ç éƒ½åœ¨è¿™ä¸ªä»“åº“ ç»“è®ºå¦‚æžœç½‘ç«™æ‹¥æœ‰æ›´å¥½çš„ä½“éªŒå¹¶ä¸”å¯ä»¥è½»æ¾ç»•è¿‡äººæœºéªŒè¯ï¼Œæˆ–è€…ç½‘ç«™ç§¯æžåœ°ä¿æŠ¤è‡ªå·±å…å—æœºå™¨äººæ”»å‡»ä½†æ˜¯ç”¨æˆ·ä½“éªŒä¸ä½³ï¼Œè¿™ä¸€ç›´æ˜¯ä¸€ä¸ªä¸¤éš¾é€‰æ‹©ã€‚ç½‘ç«™å’Œæœºå™¨äººä¹‹é—´çš„æˆ˜äº‰æ°¸è¿œä¸ä¼šç»“æŸã€‚æ— è®ºç½‘ç«™é‡‡ç”¨ä½•ç§éªŒè¯æ–¹æ³•ï¼Œæœ‰äººæƒ³å‡ºå¦‚ä½•ç»•è¿‡å®ƒåªæ˜¯æ—¶é—´é—®é¢˜ã€‚ åŽŸæ–‡é“¾æŽ¥]]></content>
  </entry>
  <entry>
    <title><![CDATA[çº¯csså®žçŽ°åŠ¨æ€å¤©æ°”æ•ˆæžœä»£ç ]]></title>
    <url>%2Fblog%2F2019%2F08%2F21%2F%E7%BA%AFcss%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E5%A4%A9%E6%B0%94%E6%95%88%E6%9E%9C%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[é¢„è§ˆæ•ˆæžœ ä»£ç htmlä»£ç 1234&lt;div class="weather sunny"&gt;&lt;/div&gt;&lt;div class="weather cloudy"&gt;&lt;/div&gt;&lt;div class="weather rainy"&gt;&lt;/div&gt;&lt;div class="weather snowy"&gt;&lt;/div&gt; css ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180.weather &#123; position: relative; display: inline-block; width: 180px; height: 240px; background: #23b7e5; border-radius: 8px;&#125;.sunny:before &#123; content: ""; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; background: #F6D963; border-radius: 50%; box-shadow: 0 0 20px #ff0; z-index: 2;&#125;.sunny:after &#123; content: ""; position: absolute; top: 50%; left: 50%; margin: -45px 0 0 -45px; width: 90px; height: 90px; background: #FFEB3B; clip-path: polygon( 50% 0%, 65.43% 25%, 93.3% 25%, 78.87% 50%, 93.3% 75%, 64.43% 75%, 50% 100%, 35.57% 75%, 6.7% 75%, 21.13% 50%, 6.7% 25%, 35.57% 25%); z-index: 1; animation: sunScale 2s linear infinite;&#125;@keyframes sunScale &#123; 0% &#123; transform: scale(1); &#125; 50% &#123; transform: scale(1.1); &#125; 100% &#123; transform: scale(1); &#125;&#125;.cloudy:before,.rainy:before,.snowy:before &#123; content: ""; position: absolute; top: 50%; left: 25%; transform: translate(-50%, -50%); width: 36px; height: 36px; background: #fff; border-radius: 50%; box-shadow: #fff 22px -15px 0 6px, #fff 57px -6px 0 2px, #fff 87px 4px 0 -4px, #fff 33px 6px 0 6px, #fff 61px 6px 0 2px, #ccc 29px -23px 0 6px, #ccc 64px -14px 0 2px, #ccc 94px -4px 0 -4px; z-index: 2;&#125;.cloudy:before &#123; animation: cloudMove 2s linear infinite;&#125;@keyframes cloudMove &#123; 0% &#123; transform: translate(-50%, -50%); &#125; 50% &#123; transform: translate(-50%, -60%); &#125; 100% &#123; transform: translate(-50%, -50%); &#125;&#125;.rainy:after &#123; content: ""; position: absolute; top:50%; left: 25%; width: 4px; height: 14px; background: #fff; border-radius: 2px; box-shadow: #fff 25px -10px 0, #fff 50px 0 0, #fff 75px -10px 0, #fff 0 25px 0, #fff 25px 15px 0, #fff 50px 25px 0, #fff 75px 15px 0, #fff 0 50px 0, #fff 25px 40px 0, #fff 50px 50px 0, #fff 75px 40px 0; animation: rainDrop 2s linear infinite; &#125;@keyframes rainDrop &#123; 0% &#123; transform: translate(0, 0) rotate(10deg); &#125; 100% &#123; transform: translate(-4px, 24px) rotate(10deg); box-shadow: #fff 25px -10px 0, #fff 50px 0 0, #fff 75px -10px 0, #fff 0 25px 0, #fff 25px 15px 0, #fff 50px 25px 0, #fff 75px 15px 0, rgba(255, 255, 255, 0) 0 50px 0, rgba(255, 255, 255, 0) 25px 40px 0, rgba(255, 255, 255, 0) 50px 50px 0, rgba(255, 255, 255, 0) 75px 40px 0; &#125;&#125;.snowy:after &#123; content: ""; position: absolute; top:50%; left: 25%; width: 8px; height: 8px; background: #fff; border-radius: 50%; box-shadow: #fff 25px -10px 0, #fff 50px 0 0, #fff 75px -10px 0, #fff 0 25px 0, #fff 25px 15px 0, #fff 50px 25px 0, #fff 75px 15px 0, #fff 0 50px 0, #fff 25px 40px 0, #fff 50px 50px 0, #fff 75px 40px 0; animation: snowDrop 2s linear infinite; &#125;@keyframes snowDrop &#123; 0% &#123; transform: translateY(0); &#125; 100% &#123; transform: translateY(25px); box-shadow: #fff 25px -10px 0, #fff 50px 0 0, #fff 75px -10px 0, #fff 0 25px 0, #fff 25px 15px 0, #fff 50px 25px 0, #fff 75px 15px 0, rgba(255, 255, 255, 0) 0 50px 0, rgba(255, 255, 255, 0) 25px 40px 0, rgba(255, 255, 255, 0) 50px 50px 0, rgba(255, 255, 255, 0) 75px 40px 0; &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[vue transitionå®žçŽ°åŽŸç”Ÿé¡µé¢è·³è½¬æ•ˆæžœ]]></title>
    <url>%2Fblog%2F2019%2F08%2F21%2Ftransition%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%94%9F%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E6%95%88%E6%9E%9C%2F</url>
    <content type="text"><![CDATA[ä»£ç ä½¿ç”¨Vue &lt;transition&gt; ç»„ä»¶è¿‡æ¸¡ 123&lt;transition :name=&quot;this.$store.routeAction&quot;&gt; &lt;router-view/&gt;&lt;/transition&gt; CSS1234567891011121314151617181920212223242526.push-enter-active,.push-leave-active, .pop-enter-active,.pop-leave-active&#123; transition: all 0.4s;&#125;.push-leave-to&#123;transform: translate(-20%,0);&#125;.push-enter &#123; transform: translate(100%, 0);&#125;.push-enter-active &#123; z-index: 10;&#125;.push-leave-active &#123; z-index: 0;&#125;.pop-leave-active &#123; transform: translate(100%, 0); z-index: 11;&#125;.pop-enter&#123; transform: translate(-20%,0);&#125; æ•ˆæžœ]]></content>
  </entry>
  <entry>
    <title><![CDATA[chromeå¿«æ·é”®å¤ªåäººç±»?ä¸æƒ³å®‰è£…é¢å¤–æ’ä»¶?é‚£å°±ç”¨TamperMonkeyå†™ä¸ªè„šæœ¬]]></title>
    <url>%2Fblog%2F2019%2F07%2F19%2Fchrome%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%AA%E5%8F%8D%E4%BA%BA%E7%B1%BB-%E4%B8%8D%E6%83%B3%E5%AE%89%E8%A3%85%E9%A2%9D%E5%A4%96%E6%8F%92%E4%BB%B6-%E9%82%A3%E5%B0%B1%E7%94%A8TamperMonkey%E5%86%99%E4%B8%AA%E8%84%9A%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Chromeå¿«æ·é”®å¯¹äºŽä¸€å¤©ç”¨åˆ°å°†è¿‘ç™¾ä½™æ¬¡çš„ctrl+wçš„æˆ‘æ¥è¯´,ä¸€ç›´è§‰å¾—chromeåŽŸæœ¬çš„ctrl+wçš„æŒ‰é”®æœ‰ç‚¹åˆ«æ‰­,ç»ˆäºŽåœ¨ä»Šå¤©å¿ä¸ä½äº†,å¼€å§‹å¯»æ‰¾å¦‚ä½•åŽ»ä¿®æ”¹chromeé»˜è®¤çš„å¿«æ·é”®ã€‚åœ¨è®¾ç½®é‡Œæ‰¾äº†ä¸€åœˆ,å‘çŽ°æ²¡æœ‰,æ— å¥ˆgoogleäº†ä¸€ä¸‹,å‘çŽ°æœ‰è¿™ä¹ˆå‡ ç§åŠžæ³• å®‰è£…chromeæ’ä»¶ å¦‚Shortkeysç­‰ ä¿®æ”¹chromeç³»ç»Ÿæ–‡ä»¶æˆ‘ç»¼åˆäº†ä¸€ä¸‹,å‘çŽ°æˆ‘åªéœ€è¦å®žçŽ°alt + wå…³é—­æµè§ˆå™¨TABçš„åŠŸèƒ½,è¿™ä¹ˆæŠ˜è…¾ä¼¼ä¹Žä¸å¤ªç»æµŽ,çªç„¶æƒ³åˆ°æˆ‘æœ‰å®‰è£…TamperMonkeyæ²¹çŒ´æ’ä»¶,äºŽæ˜¯ä¾¿æƒ³åˆ°è‡ªå·±åŠ¨æ‰‹å†™ä¸ªjsè„šæœ¬å®Œäº‹ TamperMonkeyTamperMonkeyæ˜¯ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶,å®ƒæ˜¯ä¸€ä¸ªè„šæœ¬ç®¡ç†å™¨,é€šè¿‡è„šæœ¬å¸‚åœºå®‰è£…ç¬¬ä¸‰æ–¹jsè„šæœ¬,å¯ä»¥å®žçŽ°éžå¸¸å¤šçš„æ‹“å±•åŠŸèƒ½,å¯ä»¥å°±ä¸å±•å¼€äº†æˆ‘ä»¬æ–°å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶,æ³¨æ„è„šæœ¬æ–‡ä»¶å¼€å¤´ matché€‰é¡¹è¡¨ç¤ºè„šæœ¬åº”ç”¨çš„èŒƒå›´,è¿™é‡Œæˆ‘ä»¬åº”ç”¨æ‰€æœ‰ç½‘ç«™12// @match http://*/*// @match https://*/* ç¼–å†™è„šæœ¬å¥½äº†,ä¸‹é¢å°±å¼€å§‹ç¼–å†™æˆ‘ä»¬çš„è„šæœ¬,TamperMonkeyè„šæœ¬æ–‡ä»¶å®žè´¨å°±æ˜¯è¾“å‡ºä¸ªjs IFFE(ç«‹å³æ‰§è¡Œå‡½æ•°),è„šæœ¬å†…å®¹éƒ½ç¼–å†™åœ¨é‡Œé¢,æˆ‘ä»¬åªéœ€è¦å…¨å±€ç›‘å¬onkeydownäº‹ä»¶,åˆ¤æ–­æ˜¯å¦åŒæ—¶æŒ‰ä¸‹alt + w,ç„¶åŽæ‰§è¡Œwindow.close()å…³é—­é¡µé¢å°±å¯ä»¥äº†12345678(function() &#123; window.addEventListener('keydown',function(event)&#123; if (event.altKey &amp;&amp; event.keyCode == 87) &#123; window.location.href = "about:blank" window.close() &#125; &#125;)&#125;)()]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ”¶é›†å¸¸ç”¨çš„cssä»£ç ]]></title>
    <url>%2Fblog%2F2019%2F07%2F11%2F%E6%94%B6%E9%9B%86%E5%B8%B8%E7%94%A8%E7%9A%84css%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[æ¸…é™¤é»˜è®¤æ ·å¼reset 12345678910111213141516171819202122html,body&#123;height:100%;&#125;html,body,h1,h2,h3,h4,h5,h6,div,dl,dt,dd,ul,ol,li,p,blockquote,pre,hr,figure,table,caption,th,td,form,fieldset,legend,input,button,textarea,menu&#123;margin:0;padding:0;&#125;header,footer,section,article,aside,nav,hgroup,address,figure,figcaption,menu,details&#123;display:block;&#125;table&#123;border-collapse:collapse;border-spacing:0;&#125;caption,th&#123;text-align:left;font-weight:normal;&#125;html,body,fieldset,img,iframe,abbr&#123;border:0;&#125;i,cite,em,var,address,dfn&#123;font-style:normal;&#125;[hidefocus],summary&#123;outline:0;&#125;li&#123;list-style:none;&#125;h1,h2,h3,h4,h5,h6,small&#123;font-size:100%;&#125;sup,sub&#123;font-size:83%;&#125;pre,code,kbd,samp&#123;font-family:inherit;&#125;q:before,q:after&#123;content:none;&#125;textarea&#123;overflow:auto;resize:none;&#125;label,summary&#123;cursor:default;&#125;a,button&#123;cursor:pointer;&#125;h1,h2,h3,h4,h5,h6,em,strong,b&#123;font-weight:bold;&#125;del,ins,u,s,a,a:hover&#123;text-decoration:none;&#125;body,textarea,input,button,select,keygen,legend&#123;font:12px/1.14 Microsoft YaHei,arial,\5b8b\4f53;color:#333;outline:0;&#125;body&#123;background:#fff;&#125;a,a:hover&#123;color:#333;&#125;*&#123;box-sizing: border-box;&#125; åŽ»é™¤inputé»˜è®¤å¡«å……çš„èƒŒæ™¯é¢œè‰² 123input:-webkit-autofill &#123; -webkit-box-shadow: 0 0 0px 1000px white inset;&#125; æ¸…é™¤input[type=number]çš„é»˜è®¤æ ·å¼ 12345678input[type=number] &#123; -moz-appearance:textfield;&#125;input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button &#123; -webkit-appearance: none; margin: 0;&#125; æ¸…é™¤ç§»åŠ¨ç«¯ a æ ‡ç­¾ç­‰ç‚¹å‡»åŒºåŸŸå˜è‰² 123*&#123; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);&#125; æ¸…é™¤ç§»åŠ¨ç«¯ input æ ·å¼ 12345678input&#123; border: none; -moz-appearance:none; -webkit-appearance : none ; /*è§£å†³iosä¸ŠæŒ‰é’®çš„åœ†è§’é—®é¢˜*/ border-radius: 0; /*è§£å†³iosä¸Šè¾“å…¥æ¡†åœ†è§’é—®é¢˜*/ outline:medium; /*åŽ»æŽ‰é¼ æ ‡ç‚¹å‡»çš„é»˜è®¤é»„è‰²è¾¹æ¡†*/ background-color: transparent;&#125; é¿å…iosæ»‘åŠ¨æ»šåŠ¨æ¡å¡é¡¿ 123*&#123; -webkit-overflow-scrolling : touch&#125; æ»šåŠ¨æ¡æ ·å¼ 123456789101112131415161718192021222324252627282930.scroll-container &#123; height: 250px; border: 1px solid #ddd; padding: 15px; overflow: auto; .row &#123; margin: 0; line-height: 1.5; &#125; &amp;::-webkit-scrollbar &#123; width: 8px; background: white; &#125; &amp;::-webkit-scrollbar-corner, /* æ»šåŠ¨æ¡è§’è½ */ &amp;::-webkit-scrollbar-thumb, &amp;::-webkit-scrollbar-track &#123; border-radius: 4px; &#125; &amp;::-webkit-scrollbar-corner, &amp;::-webkit-scrollbar-track &#123; /* æ»šåŠ¨æ¡è½¨é“ */ background-color: rgba(180, 160, 120, 0.1); box-shadow: inset 0 0 1px rgba(180, 160, 120, 0.5); &#125; &amp;::-webkit-scrollbar-thumb &#123; /* æ»šåŠ¨æ¡æ‰‹æŸ„ */ background-color: #00adb5; &#125;&#125; å¸¸ç”¨ mideaåª’ä½“æŸ¥è¯¢ 12345678910111213141516171819202122232425262728293031323334353637/* æ¨ªå± */@media screen and (orientation:landscape)&#123; &#125;/* ç«–å± */@media screen and (orientation:portrait)&#123; &#125;/* çª—å£å®½åº¦&lt;960,è®¾è®¡å®½åº¦=768 */@media screen and (max-width:959px)&#123; &#125;/* çª—å£å®½åº¦&lt;768,è®¾è®¡å®½åº¦=640 */@media screen and (max-width:767px)&#123; &#125;/* çª—å£å®½åº¦&lt;640,è®¾è®¡å®½åº¦=480 */@media screen and (max-width:639px)&#123; &#125;/* çª—å£å®½åº¦&lt;480,è®¾è®¡å®½åº¦=320 */@media screen and (max-width:479px)&#123; &#125;/* è®¾å¤‡åƒç´ æ¯”ä¸º2 *//* å¸¸ç”¨äºŽ1pxè¾¹æ¡†ï¼Œè¿˜åº”è§„å®š 3dppx çš„æƒ…å†µ */@media (min-resolution: 2dppx) &#123;&#125;/* windows UI è´´é  */@media screen and (-ms-view-state:snapped)&#123; &#125;/* æ‰“å° */@media print&#123; &#125; é•¿æ–‡æœ¬æŠ˜è¡Œ 1234.long-text&#123; white-space: pre-line; word-wrap: break-word;&#125; æ–‡å­—è¶…å‡ºæ˜¾ç¤ºçœç•¥å·å•è¡Œæ–‡å­—1234567/*æ³¨æ„å®½åº¦æ˜¯å¿…é¡»çš„*/.article-container &#123; width: 500px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;&#125; å¤šè¡Œæ–‡å­— 12345678.article-container &#123; display: -webkit-box; word-break: break-all; -webkit-box-orient: vertical; -webkit-line-clamp: 4; //éœ€è¦æ˜¾ç¤ºçš„è¡Œæ•° overflow: hidden; text-overflow: ellipsis;&#125; æ¶ˆé™¤å›¾ç‰‡ä¸‹æ–¹é—´éš™ é€šè¿‡è®¾ç½®ç»™ img å…ƒç´ è®¾ç½® vertical-align: top æ¶ˆé™¤è¡Œå†…å…ƒç´ çš„é—´éš™ï¼ˆä»…å¯¹ img å…ƒç´ æœ‰ç”¨ 1vertical-align: top; å›¾æ–‡å±…ä¸­ 1234&lt;div class="container"&gt; &lt;img src="../../public/images/bg1.jpg"&gt; &lt;span&gt;å®‰èƒ½æ‘§çœ‰æŠ˜è…°äº‹æƒè´µï¼Œä½¿æˆ‘ä¸å¾—å¼€å¿ƒé¢œ&lt;/span&gt;&lt;/div&gt; 123456.container&#123; padding:15px 0; img&#123; vertical-align: middle; &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨webpack4é…ç½®ä¸€ä¸ªå®Œæ•´çš„reactå‰ç«¯å·¥ç¨‹]]></title>
    <url>%2Fblog%2F2019%2F06%2F13%2F%E4%BD%BF%E7%94%A8webpack4%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AA%E5%AE%8C%E5%96%84%E7%9A%84%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[ä¸€ã€åŸºç¡€é…ç½®1ã€init1234mkdir webpack-projectcd webpack-projectmkdir srcyarn init 2ã€å®‰è£…1234567891011121314yarn add webpack webpack-cli webpack-dev-servertouch webpack.config.js// webpack.config.jsmodule.exports = &#123; mode: "development", entry: ["./src/index.js"], output: &#123; path: path.join(__dirname,'dist'), filename: "bundle.js" &#125;, module: &#123;&#125;, plugins: &#123;&#125;, devServer: &#123;&#125;&#125; 3ã€å®‰è£…react123456789yarn add react react-dom react-router-dom// å»ºç«‹å¦‚ä¸‹çš„æ–‡ä»¶ç›®å½•ï¼Œå¹¶ç¼–å†™å®‰è£…reactå’Œreact-routerå¹¶ç¼–å†™reactä»£ç å¦‚ä¸‹|-srcâ”‚ index.js ä¸»æ–‡ä»¶â”œâ”€â”€â”€pagesâ”‚ Count.jsx -- å®žçŽ°äº†ä¸€ä¸ªè®¡æ•°å™¨çš„åŠŸèƒ½ï¼Œç‚¹å‡»æŒ‰é’®ï¼Œä¼šè®©æ•°å­—å¢žåŠ ï¼ŒæŒ‰é’®ä¼šå®žæ—¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šâ”‚ Home.jsx -- ä¸€ä¸ªç®€å•çš„æ–‡å­—å±•ç¤ºâ””â”€â”€â”€router index.js -- è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œä¸¤ä¸ªé¡µé¢åˆ†åˆ«å¯¹åº”ä¸¤ä¸ªè·¯ç”± countå’Œ home 4ã€babelç¼–è¯‘es6,jsxç­‰12345678910111213// @babel/core-babelæ ¸å¿ƒæ¨¡å— @babel/preset-env-ç¼–è¯‘ES6ç­‰ @babel/preset-react-è½¬æ¢JSXyarn add babel-loader @babel/core @babel/preset-env @babel/plugin-transform-runtime @babel/preset-react// @babel/plugin-transform-runtime: é¿å… polyfill æ±¡æŸ“å…¨å±€å˜é‡ï¼Œå‡å°æ‰“åŒ…ä½“ç§¯// @babel/polyfill: ES6 å†…ç½®æ–¹æ³•å’Œå‡½æ•°è½¬åŒ–åž«ç‰‡yarn add @babel/polyfill @babel/runtime//moduleé…ç½®&#123; test: /\.jsx?$/, exclude: &apos;/node_modules/&apos;, use: [&#123; loader: &apos;babel-loader&apos; &#125;]&#125; æ ¹ç›®å½•æ–°å»º.babelrcæ–‡ä»¶1234&#123; "presets": ["@babel/preset-env","@babel/preset-react"], "plugins": ["@babel/plugin-transform-runtime"]&#125; 5ã€æŒ‰éœ€å¼•å…¥babel-polyfillä¸€èˆ¬åœ°,å®‰è£…å®Œ@babel/polyfillä¹‹åŽ,åœ¨å…¥å£æ–‡ä»¶ç›´æŽ¥import,ä½†è¿™æ ·ä¼šæœ‰å¯¼è‡´å¼•å…¥ä¸éœ€è¦çš„è¯­æ³•åž«ç‰‡,å¯¼è‡´æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶è¿‡å¤§çš„é—®é¢˜å½“é…åˆ@babel/preset-envä¸€èµ·ä½¿ç”¨æ—¶,æ›´æ”¹.babelrcuseBuiltInsè¡¨ç¤ºåªæ‰“åŒ…é¡¹ç›®ä½¿ç”¨åˆ°çš„123456&#123; &quot;presets&quot;: [&quot;@babel/preset-env&quot;, &#123; &quot;useBuiltIns&quot;: &quot;usage&quot; &#125;, //entry è¡¨ç¤ºå®Œæ•´å¼•å…¥ &quot;@babel/preset-react&quot;], &quot;plugins&quot;: [&quot;@babel/plugin-transform-runtime&quot;]&#125; å¦‚æžœæ²¡æœ‰ç”¨åˆ°@babel/preset-envæ—¶,å¯ä»¥åœ¨entryå…¥å£å¯¼å…¥,ä½†æ˜¯å®˜æ–¹å»ºè®®è¿˜æ˜¯ä¸è¦è¿™ä¹ˆåš123module.exports = &#123; entry:['@babel/polyfill','./src/index.js']&#125; 6ã€æ’ä»¶CleanWebpackPluginæ¯æ¬¡æ‰“åŒ…éƒ½ä¼šåœ¨distç”Ÿæˆæ–°çš„æ–‡ä»¶,æ‰€ä»¥éœ€è¦è¿™ä¸ªæ’ä»¶åœ¨æ¯æ¬¡æ‰“åŒ…å‰åˆ é™¤ä¸Šæ¬¡æ‰“åŒ…å¥½çš„æ–‡ä»¶12345yarn add CleanWebpackPluginimport CleanWebpackPlugin from 'clean-webpack-plugin'plugins :[ new CleanWebpackPlugin() ] 7ã€ä½¿ç”¨HtmlWebpackPluginçŽ°åœ¨æˆ‘ä»¬ç”Ÿæˆçš„éƒ½æ˜¯jsæ–‡ä»¶,ä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦html,ä½¿ç”¨è¿™ä¸ªæ’ä»¶å¯ä»¥é€šè¿‡è®¾ç½®çš„æ¨¡æ¿htmlç”Ÿæˆè‡ªåŠ¨å…³è”jsè·¯å¾„çš„æœ€ç»ˆçš„html123456789101112yarn add html-webpack-plugincd srctouch index.html//webpack.config.jsconst HtmlWebpackPlugin = require('html-webpack-plugin');plugins: [ new CleanWebpackPlugin(), new HtmlWebpackPlugin(&#123; filename: 'index.html', // æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å template: path.join(__dirname, 'src/template.html') // æŒ‡å®šæ¨¡æ¿è·¯å¾„ &#125;) ] 8ã€ä½¿ç”¨dev-toolé…ç½®é¡¹è¿›è¡Œsource-mapä¼˜åŒ–webpackä¸­devtoolé€‰é¡¹ç”¨æ¥æŽ§åˆ¶æ˜¯å¦ç”Ÿæˆï¼Œä»¥åŠå¦‚ä½•ç”Ÿæˆ source mapã€‚ç®€è¨€ä¹‹ï¼Œsource mapå°±æ˜¯å¸®åŠ©æˆ‘ä»¬å®šä½åˆ°é”™è¯¯ä¿¡æ¯ä½ç½®çš„æ–‡ä»¶ã€‚æ­£ç¡®çš„é…ç½®source mapï¼Œèƒ½å¤Ÿæé«˜å¼€å‘æ•ˆçŽ‡ï¼Œæ›´å¿«çš„å®šä½åˆ°é”™è¯¯ä½ç½®ã€‚12345//webpack.config.jsmodule.exports = &#123; devtool:'cheap-module-eval-source-map',//çº¿ä¸ŠçŽ¯å¢ƒ devtool:'cheap-module-source-map'//æµ‹è¯•çŽ¯å¢ƒ&#125; 9ã€ä½¿ç”¨WebpackDevServeré…ç½®å¼€å‘æœåŠ¡å™¨webpack-dev-serveræ˜¯åœ¨æœ¬åœ°å¼€å‘éƒ¨ç½²çš„ä¸€ä¸ªå°åž‹çš„é™æ€èµ„æºæœåŠ¡å™¨,æä¾›å®žæ—¶é‡è½½åŠŸèƒ½123456789101112131415//webpack.config.jsmodule.exports = &#123; devServer: &#123; hot:true, inline:true, contentBase:path.join(__dirname,'dist'), host:'0.0.0.0',//æ–¹ä¾¿å±€åŸŸç½‘è®¿é—® port:8080, historyApiFallback: true, // è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿žæŽ¥åˆ°index.html proxy: &#123; // ä»£ç†åˆ°åŽç«¯çš„æœåŠ¡åœ°å€ï¼Œä¼šæ‹¦æˆªæ‰€æœ‰ä»¥apiå¼€å¤´çš„è¯·æ±‚åœ°å€, è§£å†³è·¨åŸŸé—®é¢˜ "/api": "http://xxx.xxx.x.xx:xxxx" &#125; &#125;&#125; 10ã€ä½¿ç”¨HotModuleReplacementçƒ­æ›´æ–°(HMR)å»ºç«‹äº†å¼€å‘çŽ¯å¢ƒæœ¬åœ°æœåŠ¡å™¨åŽï¼Œå½“ä¿®æ”¹å†…å®¹åŽï¼Œç½‘é¡µä¼šåŒæ­¥åˆ·æ–°ï¼Œæˆ‘ä»¬çŽ°åœ¨è¿›å…¥toCounté¡µé¢ ç‚¹å‡»æŒ‰é’®ï¼Œå°†æ•°å­—åŠ åˆ°ä¸€ä¸ªä¸ä¸º0çš„æ•°ï¼Œæ¯”å¦‚åŠ åˆ°6 ç„¶åŽä½ å¯ä»¥åœ¨ä»£ç ä¸­æ”¹å˜æŒ‰é’®çš„æ–‡å­—ï¼Œéšä¾¿æ”¹ç‚¹ä¸œè¥¿ï¼Œä¼šå‘çŽ°ï¼Œé¡µé¢åˆ·æ–°åŽï¼Œæ•°å­—é‡æ–°å˜ä¸º0è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæƒ³è¦çš„æ˜¯ï¼Œèƒ½ä¸èƒ½æŠŠé¡µé¢çš„çŠ¶æ€ä¿å­˜äº†ï¼Œä¹Ÿå°±æ˜¯æ›´æ”¹äº†ä»£ç åŽï¼Œé¡µé¢è¿˜æ˜¯ä¿å­˜äº†æ•°å­—ä¸º6çš„çŠ¶æ€,ä¹Ÿå°±æ˜¯å±€éƒ¨æ”¹å˜ã€‚è¿™æ—¶å°±è¦ç”¨åˆ°HotModuleReplacementè¿™ä¸ªæ’ä»¶12345678910111213141516//webpack.config.jsmodule.exports = &#123; devServer: &#123; hot:true, inline:true, contentBase:path.join(__dirname,'dist'), host:'0.0.0.0',//æ–¹ä¾¿å±€åŸŸç½‘è®¿é—® port:8080, historyApiFallback: true, // è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿žæŽ¥åˆ°index.html proxy: &#123; // ä»£ç†åˆ°åŽç«¯çš„æœåŠ¡åœ°å€ï¼Œä¼šæ‹¦æˆªæ‰€æœ‰ä»¥apiå¼€å¤´çš„è¯·æ±‚åœ°å€, è§£å†³è·¨åŸŸé—®é¢˜ "/api": "http://xxx.xxx.x.xx:xxxx" &#125; &#125;, plugins:[new webpack.HotModuleReplacementPlugin()]&#125; 11ã€react-hot-loaderè®°å½•reacté¡µé¢ç•™å­˜çŠ¶æ€statereact-hot-loaderæ˜¯è§£å†³åœ¨reactå¼€å‘ä¸­çš„é¡µé¢ç•™å­˜çŠ¶æ€åˆ·æ–°é—®é¢˜1234567891011121314151617181920212223242526272829303132cnpm i react-hot-loader -D // åœ¨ä¸»æ–‡ä»¶é‡Œè¿™æ ·å†™ import React from "react";import ReactDOM from "react-dom";import &#123; AppContainer &#125; from "react-hot-loader";-------------------1ã€é¦–å…ˆå¼•å…¥AppContainreimport &#123; BrowserRouter &#125; from "react-router-dom";import Router from "./router"; /*åˆå§‹åŒ–*/renderWithHotReload(Router);-------------------2ã€åˆå§‹åŒ– /*çƒ­æ›´æ–°*/if (module.hot) &#123;-------------------3ã€çƒ­æ›´æ–°æ“ä½œ module.hot.accept("./router/index.js", () =&gt; &#123; const Router = require("./router/index.js").default; renderWithHotReload(Router); &#125;);&#125; function renderWithHotReload(Router) &#123;-------------------4ã€å®šä¹‰æ¸²æŸ“å‡½æ•° ReactDOM.render( &lt;AppContainer&gt; &lt;BrowserRouter&gt; &lt;Router /&gt; &lt;/BrowserRouter&gt; &lt;/AppContainer&gt;, document.getElementById("app") );&#125; 12ã€ç¼–è¯‘csså’Œscss/less12345678910yarn add css-loader style-loader sass-loader node-sass / less-loader //webpack.config.js&#123; test: /\.scss$/, use: [ &quot;style-loader&quot;, // åˆ›å»ºstyleæ ‡ç­¾ï¼Œå¹¶å°†cssæ·»åŠ è¿›åŽ» &quot;css-loader&quot;, // ç¼–è¯‘css &quot;sass-loader&quot; // ç¼–è¯‘scss ]&#125; 13ã€ä½¿ç”¨PostCSSPostCSSæ˜¯ä¸€ä¸ªä½¿ç”¨JSæ’ä»¶è½¬æ¢cssæ ·å¼çš„å·¥å…·,æœ€å¸¸ç”¨åˆ°çš„å°±æ˜¯Autoprefixerè¿™ä¸ªæ’ä»¶,ä½†è¿˜æœ‰è®¸å¤šçš„æ’ä»¶æ¯”å¦‚postcss-preset-env,å¯ä»¥ä½¿ç”¨å®žéªŒæ€§çš„cssç‰¹æ€§,stylelintcssè¯­æ³•æ£€æµ‹ç­‰1234567891011yarn add postcss-loader//webpack.config.js&#123; test: /\.scss$/, use: [ "style-loader", // åˆ›å»ºstyleæ ‡ç­¾ï¼Œå¹¶å°†cssæ·»åŠ è¿›åŽ» "css-loader", // ç¼–è¯‘css "postcss-loader", "sass-loader" // ç¼–è¯‘scss ]&#125; 14ã€å¤„ç†å›¾ç‰‡123456789101112131415yarn add file-loader url-loader url-loader è§£å†³cssç­‰æ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡è·¯å¾„çš„é—®é¢˜file-loader å½“å›¾ç‰‡è¾ƒå°çš„æ—¶å€™ä¼šæŠŠå›¾ç‰‡BASE64ç¼–ç ï¼Œå¤§äºŽlimitå‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨file-loader è¿›è¡Œæ‹·è´//webpack.config.js&#123; test: /\.(png|jpg|jpeg|gif|svg)/, use: &#123; loader: 'url-loader', options: &#123; outputPath: 'images/', // å›¾ç‰‡è¾“å‡ºçš„è·¯å¾„ limit: 10 * 1024 &#125; &#125;&#125; 15ã€å¤„ç†å­—ä½“1234567891011121314&#123; test: /\.(eot|woff2?|ttf|svg)$/, use: [ &#123; loader: 'url-loader', options: &#123; name: '[name]-[hash:5].min.[ext]', limit: 5000, // fonts file size &lt;= 5KB, use 'base64'; else, output svg file publicPath: 'fonts/', outputPath: 'fonts/' &#125; &#125; ] &#125; webpackä¼˜åŒ–1ã€extension,aliaså¯¹æ–‡ä»¶è·¯å¾„åŽç¼€åä¼˜åŒ– extension: æŒ‡å®šextensionä¹‹åŽå¯ä»¥ä¸ç”¨åœ¨requireæˆ–æ˜¯importçš„æ—¶å€™åŠ æ–‡ä»¶æ‰©å±•å,ä¼šä¾æ¬¡å°è¯•æ·»åŠ æ‰©å±•åè¿›è¡ŒåŒ¹é… alias: é…ç½®åˆ«åå¯ä»¥åŠ å¿«webpackæŸ¥æ‰¾æ¨¡å—çš„é€Ÿåº¦12345678resolve: &#123; extension: ["", ".js", ".jsx"], alias: &#123; "@": path.join(__dirname, "src"), pages: path.join(__dirname, "src/pages"), router: path.join(__dirname, "src/router") &#125; &#125; 2ã€MiniCssExtractPluginæŠ½å–cssæ–‡ä»¶å¦‚æžœä¸åšé…ç½®ï¼Œæˆ‘ä»¬çš„cssæ˜¯ç›´æŽ¥æ‰“åŒ…è¿›jsé‡Œé¢çš„ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å•ç‹¬ç”Ÿæˆcssæ–‡ä»¶ã€‚ å› ä¸ºå•ç‹¬ç”Ÿæˆcss,csså¯ä»¥å’Œjså¹¶è¡Œä¸‹è½½ï¼Œæé«˜é¡µé¢åŠ è½½æ•ˆçŽ‡12345678910111213141516171819202122yarn add mini-css-extract-plugin//webpack.config.jsconst MiniCssExtractPlugin = require("mini-css-extract-plugin"); &#123; &#123; test: /\.scss$/, use: [ // "style-loader", // bä¸å†éœ€è¦style-loaderè¦å·²ç»åˆ†ç¦»å¤„ç† MiniCssExtractPlugin.loader, "css-loader", // ç¼–è¯‘css "postcss-loader", "sass-loader" // ç¼–è¯‘scss ] &#125;, plugins: [ new MiniCssExtractPlugin(&#123; filename: "[name].css", chunkFilename: "[id].css" &#125;) ]&#125; 3ã€ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç ä¸ºä»€ä¹ˆè¦å®žçŽ°æŒ‰éœ€åŠ è½½ï¼Ÿæˆ‘ä»¬çŽ°åœ¨çœ‹åˆ°ï¼Œæ‰“åŒ…å®ŒåŽï¼Œæ‰€æœ‰é¡µé¢åªç”Ÿæˆäº†ä¸€ä¸ªbundle.js,å½“æˆ‘ä»¬é¦–å±åŠ è½½çš„æ—¶å€™ï¼Œå°±ä¼šå¾ˆæ…¢ã€‚å› ä¸ºä»–ä¹Ÿä¸‹è½½äº†åˆ«çš„é¡µé¢çš„jsäº†,ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰§è¡Œå®Œæ¯•ä¹‹å‰ï¼Œé¡µé¢æ˜¯å®Œå…¨ç©ºç™½çš„ã€‚ å¦‚æžœæ¯ä¸ªé¡µé¢å•ç‹¬æ‰“åŒ…è‡ªå·±çš„jsï¼Œå°±å¯ä»¥åœ¨è¿›å…¥é¡µé¢æ—¶å€™å†åŠ è½½è‡ªå·±çš„jsï¼Œé¦–å±åŠ è½½å°±å¯ä»¥å¿«å¾ˆå¤š12345optimization: &#123; splitChunks:&#123; chunks:&apos;all&apos; &#125;&#125; 4ã€æ–‡ä»¶åŽ‹ç¼©webpack4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œä»£ç å°±ä¼šè‡ªåŠ¨åŽ‹ç¼©1mode: &apos;production&apos; 5ã€ä½¿ç”¨å¤–éƒ¨æ‰©å±•(å…¨å±€å˜é‡)å¯ä»¥ç›´æŽ¥åœ¨å…¨å±€ä½¿ç”¨å®šä¹‰çš„$å˜é‡12345678910import Webpack from &apos;webpack&apos;externals: &#123; &apos;$&apos;: &apos;jquery&apos; //npmåŒ… //éœ€è¦require(&apos;$&apos;) &#125;//æˆ–è€…plugins: [new Webpack.ProvidePlugin(&#123; $: &apos;jquery&apos;, // npm jQuery: &apos;jQuery&apos; // æœ¬åœ°Jsæ–‡ä»¶&#125;)] 6ã€æŒ‡å®šçŽ¯å¢ƒ,å®šä¹‰çŽ¯å¢ƒå˜é‡1234567891011import Webpack from 'webpack'&#123; plugins: [ new webpack.DefinePlugin(&#123; 'process.env': &#123; VUEP_BASE_URL: JSON.stringify('http://localhost:8080') &#125; &#125;), ]&#125; 7ã€CSS Tree Shaking1234567891011121314yarn add glob-all purify-css purifycss-webpack const PurifyCSS = require(&apos;purifycss-webpack&apos;)const glob = require(&apos;glob-all&apos;)plugins:[ // æ¸…é™¤æ— ç”¨ css new PurifyCSS(&#123; paths: glob.sync([ // è¦åš CSS Tree Shaking çš„è·¯å¾„æ–‡ä»¶ path.resolve(__dirname, &apos;./src/*.html&apos;), // è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å¯¹ html æ–‡ä»¶è¿›è¡Œ tree shaking path.resolve(__dirname, &apos;./src/*.js&apos;) ]) &#125;)] 8ã€js Tree Shakingæ¸…é™¤åˆ°ä»£ç ä¸­æ— ç”¨çš„jsä»£ç ï¼Œåªæ”¯æŒimportæ–¹å¼å¼•å…¥ï¼Œä¸æ”¯æŒcommonjsçš„æ–¹å¼å¼•å…¥åªè¦modeæ˜¯productionå°±ä¼šç”Ÿæ•ˆï¼Œdevelpomentçš„tree shakingæ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œå› ä¸ºwebpackä¸ºäº†æ–¹ä¾¿ä½ çš„è°ƒè¯•123optimization: &#123; usedExports:true, &#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[Vueé€šä¿¡]]></title>
    <url>%2Fblog%2F2019%2F06%2F12%2FVue%E9%80%9A%E4%BF%A1%2F</url>
    <content type="text"><![CDATA[propså’Œ$emitpropsçˆ¶ä¼ å­ï¼Œ$emitå­ä¼ çˆ¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051 Vue.component('child',&#123; data()&#123; return &#123; mymessage:this.message &#125; &#125;, template:` &lt;div&gt; &lt;input type="text" v-model="mymessage" @input="passData(mymessage)"&gt; &lt;/div&gt; `, props:['message'],//å¾—åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ® methods:&#123; passData(val)&#123; //è§¦å‘çˆ¶ç»„ä»¶ä¸­çš„äº‹ä»¶ this.$emit('getChildData',val) &#125; &#125; &#125;)//â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”…â”„ï¼Š Vue.component('parent',&#123; template:` &lt;div&gt; &lt;p&gt;this is parent compoent!&lt;/p&gt; &lt;child :message="message" v-on:getChildData="getChildData"&gt;&lt;/child&gt; &lt;/div&gt; `, data()&#123; return &#123; message:'å¼ ä¸æ€‚' &#125; &#125;, methods:&#123; //æ‰§è¡Œå­ç»„ä»¶è§¦å‘çš„äº‹ä»¶ getChildData(val)&#123; console.log(val) &#125; &#125; &#125;)//â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”…â”„ï¼Š // æŒ‚è½½ var app=new Vue(&#123; el:'#app', template:` &lt;div&gt; &lt;parent&gt;&lt;/parent&gt; &lt;/div&gt; ` &#125;) ä¸­å¤®äº‹ä»¶æ€»çº¿new Busæ–°å»ºä¸€ä¸ªVueäº‹ä»¶buså¯¹è±¡ï¼Œç„¶åŽé€šè¿‡bus.$emitè§¦å‘äº‹ä»¶ï¼Œbus.$onç›‘å¬è§¦å‘çš„äº‹ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859Vue.component('brother1',&#123; data()&#123; return &#123; mymessage:'hello brother1' &#125; &#125;, template:` &lt;div&gt; &lt;p&gt;this is brother1 compoent!&lt;/p&gt; &lt;input type="text" v-model="mymessage" @input="passData(mymessage)"&gt; &lt;/div&gt; `, methods:&#123; passData(val)&#123; //è§¦å‘å…¨å±€äº‹ä»¶globalEvent bus.$emit('globalEvent',val) &#125; &#125; &#125;) //â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”…â”„ï¼Š Vue.component('brother2',&#123; template:` &lt;div&gt; &lt;p&gt;this is brother2 compoent!&lt;/p&gt; &lt;p&gt;brother1ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼š&#123;&#123;brothermessage&#125;&#125;&lt;/p&gt; &lt;/div&gt; `, data()&#123; return &#123; mymessage:'hello brother2', brothermessage:'' &#125; &#125;, mounted()&#123; //ç»‘å®šå…¨å±€äº‹ä»¶globalEvent bus.$on('globalEvent',(val)=&gt;&#123; this.brothermessage=val; &#125;) &#125; &#125;)//â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”…â”„ï¼Š //ä¸­å¤®äº‹ä»¶æ€»çº¿ var bus=new Vue(); var app=new Vue(&#123; el:'#app', template:` &lt;div&gt; &lt;brother1&gt;&lt;/brother1&gt; &lt;brother2&gt;&lt;/brother2&gt; &lt;/div&gt; ` &#125;) provideå’Œinjectçˆ¶ç»„ä»¶ä¸­é€šè¿‡provideræ¥æä¾›å˜é‡ï¼Œç„¶åŽåœ¨å­ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ã€‚ä¸è®ºå­ç»„ä»¶æœ‰å¤šæ·±ï¼Œåªè¦è°ƒç”¨äº†injecté‚£ä¹ˆå°±å¯ä»¥æ³¨å…¥providerä¸­çš„æ•°æ®ã€‚è€Œä¸æ˜¯å±€é™äºŽåªèƒ½ä»Žå½“å‰çˆ¶ç»„ä»¶çš„propå±žæ€§æ¥èŽ·å–æ•°æ®ï¼Œåªè¦åœ¨çˆ¶ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå­ç»„ä»¶éƒ½å¯ä»¥è°ƒç”¨ã€‚123456789101112131415161718192021222324252627282930313233Vue.component('child',&#123; inject:['parent_var'],//å¾—åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ® data()&#123; return &#123; mymessage:this.parent_var &#125; &#125;, template:` &lt;div&gt; &#123;&#123; message &#125;&#125; &lt;/div&gt; &#125;)//â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”„â”…â”„â”…â”„â”…â”„â”…â”„ï¼Š Vue.component('parent',&#123; template:` &lt;div&gt; &lt;child&gt;&lt;/child&gt; &lt;/div&gt; `, provide:&#123; /* æ¯”å¦‚ä½ å¯ä»¥æŠŠç”¨æˆ·ç™»å½•ä¿¡æ¯å­˜å‚¨åœ¨App.vueä¸­ï¼Œå¯ä»¥æŠŠ provide:&#123;app:this&#125;æ³¨å…¥ï¼ŒåŽç»­æ‰€æœ‰ç»„ä»¶é€šè¿‡inject:['app'], å°±å¯ä»¥ç›´æŽ¥é€šè¿‡app.userInfoæ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯ */ parent_var:'éšä¾¿ä»€ä¹ˆéƒ½å¯ä»¥ï¼ˆå¯ä»¥æ˜¯this,å¯ä»¥æ˜¯dataä¸­çš„æ•°æ®ï¼‰' &#125;, data()&#123; return &#123; message:'hello' &#125; &#125; &#125;) $attrså’Œ$listenersè¿˜æ˜¯å¤šå±‚çš„åœºæ™¯ï¼ŒApp.vueâ€“&gt;Aâ€”&gt;B,å¦‚æžœAppç›´æŽ¥æƒ³ç»™Bä¼ é€’æ•°æ®è¯¥æ€Žä¹ˆåŠžï¼ŸVue 2.4å¼€å§‹æä¾›äº†$attrså’Œ$listenersæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œèƒ½å¤Ÿè®©ç»„ä»¶Appç›´æŽ¥ä¼ é€’æ•°æ®ç»™ç»„ä»¶Bapp.vueå¼•å…¥Aç»„ä»¶123456789101112131415161718192021222324252627&lt;template&gt; &lt;div id="app"&gt; &#123;&#123;app&#125;&#125; // ******å…³é”®ç‚¹***** &lt;A :app="app" @test="doTest"/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import A from "./components/A";export default &#123; name: "App", data() &#123; return &#123; app: "æˆ‘æ˜¯Appçš„æ•°æ®" &#125;; &#125;, components: &#123; A &#125;, methods: &#123; doTest() &#123; console.log(this.app) &#125; &#125;&#125; A.vueå¼•å…¥Bç»„ä»¶123456789101112131415161718192021222324&lt;template&gt; &lt;div class="hello"&gt; &lt;h6&gt;è¿™é‡Œæ˜¯Aç»„ä»¶&lt;/h6&gt; &lt;p&gt;$attrs: &#123;&#123;$attrs&#125;&#125;&lt;/p&gt; &lt;p&gt;$listeners: &#123;&#123;$listeners&#125;&#125;&lt;/p&gt; // ******å…³é”®ç‚¹***** v-bindä¼ é€’çš„éƒ½æ˜¯$attrs,v-onä¼ é€’çš„éƒ½æ˜¯$listeners &lt;B v-bind="$attrs" v-on="$listeners"/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import B from "./B";export default &#123; name: "A", props: &#123; msg: String &#125;, components: &#123; B &#125;, mounted() &#123; console.log(this.$listeners); &#125;&#125;;&lt;/script&gt; Bç»„ä»¶1234567891011121314151617181920212223&lt;template&gt; &lt;div class="hello"&gt; &lt;h6&gt;è¿™é‡Œæ˜¯Bç»„ä»¶&lt;/h6&gt; // ******å…³é”®ç‚¹***** &lt;p&gt;$attrs: &#123;&#123;$attrs&#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: "B", props: &#123; msg: String &#125;, mounted() &#123; // ******å…³é”®ç‚¹***** // ä¸ºå•¥è¿™é‡Œç›´æŽ¥èƒ½emitAppç»„ä»¶ä¼ é€’çš„testå‘¢ï¼Ÿ // å› ä¸ºåœ¨Aç»„ä»¶ä¸­æœ‰ä¸€ä¸ªå…³é”®æ“ä½œæ˜¯ &lt;B v-bind="$attrs" v-on="$listeners"/&gt; this.$emit("test"); &#125;&#125;;&lt;/script&gt; $parentå’Œ$childrenåˆ†åˆ«æ˜¯èŽ·å¾—çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶çš„å®žä¾‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546Vue.component('child',&#123; props:&#123; value:String, //v-modelä¼šè‡ªåŠ¨ä¼ é€’ä¸€ä¸ªå­—æ®µä¸ºvalueçš„propå±žæ€§ &#125;, data()&#123; return &#123; mymessage:this.value &#125; &#125;, methods:&#123; changeValue()&#123; this.$parent.message = this.mymessage;//é€šè¿‡å¦‚æ­¤è°ƒç”¨å¯ä»¥æ”¹å˜çˆ¶ç»„ä»¶çš„å€¼ &#125; &#125;, template:` &lt;div&gt; &lt;input type="text" v-model="mymessage" @change="changeValue"&gt; &lt;/div&gt; &#125;) Vue.component('parent',&#123; template:` &lt;div&gt; &lt;p&gt;this is parent compoent!&lt;/p&gt; &lt;button @click="changeChildValue"&gt;test&lt;/button &gt; &lt;child&gt;&lt;/child&gt; &lt;/div&gt; `, methods:&#123; changeChildValue()&#123; this.$children[0].mymessage = 'hello'; &#125; &#125;, data()&#123; return &#123; message:'hello' &#125; &#125; &#125;) var app=new Vue(&#123; el:'#app', template:` &lt;div&gt; &lt;parent&gt;&lt;/parent&gt; &lt;/div&gt; ` &#125;) v-modelçˆ¶ç»„ä»¶é€šè¿‡v-modelä¼ é€’å€¼ç»™å­ç»„ä»¶æ—¶ï¼Œä¼šè‡ªåŠ¨ä¼ é€’ä¸€ä¸ªvalueçš„propå±žæ€§ï¼Œåœ¨å­ç»„ä»¶ä¸­é€šè¿‡this.$emit(â€˜inputâ€™,val)è‡ªåŠ¨ä¿®æ”¹v-modelç»‘å®šçš„å€¼1234567891011121314151617181920212223242526272829303132333435363738394041Vue.component('child',&#123; props:&#123; value:String, //v-modelä¼šè‡ªåŠ¨ä¼ é€’ä¸€ä¸ªå­—æ®µä¸ºvalueçš„propå±žæ€§ &#125;, data()&#123; return &#123; mymessage:this.value &#125; &#125;, methods:&#123; changeValue()&#123; this.$emit('input',this.mymessage); //é€šè¿‡å¦‚æ­¤è°ƒç”¨å¯ä»¥æ”¹å˜çˆ¶ç»„ä»¶ä¸Šv-modelç»‘å®šçš„å€¼ &#125; &#125;, template:` &lt;div&gt; &lt;input type="text" v-model="mymessage" @change="changeValue"&gt; &lt;/div&gt; &#125;) Vue.component('parent',&#123; template:` &lt;div&gt; &lt;p&gt;this is parent compoent!&lt;/p&gt; &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt; &lt;child v-model="message"&gt;&lt;/child&gt; &lt;/div&gt; `, data()&#123; return &#123; message:'hello' &#125; &#125; &#125;) var app=new Vue(&#123; el:'#app', template:` &lt;div&gt; &lt;parent&gt;&lt;/parent&gt; &lt;/div&gt; ` &#125;) Vue.observable()vue2.6ä¹‹å‰ï¼Œåˆ›å»ºä¸€ä¸ªå“åº”å¯¹è±¡ï¼Œå¿…é¡»åœ¨ä¸€ä¸ªVueå®žä¾‹ä¸­é…ç½®ã€‚çŽ°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨Vueå®žä¾‹å¤–éƒ¨ï¼Œé€šè¿‡ä½¿ç”¨Vue.observable(data)åˆ›å»ºï¼Œå¦‚ä¸‹12345678910111213141516import vue from vue;const state = Vue.observable (&#123; counter: 0,&#125;);export default &#123; render () &#123; return ( &lt;div&gt; &#123;state.counter&#125; &lt;button v-on:click=&#123;() =&gt; &#123;state.counter ++; &#125;&#125;&gt; Increment counter &lt;/ button&gt; &lt;/ div&gt; ); &#125;,&#125;; vuexå…·ä½“å‚è€ƒæ–‡æ¡£]]></content>
  </entry>
  <entry>
    <title><![CDATA[Vueæ•°æ®æ›´æ–°é—®é¢˜]]></title>
    <url>%2Fblog%2F2019%2F06%2F11%2FVue%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Vue çš„æ•°ç»„æ›´æ–°é—®é¢˜ ä»¥ä¸‹å‚è€ƒ Vue æ–‡æ¡£ ç”±äºŽ JavaScript çš„é™åˆ¶ï¼ŒVue ä¸èƒ½æ£€æµ‹ä»¥ä¸‹æ•°ç»„çš„å˜åŠ¨ï¼š 1.å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æŽ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶ï¼Œä¾‹å¦‚ï¼švm.items[indexOfItem] = newValue 2.å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼švm.items.length = newLength é¢˜å¤–è¯ å®žé™…ä¸Šï¼Œæˆ‘ä»¬åœ¨ Vue çš„æ•°ç»„ä¹¦ä½¿ç”¨ spliceã€pushç­‰æ–¹æ³•ï¼ŒVue éƒ½å·²ç»åšäº†ä¸€å±‚å°è£…ï¼Œæ‰€ä»¥å®ƒä»¬æ‰èƒ½å‡ºå‘è§†å›¾æ›´æ–°ï¼Œå¦‚æžœæœ‰æƒ³æ›´åŠ æ·±å…¥äº†è§£ï¼Œå¯ä»¥é˜…è¯»æºç ã€‚ Vue å¼ºåˆ¶åˆ·æ–°â€”â€”$forceUpdate() å¦‚æžœä½ å‘çŽ°ä½ è‡ªå·±éœ€è¦åœ¨ Vue ä¸­åšä¸€æ¬¡å¼ºåˆ¶æ›´æ–°ï¼Œ99.9% çš„æƒ…å†µï¼Œæ˜¯ä½ åœ¨æŸä¸ªåœ°æ–¹åšé”™äº†äº‹ã€‚ ç±»ä¼¼çš„ä»£ç å¦‚ä¸‹ï¼š123456// åœ¨æŽ§åˆ¶å˜é‡æ”¹å˜çš„æ—¶å€™è¿›è¡Œ å¼ºåˆ¶æ¸²æŸ“æ›´æ–°let childrenRefs = this.$refs.elTabs.$childrenthis.$nextTick(() =&gt; &#123; childrenRefs.forEach(child =&gt; child.$forceUpdate())&#125;) æ·±æ‹·è´æ•°æ®å…ˆç”¨ä¸€ä¸ªæ•°æ®æ·±æ‹·è´æ•°æ®ï¼Œè¿™é‡Œä½¿ç”¨äº† slice æ–¹æ³•ï¼Œç„¶åŽç½®ç©ºï¼Œæœ€åŽåœ¨ $nextTick ä¸­èµ‹å€¼æ·±æ‹·è´å‡ºæ¥çš„æ•°ç»„å€¼ã€‚12345var newArray = this.questionData.slice(0)this.questionData = []this.$nextTick(function () &#123; this.questionData = newArray;&#125;)]]></content>
  </entry>
  <entry>
    <title><![CDATA[gulpé…ç½®reactå¼€å‘çŽ¯å¢ƒ]]></title>
    <url>%2Fblog%2F2019%2F05%2F25%2Fgulp%E9%85%8D%E7%BD%AEreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%2F</url>
    <content type="text"><![CDATA[gulpä¸Žwebpackgulpæ˜¯å¯¹æ–‡ä»¶çš„å¤„ç†,æ˜¯Task Runner,èŠ‚çœäº†æ‰‹åŠ¨ç¼–è¯‘,æ‰‹åŠ¨æ‰“åŒ…è¿™ä¸€æ­¥,ä½†æ˜¯å•çº¯ä½¿ç”¨gulpæ²¡æ³•åŽ»è§£å†³jsä¸­å¼•å…¥moduleçš„é—®é¢˜,å¯èƒ½ä¼šé‡åˆ°é¡¹ç›®ä¸­æ˜Žæ˜Žå¼•å…¥äº†babelè¯­æ³•è½¬æ¢,ä¸ºä»€ä¹ˆæµè§ˆå™¨ä¼šæç¤ºrequire is not definedæŠ¥é”™,è¿™æ˜¯å› ä¸ºbabelåªè§£æžè¯­æ³•,å¹¶ä¸ä¼šåŽ»ç®¡jsçš„æ¨¡å—å¼•å…¥ã€‚è€Œwebpackè§£å†³äº†requireçš„é—®é¢˜,æ ¹æ®ä¸åŒçš„æ–‡ä»¶è½¬æ¢éœ€æ±‚å¼•å…¥ä¸åŒçš„loader,æœ€åŽæ‰“åŒ…å‡ºç¬¦åˆç›¸åº”è§„åˆ™çš„é™æ€èµ„æºæ–‡ä»¶ã€‚ Browserify-è®©æµè§ˆå™¨åŠ è½½Nodeæ¨¡å— å®˜æ–¹æ–‡æ¡£å¼€å¤´ä»‹ç»:require(&#39;modules&#39;) in the browser ç›®å‰NPMçš„åŒ…å¤§å¤šéƒ½æ˜¯é€šè¿‡CMDçš„æ–¹å¼æ‰“åŒ…çš„ï¼Œé™¤äº†ç‰¹å®šçš„å¯ä»¥ä½¿ç”¨CMDæ¨¡å—åŠ è½½å™¨åŠ è½½çš„æ¨¡å—ï¼Œå¤§éƒ¨åˆ†nodejsæ¨¡å—æ— æ³•ç›´æŽ¥ä½¿ç”¨åˆ°æµè§ˆå™¨çŽ¯å¢ƒä¸­ã€‚Browserifyæ˜¯ä¸€ä¸ªä¾›æµè§ˆå™¨çŽ¯å¢ƒä½¿ç”¨çš„æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œåƒåœ¨nodeçŽ¯å¢ƒä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡require(â€˜modulesâ€™)æ¥ç»„ç»‡æ¨¡å—ä¹‹é—´çš„å¼•ç”¨å’Œä¾èµ–ï¼Œæ—¢å¯ä»¥å¼•ç”¨npmä¸­çš„æ¨¡å—ï¼Œä¹Ÿå¯ä»¥å¼•ç”¨è‡ªå·±å†™çš„æ¨¡å—ï¼Œç„¶åŽæ‰“åŒ…æˆjsæ–‡ä»¶ï¼Œå†åœ¨é¡µé¢ä¸­é€šè¿‡&lt;script&gt;æ ‡ç­¾åŠ è½½ã€‚ Browserify.transformæŒ‡å®šè½¬æ¢æ¨¡å—,åœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­è‡ªåŠ¨æ‰§è¡Œ,åœ¨è¿™é‡Œéœ€è¦ç»“åˆbabelè¿›è¡Œè¯­æ³•è½¬æ¢ è¯¦ç»†é…ç½®reactè¯­æ³•è§£æžä¸»è¦ç”¨åˆ°babelçš„@babel/preset-reactæ’ä»¶,æ­¤å¤–è¿˜ä¼šä½¿ç”¨åˆ°browserSyncè¿›è¡Œè‡ªåŠ¨æ£€æµ‹åˆ·æ–°,lessé¢„å¤„ç†1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677const gulp = require('gulp') //å¼•å…¥gulpconst less = require('gulp-less') //å¼•å…¥gulp-lesså¤„ç†lessè¯­æ³•const LessAutoprefix = require('less-plugin-autoprefix') //csså…¼å®¹å‰ç¼€const autoprefix = new LessAutoprefix(&#123; browsers: ['last 2 versions']&#125;)const del = require('del') //åˆ é™¤æ–‡ä»¶æ¨¡å—,åœ¨æ¯æ¬¡gulpä»»åŠ¡å‰æ‰§è¡Œconst babel = require('gulp-babel') //babelconst browserSync = require('browser-sync').create() //è‡ªåŠ¨åˆ·æ–°const reload = browserSync.reload //reloadç¤ºä¾‹,ç”¨äºŽæµè§ˆå™¨åˆ·æ–°const browserify = require('browserify') //æ¨¡å—å¤„ç†const source = require('vinyl-source-stream') //å°†browerifyæµè½¬æ¢æˆgulpæ–‡ä»¶æµconst babelify = require('babelify') //ç”¨äºŽbrowserifyçš„babelç¼–è¯‘å™¨//ä¸»ä»»åŠ¡function main(cb) &#123; (async () =&gt; &#123; await del.sync('dist') //less gulp.src('./src/index.less').pipe(less(&#123; plugins: [autoprefix] &#125;)).pipe(gulp.dest('./dist')) //js browserify(&#123; entries:['./src/index.js'] &#125;) .transform(babelify,&#123; presets: ['@babel/env','@babel/preset-react'], plugins: ["@babel/plugin-transform-runtime"] &#125;) .bundle() //æ‰“åŒ… .pipe(source('index.js')).pipe(gulp.dest('./dist')) gulp.src('./src/index.html').pipe(gulp.dest('./dist')) cb() &#125;)()&#125;//å¼€å‘çŽ¯å¢ƒfunction devServer(cb)&#123; browserSync.init(&#123; server: &#123; baseDir: './dist' &#125; &#125;) gulp.watch("./src/**", gulp.series(lessChange,jsChange,htmlChange)) cb()&#125;//æ£€æµ‹htmlå˜åŒ–function htmlChange()&#123; return gulp.src('./src/index.html').pipe(gulp.dest('./dist')).pipe(reload(&#123;stream:true&#125;))&#125;//æ£€æµ‹æ ·å¼æ–‡ä»¶function lessChange() &#123; return gulp.src('./src/index.less').pipe(less(&#123; plugins: [autoprefix] &#125;)).pipe(gulp.dest('./dist')).pipe(reload(&#123;stream:true&#125;))&#125;//æ£€æµ‹jsæ–‡ä»¶function jsChange(cb)&#123; browserify(&#123; entries:['./src/index.js'] &#125;) .transform(babelify,&#123; presets: ['@babel/env','@babel/preset-react'], plugins: ["@babel/plugin-transform-runtime"] &#125;) .bundle() .pipe(source('index.js')).pipe(gulp.dest('./dist')).pipe(reload(&#123;stream:true&#125;)) cb()&#125;//defaulté»˜è®¤ä»»åŠ¡,ç”¨äºŽpackage.jsonæ‰§è¡Œè„šæœ¬gulpä»»åŠ¡gulp.task('default', gulp.series(main,devServer))]]></content>
  </entry>
  <entry>
    <title><![CDATA[æŒ‡æ•°è¿ç®—æ€§èƒ½æ¯”è¾ƒ]]></title>
    <url>%2Fblog%2F2019%2F04%2F08%2F%E6%8C%87%E6%95%B0%E8%BF%90%E7%AE%97%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83%2F</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰é€’å½’å‡½æ•°1234function calculateExponent(base,exponent)&#123; if(exponent == 1) return base return base * calculateExponent(base,--exponent)&#125; Math.pow()Math.pow() å‡½æ•°è¿”å›žåŸºæ•°ï¼ˆbaseï¼‰çš„æŒ‡æ•°ï¼ˆexponentï¼‰æ¬¡å¹‚ï¼Œå³ base^exponentã€‚ ES7æŒ‡æ•°æ“ä½œç¬¦åœ¨ES7ä¸­å¼•å…¥äº†æŒ‡æ•°è¿ç®—ç¬¦**12 ** 2 // 4 æ¯”è¾ƒæ€§èƒ½(æµ‹è¯•çŽ¯å¢ƒ v8)æ¯”è¾ƒä½¿ç”¨console.timeå’Œconsole.timeEndæ–¹æ³•,å¾—å‡ºè¿ç®—è€—æ—¶123456789101112131415161718//ä¾æ¬¡æ¯”è¾ƒ10æ¬¡å¹‚,100æ¬¡å¹‚,1000æ¬¡å¹‚,10000æ¬¡å¹‚å¾ªçŽ¯100æ¬¡è€—æ—¶console.time()for(let i =0;i&lt;100;i++)&#123; calculateExponent(i,10)&#125;console.timeEnd()console.time()for(let i =0;i&lt;100;i++)&#123; Math.pow(i,10)&#125;console.timeEnd()console.time()for(let i =0;i&lt;100;i++)&#123; i ** 10&#125;console.timeEnd() ç»“æžœå¾—å‡ºå››æ¬¡ç»“æžœè€—æ—¶1234[&apos;10&apos;, 0.2, 0.052, 0.052],[&apos;100&apos;, 0.503, 0.057, 0.089],[&apos;1000&apos;, 3.273, 0.090, 0.083],[&apos;10000&apos;, 28.346, 0.081, 0.120] å¯ä»¥å‘çŽ°é€’å½’å‡½æ•°æ—¶é—´å¤§å¤§å¤šäºŽå…¶ä»–ä¸¤ä¸ªæ–¹æ³•,é‚£ä¹ˆå‰”é™¤é€’å½’å‡½æ•°çš„ç»“æžœå†çœ‹: æ ¹æ®å›¾å¯ä»¥å‘çŽ°,ä¸¤ä¸ªæ–¹æ³•åœ¨ä¸åŒæ•°é‡çº§è€—è´¹çš„æ—¶é—´æœ‰é•¿æœ‰çŸ­,åœ¨1000æ•°é‡çº§æ—¶å€™**è¿ç®—ç¬¦æ—¶é—´å´å°‘äºŽMath.pow,æ¥åˆ°10000æ•°é‡çº§æ—¶**è¿ç®—ç¬¦æ—¶é—´å¤§å¹…åº¦é•¿äºŽMath.pow,æˆ‘ä»¬å¯ä»¥æ ¹æ®å®žé™…æƒ…å†µé€‰æ‹©ä½¿ç”¨**è¿˜æ˜¯Math.pow]]></content>
  </entry>
  <entry>
    <title><![CDATA[å®žçŽ°å°ç¨‹åºæ‹–æ‹½æŽ’åº]]></title>
    <url>%2Fblog%2F2019%2F03%2F27%2F%E5%AE%9E%E7%8E%B0%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8B%96%E6%8B%BD%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[å®žçŽ°æ•ˆæžœè¿™æ˜¯æœ€è¿‘æˆ‘åšçš„ä¸€ä¸ªéœ€æ±‚,ç”±äºŽäº§å“é¡¹ç›®æ¨¡å—ä¼—å¤š,è¾¾è¿‘80ä¸ªæ¨¡å—,æ‰€ä»¥æœ‰äº†è¿™ä¸ªæ¨¡å—ç®¡ç†æŽ’åºçš„éœ€æ±‚,å¾—ç›ŠäºŽå°ç¨‹åºè‡ªå¸¦çš„ç»„ä»¶movable-view(åŸºç¡€åº“ 1.2.0 å¼€å§‹æ”¯æŒ),ä½¿å¾—æ‹–æ‹½è¿™ä¸€äº¤äº’æ•ˆæžœçš„å®žçŽ°å˜å¾—ä¼˜é›…ã€‚åœ¨è¿™é‡Œè®°å½•ä¸‹å†™è¿™ä¸ªæ¨¡å—çš„ä¸€äº›å¿ƒå¾— æ ¸å¿ƒæ–¹æ³•æœ‰ä¸‰ä¸ªæ ¸å¿ƒæ–¹æ³•,åˆ†åˆ«æ˜¯bindchangeäº‹ä»¶(movable-viewè‡ªå¸¦äº‹ä»¶,ç±»ä¼¼äºŽtouchmoveäº‹ä»¶),touchendäº‹ä»¶,touchstartäº‹ä»¶æ ¸å¿ƒä»£ç :12345678910111213141516touchStart(index, fatherIndex) &#123; this.clientX = null this.clientY = null&#125;,touchMoving(index, fatherIndex, event) &#123; this.clientX = event.detail.x + (this.moveAreaWidth / 4 / 2) //this.moveAreaWidthæ¯ä¸ªmodal this.clientY = event.detail.y + ITEM_HEIGHT / 4&#125;,touchEnd(index, fatherIndex) &#123; if (this.clientX &amp;&amp; this.clientY) &#123; const row = Math.floor(this.clientY / (ITEM_HEIGHT / 2)) const column = Math.floor(this.clientX / (this.moveAreaWidth / 4)) const newIndex = row * 4 + column index == newIndex ? this.hasChangedSort = false : (this.hasChangedSort = true,this.handleDragEnd(index, fatherIndex, newIndex)) &#125;&#125; åœ¨è¿™é‡Œ,touchStartäº‹ä»¶åˆå§‹åŒ–æ¯æ¬¡æ‹–æ‹½åŽè®¾å®šçš„clientX,clientXå€¼touchmoveäº‹ä»¶ä¸­éœ€è¦å¤„ç†è¿™æ ·ä¸€ä»¶äº‹,æ ¹æ®æ¯ä¸ªæ¨¡å—çš„é«˜åº¦ä»¥åŠå®½åº¦(éœ€è¦é€šè¿‡å°ç¨‹åºAPIwx.createSelectorQueryè®¡ç®—å¾—å‡º)å®žæ—¶è®¡ç®—å‡ºè½ç‚¹æ‰€åœ¨çš„x,yåæ ‡,æœ€åŽtouchendäº‹ä»¶è®¡ç®—å‡ºx,yåæ ‡æ‰€å¯¹åº”çš„è¡Œåˆ—æ•°,æ ¹æ®è¡Œåˆ—æ•°è®¡ç®—å‡ºå½“å‰æ¨¡å—æ‰€åœ¨å¯¹åº”æ•°ç»„ä¸­çš„ç´¢å¼•åºåˆ—(handleDragEndæ–¹æ³•),åœ¨dataæ•°æ®æºæ•°ç»„ä¸­æ›¿æ¢ä¸¤ä¸ªæ¨¡å—æ•°æ®çš„ç´¢å¼•ä¸‹æ ‡ é‡åˆ°çš„é—®é¢˜ç”±äºŽç›´æŽ¥æ”¹å˜ç´¢å¼•ä¸‹æ ‡ä¼šé€ æˆçž¬é—ªçŽ°è±¡,å°±æ˜¯æ‹–æ‹½å®ŒæˆåŽæ¨¡å—ä¼šå…ˆåœ¨åŽŸæ¥ä½ç½®é—ªçŽ°ä¸€ä¸‹å†å›žåˆ°æ‹–æ‹½åŽçš„ä½ç½®,è¿™æ˜¯å› ä¸ºæ“ä½œæ•°æ®ä¼šç›´æŽ¥æ”¹å˜è§†å›¾,æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå»¶æ—¶æ“ä½œ$nextTick,åœ¨è¿™ä¸ªå»¶æ—¶æ–¹æ³•ä¸­åŽ»æ“ä½œæ–°ä½ç½®æ¨¡å—çš„x,yåæ ‡,å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜]]></content>
  </entry>
  <entry>
    <title><![CDATA[Javaé“¾è¡¨åŸºæœ¬åŠŸèƒ½å®žçŽ°]]></title>
    <url>%2Fblog%2F2019%2F03%2F05%2FJava%E9%93%BE%E8%A1%A8%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[é“¾è¡¨é“¾è¡¨ï¼ˆLinked listï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åŸºç¡€æ•°æ®ç»“æž„ï¼Œæ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ(Pointer)ã€‚ç”±äºŽä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°O(1)çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯O(logn)å’ŒO(1)ã€‚ ä½¿ç”¨é“¾è¡¨ç»“æž„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æž„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®žçŽ°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±åŽ»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºŽå¢žåŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚ æŽ¥å£ä¸€ä¸ªåŸºæœ¬çš„Javaé“¾è¡¨ä¸»è¦æœ‰ä¸€ä¸‹çš„åŠŸèƒ½: addé¦–å…ˆ,æ–°å»ºä¸€ä¸ªListç±»,ä»¥åŠä¸€ä¸ªNodeç±»,é€šè¿‡Listç±»æ¥è°ƒç”¨æ–¹æ³•123456789101112131415161718192021public class List&#123; private Node root;//å®šä¹‰é“¾è¡¨çš„æ ¹èŠ‚ç‚¹ private int count = 0;//å®šä¹‰å½“å‰åˆ—è¡¨èŠ‚ç‚¹ä¸ªæ•°&#125;public class Node&#123; private String data;//è¿™æ˜¯ä¸€ä¸ªæ•°æ®ç±»åž‹æ˜¯ String çš„é“¾è¡¨ private Node next; //æ¯ä¸ªNodeç±»éœ€è¦ä¸€ä¸ªæŒ‡å‘å½“å‰Nodeçš„ä¸‹ä¸€ä¸ªNode,æ‰è¡Œå½¢æˆé“¾å…³ç³» pulic Node(String data)&#123; this.data = data; &#125; public Node getNext() &#123; return next; &#125; public String getData() &#123; return data; &#125;&#125; å®šä¹‰å®ŒåŸºæœ¬æ•°æ®ç±»,æˆ‘ä»¬æ¥å®žçŽ°addæ–¹æ³•åœ¨Listä¸­å®šä¹‰add1234567891011public void add(String data)&#123; Node newNode = new Node(data); if(this.root == null)&#123; this.root = newNode; &#125; else&#123; this.root.addNode(newNode,this); //æˆ‘ä»¬éœ€è¦ä¼ å…¥å½“å‰listå¯¹è±¡,ç”¨äºŽæ–°å¢žèŠ‚ç‚¹åŽè·Ÿæ–°count &#125;&#125; public void addCount() &#123; this.count++;&#125; Nodeç±»ä¸­å®žçŽ°addNode,å®ƒæŽ¥å—ä¸€ä¸ªNodeç±»åž‹å‚æ•°12345678910111213141516171819public void addNode(Node newNode,List list)&#123; if(!this.equals(newNode))&#123; if(this.next == null)&#123; this.next = newNode; list.addCount(); &#125; else &#123; //å¦‚æžœå½“å‰ä¸‹ä¸ªèŠ‚ç‚¹ä¸ä¸ºç©º,åˆ™è®©nextç»§ç»­è°ƒç”¨addNodeæ–¹æ³• this.next.addNode(newNode,list); &#125; &#125;&#125;//ä¸ºäº†åšåˆ°ä¸é‡å¤æ–°å¢žæ•°æ®,æˆ‘ä»¬éœ€è¦åœ¨Nodeç±»ä¸­å®žçŽ°ä¸€ä¸ªequalsæ–¹æ³•public boolean equals(Node node)&#123; if(this.data == node.data)&#123; return true; &#125; return false;&#125; getgetæ–¹æ³•æŽ¥å—ä¸€ä¸ªintç±»åž‹çš„åºå·,ç”¨äºŽæ‰¾åˆ°å½“å‰ç±»åž‹å¯¹åº”ä½ç½®çš„èŠ‚ç‚¹æ•°æ®,åœ¨Listç±»ä¸­å®šä¹‰get1234public String get(int index) &#123; if (this.root == null) return null; return this.root.get(index, 0);&#125; Nodeç±»ä¸­å®šä¹‰getNodeæ–¹æ³•,å®ƒé™¤äº†æŽ¥å—indexå‚æ•°å¤–,è¿˜æŽ¥å—ä¸€ä¸ªæ­¥è¿›å‚æ•°step,ç”¨äºŽåŒ¹é…indexæ˜¯å¦ç­‰äºŽå½“å‰step1234public String get(int index, int step) &#123; if (index == step) return this.data; return this.next.get(index, ++step);&#125; setsetæ–¹æ³•ç”¨äºŽé‡æ–°è®¾ç½®é“¾è¡¨å¯¹åº”ä½ç½®èŠ‚ç‚¹çš„æ•°æ®,1234public void set(int index, String data) &#123; if (this.root == null || index &lt; 0 || index &gt; this.count) return; this.root.setNode(index, data, 0);&#125; containscontainsæ–¹æ³•è¿”å›žä¸€ä¸ªBoolean,åˆ¤æ–­å½“å‰åˆ—è¡¨æ˜¯å¦å­˜åœ¨å¯¹åº”çš„æ•°æ®12345//Listpublic boolean contains(String data) &#123; if (this.root == null) return false; return this.root.containNode(data);&#125; åœ¨Nodeç±»ä¸­å®šä¹‰containNodeæ–¹æ³•123456789//Nodepublic boolean containNode(String data) &#123; if (this.data.equals(data)) &#123; return true; &#125; else &#123; if (this.next == null) return false; return this.next.containNode(data); &#125;&#125; sizeè¿”å›žå½“å‰é“¾è¡¨èŠ‚ç‚¹ä¸ªæ•°1234//Listpublic int size() &#123; return this.count;&#125; isEmptyåˆ¤æ–­å½“å‰é“¾è¡¨æ˜¯å¦ä¸ºç©º123public boolean isEmpty() &#123; return this.count == 0;&#125; removeåˆ é™¤èŠ‚ç‚¹æ•°æ®123456789101112131415//Listpublic void remove(String data) &#123; if (this.root == null) return; if (this.root.equals(data)) &#123; //æ ¹èŠ‚ç‚¹ç‰¹æ®Šå¤„ç† this.root = this.root.getNext(); this.count--; &#125; else &#123; this.root.removeNode(this.root, data,this); &#125;&#125;//åŒaddæ“ä½œ,è¿˜éœ€è¦å¦å¤–å®šä¹‰ä¸€ä¸ªreduceCountæ–¹æ³•ä¾›Nodeå®žä¾‹è°ƒç”¨public void reduceCount() &#123; this.count--;&#125; Nodeç±»ä¸­å®šä¹‰removeNode12345678910//Nodepublic void removeNode(Node pre, String data, List list) &#123; if (this.data.equals(data)) &#123; pre.next = this.next; list.reduceCount(); &#125; else &#123; if(this.next != null) this.next.removeNode(this, data,list); &#125; &#125; toArrayå°†å½“å‰é“¾è¡¨è¾“å‡ºä¸ºarrayæ•°ç»„å¯¹è±¡12345678//List æ–°å¢žä¸€ä¸ªç§æœ‰å±žæ€§arrayListprivate String[] arrayList;publice String[] toArray()&#123; this.arrayList = new String[this.count]; this.root.toArrayNode(arrayList,0); return this.arrayList;&#125; Nodeç±»ä¸­å®šä¹‰toArrayNodeæ–¹æ³•1234567//Nodepublic void toArrayNode(String [] array,int step)&#123; array[step] = this.data; if(this.next != null)&#123; this.next.toArrayNode(array,++step); &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯ç»„ä»¶åŒ–å¼€å‘]]></title>
    <url>%2Fblog%2F2019%2F02%2F18%2F%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯ç»„ä»¶åŒ–å¼€å‘ å‰ç«¯ç»„ä»¶åŒ–å¼€å‘ï¼Œå°±æ˜¯å°†é¡µé¢çš„æŸä¸€éƒ¨åˆ†ç‹¬ç«‹å‡ºæ¥ï¼Œå°†è¿™ä¸€éƒ¨åˆ†çš„ æ•°æ®å±‚ï¼ˆMï¼‰ã€è§†å›¾å±‚ï¼ˆVï¼‰å’Œ æŽ§åˆ¶å±‚ï¼ˆCï¼‰ç”¨é»‘ç›’çš„å½¢å¼å…¨éƒ¨å°è£…åˆ°ä¸€ä¸ªå®¹å™¨å†…ï¼Œæš´éœ²å‡ºä¸€äº›å¼€ç®±å³ç”¨çš„å‡½æ•°å’Œå±žæ€§ä¾›å¤–éƒ¨ç»„ä»¶è°ƒç”¨ã€‚ æ€Žä¹ˆè®¾è®¡ä¸€ä¸ªç»„ä»¶ å•ä¸€ä¸€ä¸ªç»„ä»¶çš„åŠŸèƒ½æ˜¯å•ä¸€çš„,åº”è¯¥åªåšä¸€ä»¶äº‹ã€‚ä¸€ä¸ªåŠŸèƒ½å¦‚æžœå¯ä»¥æ‹†åˆ†æˆå¤šä¸ªåŠŸèƒ½ç‚¹ï¼Œé‚£å°±å¯ä»¥å°†æ¯ä¸ªåŠŸèƒ½ç‚¹å°è£…æˆä¸€ä¸ªç»„ä»¶ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯ç»„ä»¶çš„é¢—ç²’åº¦è¶Šå°è¶Šå¥½ï¼Œåªè¦å°†ä¸€ä¸ªç»„ä»¶å†…çš„åŠŸèƒ½å’Œé€»è¾‘æŽ§åˆ¶åœ¨ä¸€ä¸ªå¯æŽ§çš„èŒƒå›´å†…å³å¯ã€‚ ä¸Žä¸šåŠ¡é€»è¾‘è§£è€¦ä¸€ä¸ªç»„ä»¶åº”è¯¥æ˜¯çº¯ç²¹,ä¸å‚æ‚ä¸šåŠ¡é€»è¾‘çš„,å½“æ¶‰åŠåˆ°ä¸šåŠ¡æ—¶,å¦‚æ—¥æœŸé€‰æ‹©ç»„ä»¶,äº§å“è¦æ±‚æ—¥æœŸå°äºŽå½“æ—¥çš„ä¸å¯ä»¥é€‰æ‹©,å¦åˆ™å¼¹å‡ºæç¤ºæ¡†æç¤ºç”¨æˆ·,è¿™æ˜¯æˆ‘ä»¬å°±åº”è¯¥é€šè¿‡ä¼ å…¥çš„é…ç½®å‚æ•°,æ¥è¿›è¡Œåˆ¤æ–­,å¦‚æžœå¼€å¯ä¸èƒ½é€‰æ‹©å°äºŽå½“å‰æ—¥æœŸé…ç½®çš„è¯,å½“ç”¨æˆ·ç‚¹å‡»ä¸ç¬¦åˆè¦æ±‚çš„æ—¥æœŸæ—¶,é€šè¿‡ç»„ä»¶äº‹ä»¶ä¼ é€’,å°†è¯¥äº‹ä»¶å‘ŠçŸ¥çˆ¶ç»„ä»¶,ç”±çˆ¶ç»„ä»¶è¿›è¡Œä¸šåŠ¡é€»è¾‘çš„å¤„ç†ã€‚ å¯é…ç½®åœ¨ä¸€å¼€å§‹è®¾è®¡ç»„ä»¶çš„æ—¶å€™å°±åº”è¯¥ç»“åˆä¸šåŠ¡éœ€æ±‚è€ƒè™‘å“ªäº›åŠŸèƒ½åº”è¯¥åšæˆå¯é…ç½®å¼çš„,å¦‚å¹²è­¦ç«¯src/components/noResultComponent(ç”¨äºŽç©ºæ•°æ®æ—¶çš„å±•ç¤º),é»˜è®¤çš„æ–‡æ¡ˆæ˜¯æš‚æ— æ•°æ®,ä½†æ˜¯åœ¨æœ‰æ—¶å€™åˆšè¿›å…¥é¡µé¢æ—¶,æ­¤æ—¶ç½‘ç»œæ­£åœ¨è¯·æ±‚æ•°æ®,é¡µé¢æ­¤æ—¶ç”¨æš‚æ— æ•°æ®å°±ä¸å¤ªåˆé€‚,è¿™æ—¶å€™å¯ä»¥ä¼ æ­£åœ¨åŠ è½½æ¥å‘ŠçŸ¥ç”¨æˆ·,æ­¤æ—¶æ­£åœ¨è¯·æ±‚æ•°æ®è¿‡ç¨‹ä¸­è¯·ç­‰å¾…ã€‚ å±žæ€§å€¼çš„æ£€éªŒ1.ä¼ å…¥å±žæ€§æ˜¯å¦åˆæ³•2.å±žæ€§æ˜¯å¦å¿…ä¼  åœ¨wepyä¸­è¿›è¡Œç±»åž‹æ£€æŸ¥:123456props = &#123; text: &#123; type: String, default: 'æ­£åœ¨åŠ è½½' &#125; &#125; Vueä¸­ç±»åž‹æ£€æŸ¥1234567props = &#123; someprop: &#123; type: String, default: 'someText', required: true &#125; &#125; Reactä¸­è¿›è¡Œç±»åž‹æ£€æŸ¥12345678910import React from 'react'import PropTypes from 'prop-types'class MyComponent extends React.Component &#123; render() &#123; // ... do things with the props &#125;&#125;MyComponent.propTypes = &#123; someProps:PropTypes.string.isRequired&#125; ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ åˆå§‹åŒ–é˜¶æ®µ,è¯»å–å±žæ€§å€¼,å¹¶è¿›è¡Œå¤„ç† å±•ç¤ºé˜¶æ®µ,ç›‘å¬å±žæ€§å˜åŒ–,è¿›è¡Œç›¸åº”é€»è¾‘å¤„ç† ç»„ä»¶é”€æ¯é˜¶æ®µ,åŠæ—¶ç§»é™¤ç»„ä»¶ä¸­å¯¹æ•´ä¸ªç³»ç»Ÿäº§ç”Ÿå‰¯ä½œç”¨çš„æ“ä½œ,å¦‚addEventListener,setIntervalç­‰ç­‰ã€‚ åœ¨å°ç¨‹åºä¸­å®šä¹‰ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ123456789101112131415161718Component(&#123; lifetimes: &#123; attached() &#123; // åœ¨ç»„ä»¶å®žä¾‹è¿›å…¥é¡µé¢èŠ‚ç‚¹æ ‘æ—¶æ‰§è¡Œ &#125;, detached() &#123; // åœ¨ç»„ä»¶å®žä¾‹è¢«ä»Žé¡µé¢èŠ‚ç‚¹æ ‘ç§»é™¤æ—¶æ‰§è¡Œ &#125;, &#125;, // ä»¥ä¸‹æ˜¯æ—§å¼çš„å®šä¹‰æ–¹å¼ï¼Œå¯ä»¥ä¿æŒå¯¹ &lt;2.2.3 ç‰ˆæœ¬åŸºç¡€åº“çš„å…¼å®¹ attached() &#123; // åœ¨ç»„ä»¶å®žä¾‹è¿›å…¥é¡µé¢èŠ‚ç‚¹æ ‘æ—¶æ‰§è¡Œ &#125;, detached() &#123; // åœ¨ç»„ä»¶å®žä¾‹è¢«ä»Žé¡µé¢èŠ‚ç‚¹æ ‘ç§»é™¤æ—¶æ‰§è¡Œ &#125;, // ...&#125;) äº‹ä»¶ä¼ é€’ åœ¨wepyä¸­,wepy.componentåŸºç±»æä¾›$broadcastã€$emitã€$invokeä¸‰ä¸ªæ–¹æ³•ç”¨äºŽç»„ä»¶ä¹‹é—´çš„é€šä¿¡å’Œäº¤äº’åœ¨Vueä¸­,å­ç»„ä»¶é€šè¿‡this.$emitå‘é€,çˆ¶ç»„ä»¶åªéœ€ç›‘å¬è¯¥å‘é€çš„äº‹ä»¶å³å¯åœ¨â€™Reactâ€™ä¸­,çˆ¶ç»„ä»¶å¯ä»¥ä½¿ç”¨ props å‘å­ç»„ä»¶ä¼ å€¼ï¼Œè€Œå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼ï¼Œéœ€è¦åœ¨çˆ¶ç»„ä»¶å†…å®šä¹‰å‡½æ•°å¹¶é€šè¿‡å±žæ€§ä¼ é€’ç»™å­ç»„ä»¶ï¼Œåœ¨å­ç»„ä»¶å†…é€šè¿‡è°ƒç”¨è¯¥å±žæ€§å¯¹åº”çš„å‡½æ•°ï¼Œä¼ å…¥å‚æ•°ï¼Œä¼ é€’ç»™çˆ¶ç»„ä»¶å†…çš„å‡½æ•°ï¼Œå¹¶åœ¨çˆ¶ç»„ä»¶çš„è¯¥å‡½æ•°ä¸­åšé€»è¾‘çš„å¤„ç†ã€‚12345678910111213141516171819202122232425262728//å­ç»„ä»¶class ChildComponent extends React.Components &#123; render() &#123; return ( &lt;button onClick=&#123; () =&gt; &#123; this.props.clickHandler('This is a click') &#125; &#125;&gt;&lt;/button&gt; ) &#125;&#125;//çˆ¶ç»„ä»¶import ChildComponent from './child-component'class ParentComponent extends React.Components &#123; clickHandler(message) &#123; console.log(message) &#125; render() &#123; return ( &lt;child-component clickHandler=&#123; this.clickHandler.bind(this) &#125; /&gt; ) &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[RxJså®žçŽ°åŸºæœ¬æ‹–æ‹½]]></title>
    <url>%2Fblog%2F2019%2F01%2F04%2FRxJs%E5%AE%9E%E7%8E%B0%E5%9F%BA%E6%9C%AC%E6%8B%96%E6%8B%BD%2F</url>
    <content type="text"><![CDATA[HTML123456789&lt;div id="anchor"&gt; &lt;div class="video" id="video"&gt; &lt;video width="100%" height="100%" controls &gt; &lt;source src="http://download.blender.org/peach/bigbuckbunny_movies/big_buck_bunny_480p_stereo.ogg" type="video/ogg"&gt; Your browser does not support HTML5 video. &lt;/video&gt; &lt;/div&gt;&lt;/div&gt; CSS12345678910111213141516171819202122232425262728293031323334353637383940&lt;style&gt; * &#123; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; &#125; html, body &#123; margin: 0; padding: 0; height: 2000px; background-color: #eee; &#125; #anchor &#123; height: 360px; width: 100%; background-color: #F0F0F0; &#125; .video &#123; width: 640px; height: 360px; margin: 0 auto; background-color: black; &#125; .video.video-fixed &#123; position: fixed; top: 10px; left: 10px; width: 320px; height: 150px; cursor: all-scroll; &#125; .video.video-fixed .masker &#123; display: none; &#125; .video.video-fixed:hover .masker &#123; display: block; position: absolute; width: 100%; height: 180px; background-color: rgba(0, 0, 0, 0.8); z-index: 2; &#125; &lt;/style&gt; JS12345678910111213141516171819202122232425262728293031323334 import &#123;Observable&#125; from 'rxjs/Rx' const $video = document.querySelector('#video')const $anchor = document.querySelector('#anchor')const scroll = Observable.fromEvent(document, 'scroll'). //ç›‘å¬documentäº‹ä»¶ map(e =&gt; $anchor.getBoundingClientRect().bottom &lt; 0). //mapå°†eventäº‹ä»¶æ˜ å°„ä¸ºåˆ¤æ–­å¼å¸ƒå°”å€¼ subscribe(bool =&gt; &#123; //å¦‚æžœå½“å‰å…ƒç´ ä¸åœ¨è§†çª—å†…,åˆ™æ”¹å˜æ ·å¼ if(bool)&#123; $video.classList.add('video-fixed') &#125;else&#123; $video.classList.remove('video-fixed') $video.style.transform = '' &#125; &#125;)const mouseDown = Observable.fromEvent($video, 'mousedown') //observeäº‹ä»¶const mouseMove = Observable.fromEvent(document, 'mousemove')const mouseUp = Observable.fromEvent(document, 'mouseup')const videoBoundingRect = $video.getBoundingClientRect() //èŽ·å–viedoå…ƒç´ rectå¯¹è±¡const validValue = (value,max,min)=&gt;&#123; //æ¯”è¾ƒå‡½æ•°,é˜²æ­¢æ‹–æ‹½å‡ºå±å¹• return Math.min(Math.max(value,min),max)&#125;mouseDown.filter(e =&gt; $video.classList.contains('video-fixed')). //filterè¿‡æ»¤ switchMap(e =&gt; mouseMove.takeUntil(mouseUp)). //å°†é«˜é˜¶Oberveè½¬æ¢ä¸ºä½Žé˜¶ withLatestFrom(mouseDown, (move, down) =&gt; &#123; //ç»“åˆä¸Šä¸€ä¸ªobservableæºçš„ç»“æžœ return &#123; //move.clientX - down.offsetX =&gt;å¤„ç†æŠ–åŠ¨ x: validValue(move.clientX - down.offsetX,window.innerWidth - videoBoundingRect.width/2,0), y: validValue(move.clientY - down.offsetY,window.innerHeight - videoBoundingRect.height/2,0), &#125; &#125;). subscribe(e =&gt; &#123; $video.style.transform = `translate3D($&#123;e.x&#125;PX,$&#123;e.y&#125;px,0)` &#125;)]]></content>
  </entry>
  <entry>
    <title><![CDATA[RxJsåˆæŽ¢]]></title>
    <url>%2Fblog%2F2018%2F12%2F29%2FRxJs%E5%88%9D%E6%8E%A2%2F</url>
    <content type="text"><![CDATA[RxJSRxJS æ˜¯ä½¿ç”¨ Observables çš„å“åº”å¼ç¼–ç¨‹çš„åº“ï¼Œå®ƒä½¿ç¼–å†™å¼‚æ­¥æˆ–åŸºäºŽå›žè°ƒçš„ä»£ç æ›´å®¹æ˜“ã€‚ ç®€å•demoä½¿ç”¨rx.jså®žçŽ°ä¸€ä¸ªcanvasç”»æ¿html1&lt;canvas&gt;&lt;/canvas&gt; 12345678910111213141516171819202122232425import &#123;Observable&#125; from 'rxjs/Rx' //å¼•å…¥rx Observableå¯¹è±¡const canvas = document.querySelector('canvas')const ctx = canvas.getContext('2d') //èŽ·å–canvasç”»ç¬”ctx.beginPath()function drawEvent([first, sec]) &#123; ctx.moveTo(first.x, first.y) ctx.lineTo(sec.x, sec.y) ctx.stroke() &#125;const moveEvent = Observable.fromEvent(canvas,'mousemove') .map(e =&gt;&#123;x:e.offsetX,y:e.offsetY&#125;) .bufferCount(2,1) //å®šä¹‰moveæµ const downEvent = Observable.fromEvent(canvas,'mousedown').map(()=&gt;'down') //å°†Observable ç»“æžœæ˜ å°„ä¸º'down' //è¿™é‡Œæˆ‘ä»¬å¯ä»¥å°†Observableæƒ³è±¡æˆä¸€ä¸ªæ•°ç»„,å°†æ•°ç»„çš„mapæ–¹æ³•ç±»ä¼¼äºŽè¿™é‡Œçš„mapæ–¹æ³• const upEvent = Observable.fromEvent(canvas,'mouseup').map(()=&gt;'up') //å°†Observable ç»“æžœæ˜ å°„ä¸º'up' const upAndDown = downEvent.merge(upEvent) //èžåˆä¸¤ä¸ªObservable upAndDown.switchMap(e=&gt;e==='down'?moveEvent:Observable.empty()).subscribe(drawEvent) //subscribe: æ³¨å†Œå¤„ç†ç¨‹åºçš„è®¢é˜…å¼•ç”¨ //å› ä¸ºäº‹ä»¶å¤„ç†æµå¯èƒ½æ˜¯å¼‚æ­¥çš„,æˆ‘ä»¬ä¸å¿…åœ¨ç­‰å¾…äº‹ä»¶æ‰§è¡ŒæˆåŠŸåŽå†ç»§ç»­ä¸‹ä¸€æ­¥æ“ä½œ,è€Œæ˜¯è®¢é˜…ä¸€ä¸ªæ³¨å†Œäº‹ä»¶,äº‹ä»¶æ‰§è¡ŒåŽå†é€šçŸ¥ç»™è®¢é˜…è€… æ€»ç»“è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„demo,ç”¨äºŽå±•ç¤ºRxJSçš„åŸºæœ¬æ€æƒ³,ä¸€ä¸ªé¢å‘è¿‡ç¨‹çš„åŸºæœ¬æ€æƒ³ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜å½•]]></title>
    <url>%2Fblog%2F2018%2F12%2F15%2F%E6%91%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[ä½ åœ¨æ± å¡˜é‡Œæ´»å¾—å¾ˆå¥½ï¼Œæ³¥é³…å¾ˆä¸‘ä½†ä¼šè¯´å–œåº†è¯ï¼Œç™žè›¤èŸ†å¾ˆé©¬è™Žä½†å¾ˆæœ‰è¶£ï¼Œç”°èžºæ˜¯ä¸ªæ¸©æŸ”çš„è‡ªé—­ç—‡ï¼Œå°é²«é±¼æ˜¯ä½ ä»¬å…±åŒçš„å¥³ç¥žã€‚æœ‰ä¸€å¤©ä½ å¬è¯´ï¼Œæ±Ÿæ²³æ¹–æµ·ï¼Œå“ªä¸ªéƒ½è¦æ›´å¤§ï¼Œæ›´å¥½ã€‚ä½ è·³äº†å‡ºåŽ»ï¼Œé‡è§äº†ç¾Žä¸½çš„æµ·è±šï¼Œé›„å£®çš„ç™½é²¸ï¼Œå©€å¨œå¤šå§¿çš„çƒ­å¸¦é±¼ï¼Œçš„ç¡®éƒ½æ˜¯å¥½çš„ã€‚å°±æ˜¯å¶å°”ï¼Œè§‰å¾—ä¸–ç•Œå¾ˆç©ºï¼Œç”Ÿæ´»å¾ˆå’¸ã€‚â€”â€”å§¬éœ„]]></content>
  </entry>
  <entry>
    <title><![CDATA[event-buså‘å¸ƒè®¢é˜…å®žçŽ°]]></title>
    <url>%2Fblog%2F2018%2F12%2F12%2Fevent-bus%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[ä¸€ä¸ªç®€å•çš„å®žçŽ°äº†äº‹ä»¶æ³¨å†Œ,è®¢é˜…,æ³¨é”€çš„eventEmeitter 12345678910111213141516171819202122232425262728293031323334353637383940class EventEmeitter&#123; constructor()&#123; this._events = new Map() &#125; emit(type,context,...args)&#123; const handler = this._events.get(type) if(typeof handler !== 'function')&#123; throw Error(`[$&#123;type&#125;] æœªç»‘å®šäº‹ä»¶`) &#125; if(args.length &gt;= 3)&#123; handler.apply(context,args) &#125;else&#123; handler.call(context,...args) &#125; &#125; addEventListener(type,fn)&#123; if(!this._events.get(type))&#123; this._events.set(type,fn) console.log(`[$&#123;type&#125;] äº‹ä»¶ç»‘å®š`) &#125;else&#123; throw Error(`[$&#123;type&#125;] äº‹ä»¶å·²ç»‘å®š`) &#125; &#125; removeEventListener(type)&#123; this._events.delete(type) console.log(`[$&#123;type&#125;] äº‹ä»¶ç§»é™¤`) &#125;&#125;const emitter = new EventEmeitter()emitter.addEventListener('christmas',s=&gt;&#123; console.log(`Merry $&#123;s&#125;`)&#125;)emitter.emit('christmas',this,'Christmas')emitter.removeEventListener('Christmas')---[christmas] äº‹ä»¶ç»‘å®šMerry Christmas[Christmas] äº‹ä»¶ç§»é™¤]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä¸¤æ•°ä¹‹å’Œ]]></title>
    <url>%2Fblog%2F2018%2F12%2F05%2F%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C%2F</url>
    <content type="text"><![CDATA[ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„ ä¸¤ä¸ª æ•´æ•°ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹:1234ç»™å®š nums = [2, 7, 11, 15], target = 9å› ä¸º nums[0] + nums[1] = 2 + 7 = 9æ‰€ä»¥è¿”å›ž [0, 1] ç¬¬ä¸€æ¬¡è§£æ³•:12345678910var twoSum = function(nums, target) &#123; for(let i=0;i&lt;nums.length;i++)&#123; var result = targer - nums[i] var resultIndex = nums.indexOf(result) if(resultIndex &gt; -1 &amp;&amp; resultIndex !== i)&#123; return [i,resultIndex] &#125; &#125;&#125;æ‰§è¡Œç”¨æ—¶:196ms hashMap:1234567891011var twoSum = function(nums, target) &#123; var map = new Map() for(let i=0;i&lt;nums.length;i++)&#123; var result = target - nums[i] if(map.has(result))&#123; return [map.get(result),i] &#125; map.set(nums[i],i) &#125;&#125;æ‰§è¡Œç”¨æ—¶:80ms]]></content>
  </entry>
  <entry>
    <title><![CDATA[å‡ ç§ç§»åŠ¨ç«¯remå¸ƒå±€è§£å†³æ–¹æ¡ˆ]]></title>
    <url>%2Fblog%2F2018%2F11%2F21%2F%E5%87%A0%E7%A7%8D%E7%A7%BB%E5%8A%A8%E7%AB%AFrem%E5%B8%83%E5%B1%80%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[remæ¦‚å¿µremæ˜¯ä¸€ç§csså•ä½,é€šå¸¸ç”¨äºŽè§£å†³ç§»åŠ¨ç«¯å„ä¸ªæ‰‹æœºæ˜¾ç¤ºé€‚é…é—®é¢˜,ä¿è¯UIè®¾è®¡åœ¨ä¸åŒæ‰‹æœº,ä¸åŒè®¾å¤‡ä¹‹é—´æ˜¾ç¤ºæ•ˆæžœçš„ä¸€è‡´æ€§ã€‚å®ƒæ˜¯ç›¸å¯¹äºŽhtmlæ ¹å…ƒç´ çš„å­—ä½“å¤§å°è€Œå®š,æ¯”å¦‚è®¾å®šæ ¹å…ƒç´ å­—ä½“å¤§å°font-size:16px,é‚£ä¹ˆ1rem = 16px viewportviewportæ˜¯ä¸“ä¸ºæ‰‹æœºæµè§ˆå™¨è®¾è®¡çš„ä¸€ä¸ªmetaæ ‡ç­¾ï¼› æœ‰äº›å±å¹•å¾ˆå°æœ‰æ™ºèƒ½æ‰‹æœºï¼Œä½†åˆ†è¾©çŽ‡å´å¯ä»¥åšå¾—å¾ˆå¤§ï¼Œæ¯”å¦‚æŸäº›æ‰‹æœºçš„é»˜è®¤åˆ†è¾¨çŽ‡ä¸ºï¼š1920*1080ï¼Œæ¯”è®¸å¤šç”µè„‘æ¡Œé¢çš„éƒ½è¿˜å¤§ï¼Œä¼ ç»Ÿæ¡Œé¢ç½‘ç«™ç›´æŽ¥æ”¾åˆ°æ‰‹æœºä¸Šé˜…è¯»æ—¶ï¼Œç•Œé¢å°±ä¼šæ˜¾å¾—éžå¸¸å°ï¼Œé˜…è¯»ä½“éªŒå°±å¾ˆå·®ï¼Œå°±æ ·å°±éœ€è¦ä¸€ç§å°†åŽŸå§‹è§†å›¾åœ¨æ‰‹æœºä¸Šæ”¾å¤§çš„æœºåˆ¶ï¼Œä½¿ç”¨viewportæ ‡ç­¾å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¦‚123456&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;initial-scaleï¼šåˆå§‹ç¼©æ”¾æ¯”ä¾‹maximum-scaleï¼šå…è®¸ç¼©æ”¾çš„æœ€å¤§æ¯”ä¾‹minimum-scaleï¼šå…è®¸ç¼©æ”¾çš„æœ€å°æ¯”ä¾‹user-scalableï¼šæ˜¯å¦å…è®¸æ‰‹åŠ¨ç¼©æ”¾ é˜¿é‡Œè§£å†³æ–¹æ¡ˆ(1rem = 100px)æŠŠä¸‹é¢è¿™æ®µå·²åŽ‹ç¼©è¿‡çš„åŽŸç”ŸJSæ”¾åˆ°HTMLçš„ head æ ‡ç­¾ä¸­å³å¯ï¼ˆæ³¨:ä¸è¦æ‰‹åŠ¨è®¾ç½®viewportï¼Œè¯¥æ–¹æ¡ˆè‡ªåŠ¨å¸®ä½ è®¾ç½®ï¼‰1&lt;script&gt;!function(e)&#123;function t(a)&#123;if(i[a])return i[a].exports;var n=i[a]=&#123;exports:&#123;&#125;,id:a,loaded:!1&#125;;return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports&#125;var i=&#123;&#125;;return t.m=e,t.c=i,t.p=&quot;&quot;,t(0)&#125;([function(e,t)&#123;&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,&#123;value:!0&#125;);var i=window;t[&quot;default&quot;]=i.flex=function(normal,e,t)&#123;var a=e||100,n=t||1,r=i.document,o=navigator.userAgent,d=o.match(/Android[\S\s]+AppleWebkit\/(\d&#123;3&#125;)/i),l=o.match(/U3\/((\d+|\.)&#123;5,&#125;)/i),c=l&amp;&amp;parseInt(l[1].split(&quot;.&quot;).join(&quot;&quot;),10)&gt;=80,p=navigator.appVersion.match(/(iphone|ipad|ipod)/gi),s=i.devicePixelRatio||1;p||d&amp;&amp;d[1]&gt;534||c||(s=1);var u=normal?1:1/s,m=r.querySelector(&apos;meta[name=&quot;viewport&quot;]&apos;);m||(m=r.createElement(&quot;meta&quot;),m.setAttribute(&quot;name&quot;,&quot;viewport&quot;),r.head.appendChild(m)),m.setAttribute(&quot;content&quot;,&quot;width=device-width,user-scalable=no,initial-scale=&quot;+u+&quot;,maximum-scale=&quot;+u+&quot;,minimum-scale=&quot;+u),r.documentElement.style.fontSize=normal?&quot;50px&quot;: a/2*s*n+&quot;px&quot;&#125;,e.exports=t[&quot;default&quot;]&#125;]); flex(false,100, 1);&lt;/script&gt; ç½‘æ˜“è§£å†³æ–¹æ¡ˆ(1rem = 100px)123456789101112131415161718192021222324252627282930313233var win=windowwin.resize = &#123;&#125;; var timer = null; var rem = 12; var doc = win.document; var docEl = doc.documentElement; /** * åˆ·æ–°é¡µé¢REMå€¼ */ function refreshRem() &#123; var width = docEl.getBoundingClientRect().width; width = width &gt; 768 ? 640 : width; rem = width / 7.5; docEl.style.fontSize = rem + 'px'; &#125; /** * é¡µé¢ç¼©æ”¾æˆ–é‡è½½æ—¶åˆ·æ–°REM */ win.addEventListener('resize', function () &#123; clearTimeout(timer); timer = setTimeout(refreshRem, 300); &#125;, false); win.addEventListener('pageshow', function (e) &#123; if (e.persisted) &#123; clearTimeout(timer); timer = setTimeout(refreshRem, 300); &#125; &#125;, false); refreshRem(); ç¾Žå›¢è§£å†³æ–¹æ¡ˆ(1rem = 100px)1234567891011121314151617(function () &#123; function o() &#123; document.documentElement.style.fontSize = (document.documentElement.clientWidth &amp;&amp; document.documentElement.clientWidth &lt; 768 ? document.documentElement.clientWidth : 768) / 7.5 + "px" &#125; var e = null; window.addEventListener("resize", function () &#123; clearTimeout(e), e = setTimeout(o, 300) &#125;, !1), o() //3ç§’åŽæ£€æŸ¥å¦‚æžœhtml fontSizeä¸º0ï¼Œæ‰‹åŠ¨è§¦å‘è®¡ç®—fontSizeã€‚ setTimeout(function () &#123; if (parseInt(document.defaultView.getComputedStyle(document.documentElement).fontSize) == 0) &#123; o(); &#125; &#125;, 3000);&#125;)(window) çº¯cssæ–¹æ¡ˆ12345html &#123; width: 100%; max-width:768px; font-size:calc(100vw/7.5);&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[gulpé…ç½®ç¤ºä¾‹]]></title>
    <url>%2Fblog%2F2018%2F11%2F20%2Fgulp%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B%2F</url>
    <content type="text"><![CDATA[Gulpæ˜¯ä»€ä¹ˆGulpæ˜¯ä¸€ä¸ªåŸºäºŽæµçš„æž„å»ºå·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨æ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡ï¼Œç®€æ´ä¸”é«˜æ•ˆ Gulpèƒ½åšä»€ä¹ˆ å¼€å‘çŽ¯å¢ƒä¸‹ï¼Œæƒ³è¦èƒ½å¤ŸæŒ‰æ¨¡å—ç»„ç»‡ä»£ç ï¼Œç›‘å¬å®žæ—¶å˜åŒ– css/jsé¢„ç¼–è¯‘ï¼Œpostcssç­‰æ–¹æ¡ˆï¼Œæµè§ˆå™¨å‰ç¼€è‡ªåŠ¨è¡¥å…¨ç­‰ æ¡ä»¶è¾“å‡ºä¸åŒçš„ç½‘é¡µï¼Œæ¯”å¦‚appé¡µé¢å’Œmobileé¡µé¢ çº¿ä¸ŠçŽ¯å¢ƒä¸‹ï¼Œæˆ‘æƒ³è¦åˆå¹¶ã€åŽ‹ç¼© html/css/javascritp/å›¾ç‰‡ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚ï¼ŒåŒæ—¶é™ä½Žç½‘ç»œè´Ÿæ‹… ç­‰ç­‰â€¦ gulpé…ç½®ç¤ºä¾‹ä»¥åŠæ³¨é‡Š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186/******************************************************* gulp ç»„ä»¶ åŠ gulp task******************************************************/const gulp = require('gulp'); //å¼•å…¥gulpconst source = require('vinyl-source-stream'); //åŠ è½½vinylæ–‡ä»¶æµå¤„ç†const browserify = require('browserify'); //åŠ è½½é¢„ç¼–è¯‘browserSyncconst browserSync = require('browser-sync'); //å®žæ—¶æ›´æ–°æ’ä»¶const buffer = require('vinyl-buffer');const babel = require('babelify'); //babelè¯­æ³•è½¬åŒ–const reload = browserSync.reload;const sourcemaps = require('gulp-sourcemaps'); //ç”Ÿæˆsourcemapæ–‡ä»¶const del = require('del'); //å¼•å…¥åˆ é™¤æ¨¡å—const argv = require('yargs').argv; // å¼•å…¥å‚æ•° æ ¹æ®å‚æ•°çš„ä¸åŒ æ‰§è¡Œç›¸åº”çš„ä»»åŠ¡ s ç”Ÿäº§çŽ¯å¢ƒ p æµ‹è¯•çŽ¯å¢ƒ d å¼€å‘çŽ¯å¢ƒconst __ = require('gulp-load-plugins')(); //å¯ä»¥ä¸ç”¨å¼•å…¥ ç›´æŽ¥ä½¿ç”¨å·²ç»åœ¨package.jsoné‡Œçš„æ’ä»¶//å…ˆé¢„å®šå¥½å„ä¸ªå…ƒç´ çš„è·¯å¾„const domSrc = &#123; //js è·¯å¾„ jsSrc: 'app/js/**/*.js', //js åº“è·¯å¾„ jsLibsSrc: 'app/js/libs/**/*.js', //jquery æ–‡ä»¶ jquerySrc:'app/js/libs/jquery/*.js', //config jsè·¯å¾„ configSrc: 'app/js/config/*.js', //indexè·¯å¾„ indexHtmlSrc: 'app/index.html', //é¡µé¢è·¯å¾„ htmlSrc: 'app/**/*.html', //cssè·¯å¾„ cssSrc: ['app/assets/**/*.css', 'app/assets/scss/app.scss'], //ç›‘å¬cssè·¯å¾„ watchCssSrc: 'app/assets/**/*.&#123;css,scss&#125;', //ç›‘å¬cssè·¯å¾„ //fontsè·¯å¾„ æŽ’é™¤cssæ–‡ä»¶ fontSrc: ['app/assets/fonts/*', '!app/assets/fonts/*.css'], //imageè·¯å¾„ imgSrc: 'app/assets/images/**/*', //resè·¯å¾„ resSrc: 'app/assets/res/**/*', //dist ä¸‹çš„ JS distJsSrc: 'dist/js', //dist ä¸‹çš„ html distHtmlSrc: 'dist/html', //dist ä¸‹çš„ tpl distTplSrc: 'dist/tpl', //dist ä¸‹çš„css distCssSrc: 'dist/css', //dist ä¸‹çš„ fonts distFontsSrc: 'dist/fonts'&#125;//js åº“æ–‡ä»¶ ç»„æ–‡ä»¶ ç­›é€‰const libsfilter = __.filter(domSrc.jsLibsSrc, &#123;restore: true, passthrough: false&#125;);//js ä¸šåŠ¡ æ–‡ä»¶ ç­›é€‰const servicefilter = __.filter([domSrc.jsSrc, '!' + domSrc.jsLibsSrc], &#123;restore: true, passthrough: false&#125;);//html index.html ç­›é€‰const indexHtmlfilter = __.filter(domSrc.indexHtmlSrc, &#123;restore: true, passthrough: false&#125;);//é…ç½®configgulp.task('js:config', ()=&gt; &#123; var configSource = 'app/js/config/dev.js'; if (argv.s) &#123; //æµ‹è¯•çŽ¯å¢ƒ configSource = 'app/js/config/staging.js'; &#125; else if (argv.p) &#123; //ç”Ÿäº§çŽ¯å¢ƒ configSource = 'app/js/config/prod.js'; &#125; return gulp.src(configSource) .pipe(__.rename('config.js')) .pipe(gulp.dest('app/js/config'));&#125;);//ES6 to ES5gulp.task('js:es6-2-es5', ()=&gt; &#123; return browserify(&#123;entries: 'app/js/myApp.js'&#125;) .transform(babel) //&#123;presets: ["es2015"]&#125; .bundle() //.pipe(__.sourcemaps.init()) .pipe(source('myApp.js')) .pipe(__.if(argv.p, __.streamify(__.uglify()))) .pipe(__.rename(&#123;suffix: '.min'&#125;)) //.pipe(__.sourcemaps.write('./')) .pipe(gulp.dest('dist/js'));&#125;);//JS æ‹·è´ libs ,components æ–‡ä»¶å¤¹gulp.task('js:copy-libs', ()=&gt; &#123; return gulp.src([domSrc.jsLibsSrc,'!'+domSrc.jquerySrc]) //.pipe(__.sourcemaps.init()) .pipe(__.flatten()) //ç§»é™¤ç›®å½•ç»“æž„ .pipe(__.concat("applibs.js")) //åˆå¹¶ .pipe(__.uglify()) //åŽ‹ç¼© .pipe(__.rename(&#123;suffix: '.min'&#125;)) //é‡å‘½å //.pipe(__.sourcemaps.write('./')) .pipe(gulp.dest('dist/js/libs'));&#125;);//è§£æžHTMLgulp.task('html', ()=&gt; &#123; return gulp.src(domSrc.htmlSrc) .pipe(gulp.dest('dist/'))&#125;);//å¤åˆ¶ fontsgulp.task('fonts', ()=&gt; &#123; return gulp.src(domSrc.fontSrc) .pipe(gulp.dest('dist/css'));&#125;);//å¤åˆ¶ å›¾ç‰‡gulp.task('image', ()=&gt; &#123; return gulp.src(domSrc.imgSrc) .pipe(gulp.dest('dist/imgs'));&#125;);//å¤åˆ¶ resgulp.task('res', ()=&gt; &#123; return gulp.src(domSrc.resSrc) .pipe(gulp.dest('dist/res'));&#125;);//è§£æžå¹¶åˆå¹¶åŽ‹ç¼©cssgulp.task('css', ()=&gt; &#123; return gulp.src(domSrc.cssSrc) .pipe(__.if('*.scss', __.sass())) .pipe(__.concat('app.css')) .pipe( __.minifyCss()) .pipe(__.rename((path)=&gt; &#123; path.basename += '.min'; &#125;)) .pipe(gulp.dest('dist/css'));&#125;);//æ¸…é™¤distä¸‹çš„JSæ–‡ä»¶gulp.task('clean:js', ()=&gt; &#123; return del([domSrc.distJsSrc]);&#125;);//æ¸…é™¤dist ä¸‹çš„htmlæ–‡ä»¶gulp.task('clean:html', ()=&gt; &#123; return del([domSrc.distHtmlSrc, domSrc.distTplSrc]);&#125;);//æ¸…é™¤distä¸‹çš„ css æ–‡ä»¶gulp.task('clean:css', ()=&gt; &#123; return del([domSrc.distCssSrc]);&#125;);//æ¸…é™¤dist ä¸‹çš„ fontsæ–‡ä»¶gulp.task('clean:fonts', ()=&gt; &#123; return del([domSrc.distFontsSrc])&#125;);//æœ¬åœ°æœåŠ¡å™¨gulp.task('server', ()=&gt; &#123; browserSync(&#123; // tunnel: true, open: false, port: 9996, server: &#123; baseDir: ['dist'], index: ['./html/index.html', 'index.html'] &#125; &#125;); //js gulp.watch([domSrc.jsSrc,"!"+domSrc.configSrc], gulp.series('js', reload)); //css gulp.watch(domSrc.watchCssSrc, gulp.series('css', reload)); //html gulp.watch(domSrc.htmlSrc, gulp.series('html', reload)); //image gulp.watch(domSrc.imgSrc, gulp.series('image', reload));&#125;);gulp.task('clean', gulp.parallel('clean:js', 'clean:html', 'clean:css', 'clean:fonts'));gulp.task('js', gulp.series('clean:js', 'js:config', 'js:es6-2-es5', 'js:copy-libs'));gulp.task('copy', gulp.parallel('html', 'fonts', 'image', 'res'));gulp.task('default', gulp.series('clean', 'copy', 'js', 'css', 'server'));gulp.task('build', gulp.series('clean', 'copy', 'js', 'css'));]]></content>
  </entry>
  <entry>
    <title><![CDATA[1px borderè¾¹æ¡†å®žçŽ°]]></title>
    <url>%2Fblog%2F2018%2F11%2F16%2F1px%20border%E8%BE%B9%E6%A1%86%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[ç”±äºŽç§»åŠ¨ç«¯æ‰‹æœºåƒç´ å¯†åº¦çš„å·®å¼‚,1pxå®½åº¦çš„è¾¹æ¡†åœ¨ä¸åŒçš„DPIä¸‹å±•ç¤ºä¼šæœ‰å·®å¼‚,å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ä¸ªæ–¹æ³•æ¥è§£å†³1234567891011121314151617181920212223242526272829303132&lt;!--è§£å†³1pxè¾¹æ¡†--&gt;&lt;!--@ SASSè¯­æ³•--&gt;@mixin border-1px($color)&#123; position: relative; &amp;:after&#123; display: block; position: absolute; left: 0; bottom: 0; width: 100%; border-top: 1px solid $color; content: ''; &#125;&#125;&lt;!--ç„¶åŽè®¾ç½® ç»Ÿä¸€çš„ç±» ç¼©æ”¾--&gt;@media (-webkit-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5) &#123; .border-1px&#123; &amp;:after&#123; -webkit-transform: scaleY(0.7); transform: scaleY(0.7); &#125; &#125;&#125;@media (-webkit-min-device-pixel-ratio: 2),(min-device-pixel-ratio: 2) &#123; .border-1px&#123; &amp;:after&#123; -webkit-transform: scaleY(0.5); transform: scaleY(0.5); &#125; &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[cronå®šæ—¶å™¨å†™æ³•]]></title>
    <url>%2Fblog%2F2018%2F11%2F14%2Fcron%E5%AE%9A%E6%97%B6%E5%99%A8%E5%86%99%E6%B3%95%2F</url>
    <content type="text"><![CDATA[cornå‘½ä»¤å¸¸è§äºŽUnixå’Œç±»Unixçš„æ“ä½œç³»ç»Ÿä¹‹ä¸­ï¼Œç”¨äºŽè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„æŒ‡ä»¤,ä¾‹å¦‚Jenkinså®šæ—¶ä»»åŠ¡ç­‰.123456789* * * * * *â”¬ â”¬ â”¬ â”¬ â”¬ â”¬â”‚ â”‚ â”‚ â”‚ â”‚ |â”‚ â”‚ â”‚ â”‚ â”‚ â”” day of week (0 - 7) (0 or 7 is Sun)â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€ month (1 - 12)â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ day of month (1 - 31)â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ hour (0 - 23)â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minute (0 - 59)â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ second (0 - 59, optional) åœ¨ä¸€ä¸ªåŒºåŸŸé‡Œå¡«å†™å¤šä¸ªæ•°å€¼çš„æ–¹æ³•ï¼š é€—å·ï¼ˆâ€™,â€™ï¼‰åˆ†å¼€çš„å€¼ï¼Œä¾‹å¦‚ï¼šâ€œ1,3,4,7,8â€ è¿žè¯ç¬¦ï¼ˆâ€™-â€˜ï¼‰æŒ‡å®šå€¼çš„èŒƒå›´ï¼Œä¾‹å¦‚ï¼šâ€œ1-6â€ï¼Œæ„æ€ç­‰åŒäºŽâ€œ1,2,3,4,5,6â€ æ˜Ÿå·ï¼ˆâ€™*â€™ï¼‰ä»£è¡¨ä»»ä½•å¯èƒ½çš„å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨â€œå°æ—¶åŸŸâ€é‡Œçš„æ˜Ÿå·ç­‰äºŽæ˜¯â€œæ¯ä¸€ä¸ªå°æ—¶â€ï¼Œç­‰ç­‰ ç¤ºä¾‹12//æ¯ä¸‰å°æ—¶å‡†ç‚¹æ‰§è¡Œä¸€æ¬¡cron: &apos;0 0 */3 * * *&apos;]]></content>
  </entry>
  <entry>
    <title><![CDATA[asyncåº“parallel/parallelLimitä»‹ç»]]></title>
    <url>%2Fblog%2F2018%2F11%2F13%2Fasync%E5%BA%93parallel-parallelLimit%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[parallelasync.jsæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„nodeå¼‚æ­¥æµç¨‹æŽ§åˆ¶åº“,parallelæ˜¯asyncä¸­ç”¨æ¥æ‰§è¡Œå¹¶è¡Œä»»åŠ¡æµç¨‹çš„ä¸€ä¸ªæ–¹æ³•,parallel(tasks,callbackopt)æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°: Name Type Description tasks Array/Iterable/Object ä¸€ä¸ªç”¨äºŽéåŽ†çš„æ•°æ®ç±»åž‹ callback Function (å¯é€‰)è¿”å›žä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡,å‚æ•°(err,result) 123456789101112131415const parallel = require('async/parallel')const time = new Date().getTime()parallel([(callback)=&gt;&#123; setTimeout(()=&gt;&#123; callback(null,'one') &#125;,1200)&#125;,(callback)=&gt;&#123; setTimeout(()=&gt;&#123; callback(null,'two') &#125;,1000)&#125;],(err,results)=&gt;&#123; console.log('time cost:',new Date().getTime()-time) console.log(results)&#125;) æ‰§è¡Œç»“æžœ:12time cost: 1201[ &apos;one&apos;, &apos;two&apos; ] parallelä¼šç­‰åˆ°æ‰€æœ‰å‡½æ•°è¿”å›žç»“æžœåŽå†è¿”å›žæœ€ç»ˆçš„ç»“æžœæ•°ç»„,å¹¶ä¸”æŒ‰ç…§é¡ºåºè¿”å›ž,ä¸ä¼šå› ä¸ºç¬¬äºŒä¸ªå‡½æ•°setTimeoutçš„æ—¶é—´æ¯”ç¬¬ä¸€ä¸ªçŸ­å°±å…ˆè¿”å›ž parallelLimitparallelLimitåŸºæœ¬åŠŸèƒ½å’Œparallelæ˜¯ä¸€æ ·çš„,ä¸è¿‡å®ƒæ–°å¢žä¸€ä¸ªå‚æ•°,ç”¨æ¥æŽ§åˆ¶åŒæ—¶æ‰§è¡Œçš„å‡½æ•°æ•°é‡ Name Type Description tasks Array/Iterable/Object ä¸€ä¸ªç”¨äºŽéåŽ†çš„æ•°æ®ç±»åž‹ limit number å¼‚æ­¥æ“ä½œçš„æœ€å¤§æ•°é‡ callback Function (å¯é€‰)è¿”å›žä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡,å‚æ•°(err,result) 123456789101112131415const parallelLimit = require('async/parallelLimit')const time = new Date().getTime()parallelLimit([(callback)=&gt;&#123; setTimeout(()=&gt;&#123; callback(null,'one') &#125;,1200)&#125;,(callback)=&gt;&#123; setTimeout(()=&gt;&#123; callback(null,'two') &#125;,1000)&#125;],1,(err,results)=&gt;&#123; console.log('time cost:',new Date().getTime()-time) console.log(results)&#125;) è¿è¡Œç»“æžœ12time cost: 2205[&quot;one&quot;, &quot;two&quot;] å› ä¸ºè®¾ç½®çš„limitæ˜¯1,æ‰€ä»¥è¿è¡Œæ—¶é—´æ˜¯æ‰€æœ‰è¿è¡Œæ—¶é—´ä¹‹å’Œ]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨for,set,mapå®žçŽ°æ•°ç»„åŽ»é‡]]></title>
    <url>%2Fblog%2F2018%2F11%2F13%2F%E4%BD%BF%E7%94%A8for-set-map%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%2F</url>
    <content type="text"><![CDATA[æ•°ç»„åŽ»é‡çš„åœºæ™¯åœ¨å¼€å‘ä¸­è¿˜æ˜¯ç»å¸¸é‡è§çš„,æ¯”å¦‚ä¸€ä¸ªåœ°å›¾é€‰æˆ¿åŠŸèƒ½,åœ¨åœ°å›¾ä¸Šæ ‡è¯†ä¸€ä¸ªåŒºåŸŸ,æ˜¾ç¤ºåŒºåŸŸä¸Šçš„æˆ¿åž‹,ç§»åŠ¨åŒºåŸŸåŽæ˜¾ç¤ºæ–°å¢žçš„æˆ¿åž‹ä»¥åŠåŽŸæ¥è¿˜åœ¨åŒºåŸŸå†…çš„æˆ¿åž‹ä¿æŒä¸å˜,å®žçŽ°è¿™ä¸€ä¸ªåœºæ™¯,å°±éœ€è¦å¾—å‡ºæ¯æ¬¡ä¸å˜çš„æˆ¿åž‹çš„æ•°ç»„,ä»¥åŠæ–°å¢žçš„æˆ¿åž‹çš„æ•°ç»„.ä¸€èˆ¬çš„,åŽå°è¿”å›žçš„æ•°æ®åªæ˜¯æˆ‘ä»¬é€‰ä¸­çš„åŒºåŸŸçš„æˆ¿åž‹æ•°æ®,æˆ‘ä»¬è¦å¯¹æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†. æž„é€ æ•°æ®è®©æˆ‘ä»¬å…ˆæ¥ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®,å¹¶æ‰“ä¹±æˆ‘ä»¬ç”Ÿæˆçš„æ•°æ®,æ¨¡æ‹ŸçœŸå®žæƒ…å†µ123456789101112131415161718192021222324252627282930313233343536373839function generateHouses(n) &#123; //ç”Ÿæˆæ•°æ® let newHouse = new Array(n) let oldHouse = new Array(n) for (let i = 0; i &lt; n / 2; i++) &#123; newHouse[i] = oldHouse[i] = &#123; id: i &#125; &#125; for (let i = n / 2; i &lt; n; i++) &#123; newHouse[i] = &#123; id: n * 2 + i &#125; oldHouse[i] = &#123; id: n + i &#125; &#125; return &#123; newHouse: randomArr(newHouse), oldHouse: randomArr(oldHouse) &#125;&#125;function randomArr(arr) &#123; //æ•°ç»„æ´—ç‰Œ for (var i = arr.length - 1; i &gt;= 0; i--) &#123; var randomIndex = Math.floor(Math.random() * (i + 1)); var itemAtIndex = arr[randomIndex]; arr[randomIndex] = arr[i]; arr[i] = itemAtIndex; &#125; return arr&#125;const &#123;newHouse,oldHouse&#125; = generateHouses(n) //nä¸ºéœ€è¦æž„é€ çš„æ•°æ®é‡const newSetHouse = new Set(newHouse) //æž„é€ setæ•°æ®const newMapHouse = new Map() //æž„é€ mapæ•°æ® for(let index in newHouse)&#123; newMapHouse.set(newHouse[index].id,newHouse[index]) &#125; Forå¾ªçŽ¯forå¾ªçŽ¯æ–¹æ³•è¿›è¡Œä¸¤æ¬¡å¾ªçŽ¯,å› ä¸ºæ¯åˆ¤æ–­ä¸€æ¬¡æ–°æ•°æ®å°±éœ€è¦éåŽ†ä¸€éè€æ•°æ®,æ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(N^2),å¯¹äºŽ1000çš„æ•°æ®,æœ€åçš„æƒ…å†µè¦åˆ¤æ–­1000000æ¬¡123456789101112131415161718192021222324252627function filterHouse_for(newHouse, oldHouse) &#123; if (newHouse.length === 0) &#123; return &#123; remainHouse: oldHouse, newHouse: newHouse &#125; &#125; let remainHouse = [] let newOutPutouse = [] for (let nIndex in newHouse) &#123; let isNew = true for (let oIndex in oldHouse) &#123; if (newHouse[nIndex].id === oldHouse[oIndex].id) &#123; remainHouse.push(newHouse[nIndex]) isNew = false break &#125; &#125; if (isNew) &#123; newOutPutouse.push(newHouse[nIndex]) &#125; &#125; return &#123; remainHouse, newOutPutouse &#125;&#125; Setæ–¹æ³•setæ˜¯ES6æ–°å¢žçš„ä¸€ç§æ•°æ®ç±»åž‹,å®ƒçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,æ‰€ä»¥ç”¨æ¥è¿›è¡ŒåŽ»é‡æ˜¯éžå¸¸åˆé€‚çš„,æ€»ä½“æ—¶é—´å¤æ‚åº¦ç›¸è¾ƒäºŽforå¾ªçŽ¯,å®ƒå˜æˆäº†O(NlogN),æ‰€ä»¥ä¸Žforå¾ªçŽ¯çš„æ—¶é—´é•¿çŸ­æ¯”è¾ƒå–å†³äºŽç³»æ•°N,å½“ç³»æ•°è¾ƒå°æ—¶,å·®åˆ«ä¸æ˜¯å¾ˆå¤§,ä½†å½“ç³»æ•°å˜å¤§æ—¶,forå¾ªçŽ¯æ¶ˆè€—çš„æ—¶é—´æ˜¯æˆæŒ‡æ•°çº§åˆ«å¢žåŠ çš„123456789101112131415function filterHouse_set(newHouse, oldHouse,newSetHouse) &#123; let remainHouse = [] let newOutPutouse = [] for (let index in oldHouse) &#123; if (newSetHouse.has(oldHouse[index])) &#123; remainHouse.push(oldHouse[index]) &#125; else &#123; newOutPutouse.push(oldHouse[index]) &#125; &#125; return &#123; remainHouse, newOutPutouse &#125;&#125; Mapæ–¹æ³•å“ˆå¸Œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ï¼Œä»£ä»·æ˜¯å“ˆå¸Œçš„å­˜å‚¨ç©ºé—´é€šå¸¸ä¸ºæ•°æ®å¤§å°çš„ä¸¤å€,å¹¶ä¸”éœ€è¦æ‰‹åŠ¨å…ˆæž„é€ mapæ•°æ®1234567891011function filterHouse_map(newHouse,oldHouse,newMapHouse)&#123; let remainHouse = [] let newOutPutouse = [] oldHouse.map(ele=&gt;&#123; newMapHouse.has(ele.id)?remainHouse.push(ele):newOutPutouse.push(ele) &#125;) return &#123; remainHouse, newOutPutouse &#125;&#125; æ—¶é—´æ¯”è¾ƒå†™ä¸€ä¸ªå‡½æ•°æ¥æ¯”è¾ƒä¸‰ç§æ–¹æ³•éœ€è¦çš„æ—¶é—´12345678910111213141516171819202122232425262728function test(n)&#123; const &#123; newHouse, oldHouse &#125; = generateHouses(n) /* for */ console.log('for Start') var time = new Date().getTime() filterHouse_for(newHouse, oldHouse) console.log('for End', new Date().getTime() - time) /* set */ const newSetHouse = new Set(newHouse) //æž„é€ setæ•°æ® console.log('set Start') var time = new Date().getTime() filterHouse_set(newHouse, oldHouse,newSetHouse) console.log('set End', new Date().getTime() - time) /* map */ const newMapHouse = new Map() //æž„é€ mapæ•°æ® for(let index in newHouse)&#123; newMapHouse.set(newHouse[index].id,newHouse[index]) &#125; console.log('map Start') var time = new Date().getTime() filterHouse_map(newHouse, oldHouse,newMapHouse) console.log('map End', new Date().getTime() - time)&#125; è¿è¡Œç»“æžœ(chromeä¸‹è¿è¡Œ(ç‰ˆæœ¬ 70))å½“ n ä¸º10æ—¶:1234567test(100)VM253:97 for StartVM253:100 for End 3VM253:104 set StartVM253:107 set End 0VM253:114 map StartVM253:117 map End 0 å½“ n ä¸º1000æ—¶:123456for StartVM253:100 for End 60VM253:104 set StartVM253:107 set End 1VM253:114 map StartVM253:117 map End 0 å½“ n ä¸º10000æ—¶:123456for StartVM253:100 for End 4532VM253:104 set StartVM253:107 set End 5VM253:114 map StartVM253:117 map End 2 å½“ n ä¸º100000æ—¶:å› ä¸ºforå¾ªçŽ¯ç­‰äº†å‡ åˆ†é’Ÿéƒ½æ²¡æœ‰ç®—å‡ºç»“æžœ,å°±ä¸æ¯”è¾ƒforå¾ªçŽ¯äº†1234set StartVM231:102 set End 37VM231:109 map StartVM231:112 map End 30 å½“ n ä¸º10000000æ—¶:123456test(1000000)VM231:99 set StartVM231:102 set End 466VM231:109 map StartVM231:112 map End 592 ç»“è®ºå¯ä»¥çœ‹å‡º,ä¸è®ºå“ªç§æƒ…å†µ,forå¾ªçŽ¯ç”¨æ—¶éƒ½æ˜¯æœ€é•¿çš„,æ‰€ä»¥ä¸è¦ä½¿ç”¨forå¾ªçŽ¯ðŸ˜‹,æ•°æ®é‡æ˜¯åä¸‡çº§åˆ«ä»¥ä¸‹æ—¶,ä½¿ç”¨mapé€Ÿåº¦æ¯”setå¿«ä¸€äº›,åä¸‡çº§åˆ«ä»¥ä¸Šæ—¶ä½¿ç”¨set]]></content>
  </entry>
  <entry>
    <title><![CDATA[Fisherâ€“Yates shuffle æ´—ç‰Œç®—æ³•]]></title>
    <url>%2Fblog%2F2018%2F11%2F12%2FFisher%E2%80%93Yates%20shuffle%20%E6%B4%97%E7%89%8C%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ç®€å•æ¥è¯´ Fisherâ€“Yates shuffle ç®—æ³•æ˜¯ä¸€ä¸ªç”¨æ¥å°†ä¸€ä¸ªæœ‰é™é›†åˆç”Ÿæˆä¸€ä¸ªéšæœºæŽ’åˆ—çš„ç®—æ³•ï¼ˆæ•°ç»„éšæœºæŽ’åºï¼‰ã€‚è¿™ä¸ªç®—æ³•ç”Ÿæˆçš„éšæœºæŽ’åˆ—æ˜¯ç­‰æ¦‚çŽ‡çš„ã€‚åŒæ—¶è¿™ä¸ªç®—æ³•éžå¸¸é«˜æ•ˆã€‚ Fisher and Yates çš„åŽŸå§‹ç‰ˆ Fisherâ€“Yates shuffle çš„åŽŸå§‹ç‰ˆæœ¬ï¼Œæœ€åˆæè¿°åœ¨ 1938 å¹´çš„ Ronald Fisher å’Œ Frank Yates å†™çš„ä¹¦ä¸­ï¼Œä¹¦åä¸ºã€ŠStatistical tables for biological, agricultural and medical researchã€‹ã€‚ä»–ä»¬ä½¿ç”¨çº¸å’Œç¬”åŽ»æè¿°äº†è¿™ä¸ªç®—æ³•ï¼Œå¹¶ä½¿ç”¨äº†ä¸€ä¸ªéšæœºæ•°è¡¨æ¥æä¾›éšæœºæ•°ã€‚å®ƒç»™å‡ºäº† 1 åˆ° N çš„æ•°å­—çš„çš„éšæœºæŽ’åˆ—ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š å†™ä¸‹ä»Ž 1 åˆ° N çš„æ•°å­—å–ä¸€ä¸ªä»Ž 1 åˆ°å‰©ä¸‹çš„æ•°å­—ï¼ˆåŒ…æ‹¬è¿™ä¸ªæ•°å­—ï¼‰çš„éšæœºæ•° kä»Žä½Žä½å¼€å§‹ï¼Œå¾—åˆ°ç¬¬ k ä¸ªæ•°å­—ï¼ˆè¿™ä¸ªæ•°å­—è¿˜æ²¡æœ‰è¢«å–å‡ºï¼‰ï¼ŒæŠŠå®ƒå†™åœ¨ç‹¬ç«‹çš„ä¸€ä¸ªåˆ—è¡¨çš„æœ€åŽä¸€ä½é‡å¤ç¬¬ 2 æ­¥ï¼Œç›´åˆ°æ‰€æœ‰çš„æ•°å­—éƒ½è¢«å–å‡ºç¬¬ 3 æ­¥å†™å‡ºçš„è¿™ä¸ªåºåˆ—ï¼ŒçŽ°åœ¨å°±æ˜¯åŽŸå§‹æ•°å­—çš„éšæœºæŽ’åˆ—å·²ç»è¯æ˜Žå¦‚æžœç¬¬ 2 æ­¥å–å‡ºçš„æ•°å­—æ˜¯çœŸéšæœºçš„ï¼Œé‚£ä¹ˆæœ€åŽå¾—åˆ°çš„æŽ’åºä¸€å®šä¹Ÿæ˜¯ã€‚ JavaScript ä»£ç å®žçŽ° 12345678910111213141516/** * Fisherâ€“Yates shuffle */Array.prototype.shuffle = function() &#123; var input = this; for (var i = input.length-1; i &gt;=0; i--) &#123; var randomIndex = Math.floor(Math.random()*(i+1)); var itemAtIndex = input[randomIndex]; input[randomIndex] = input[i]; input[i] = itemAtIndex; &#125; return input;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[åœ¨npm/yarnä¸­é…ç½®.npmrc/.yarnrcæ–‡ä»¶,è®¾ç½®é•œåƒå’Œä»£ç†]]></title>
    <url>%2Fblog%2F2018%2F11%2F12%2F%E5%9C%A8npm-yarn%E4%B8%AD%E9%85%8D%E7%BD%AE-npmrc-yarnrc%E6%96%87%E4%BB%B6-%E8%AE%BE%E7%BD%AE%E9%95%9C%E5%83%8F%E5%92%8C%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[12345//æŒ‡å®šæ·˜å®æºregistry=https://registry.npm.taobao.org//æŒ‡å®šä»£ç†proxy=http://localhost:1080https-proxy=https://localhost:1080]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨asyncåº“ç»“åˆpuppeteerå¹¶å‘çˆ¬å–ç½‘æ˜“äº‘éŸ³ä¹æ­Œå•(ç®€æ˜“demo)]]></title>
    <url>%2Fblog%2F2018%2F11%2F09%2F%E4%BD%BF%E7%94%A8async%E5%BA%93%E5%B9%B6%E5%8F%91%E7%88%AC%E5%8F%96%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%AD%8C%E5%8D%95%2F</url>
    <content type="text"><![CDATA[asyncæ˜¯nodeçš„ä¸€ä¸ªå¼ºå¤§çš„å¼‚æ­¥ç¬¬ä¸‰æ–¹åº“,å®ƒåŒ…å«è®¸å¤šåŠŸèƒ½æ–¹æ³•,ä»Šå¤©ä¸»è¦ç”¨å…¶ä¸­çš„mapLimitæ–¹æ³•æ¥å®žçŽ°å¹¶è¡Œæ‰§è¡Œçˆ¬è™«.mapLimit(coll,limit, iteratee, callbackopt)æŽ¥æ”¶å››ä¸ªå‚æ•°:coll:æ˜¯ä¸€ä¸ªè¿­ä»£å™¨,ä»£è¡¨è¦è¿­ä»£çš„é›†åˆlimit:æ•°å­—ä»£è¡¨åŒæ—¶æ‰§è¡Œå¹¶è¡Œçš„é™åˆ¶iteratee:è¿­ä»£å™¨æ–¹æ³•,å¯¹äºŽcollä¸­çš„æ¯ä¸€ä¸ªitemï¼Œè¿­ä»£æ‰§è¡Œè¯¥å¼‚æ­¥å‡½æ•°ã€‚ç”¨(item, callback)è°ƒç”¨ï¼Œcallbackå¯é€‰callbackopt:æ‰€æœ‰iteratee å‡½æ•°å®ŒæˆåŽæˆ–å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘çš„å›žè°ƒå‡½æ•°ã€‚ç”¨(err, results)è°ƒç”¨ã€‚1234567891011121314151617181920212223242526272829303132333435const puppeteer = require(&apos;puppeteer&apos;)const cheerio = require(&apos;cheerio&apos;)const mapLimit = require(&apos;async/mapLimit&apos;)const URL = &apos;https://music.163.com&apos;//æ ‡ç­¾é›†åˆconst type =[&apos;åŽè¯­&apos;,&apos;æ¬§ç¾Ž&apos;,&apos;æ—¥è¯­&apos;,&apos;éŸ©è¯­&apos;,&apos;ç²¤è¯­&apos;,&apos;å°è¯­ç§&apos;]async function start(type,callback)&#123; const browser = await puppeteer.launch(&#123; headless:true &#125;) const page = await browser.newPage() await page.goto(`$&#123;URL&#125;/discover/playlist/?cat=$&#123;type&#125;`) const $ = cheerio.load(await page.mainFrame().childFrames()[0].content()) const list = $(&apos;#m-pl-container&apos;).find(&apos;li&apos;) let album = [] Array.from(list).forEach(ele=&gt;&#123; let obj =&#123; name:$(ele).find(&apos;.dec a&apos;).attr(&apos;title&apos;), href:$(ele).find(&apos;.dec a&apos;).attr(&apos;href&apos;) &#125; album.push(obj) &#125;) callback(null,album) await browser.close()&#125;mapLimit(type,5,(type,callback)=&gt;&#123;//è®¾ç½®å¹¶å‘æ•°ä¸º 5 start(type,callback)&#125;,(err,result)=&gt;&#123; for(let index in result)&#123; console.log(result[index]) &#125;&#125;) result:]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Puppeteerçˆ¬è™«]]></title>
    <url>%2Fblog%2F2018%2F11%2F08%2F%E4%BD%BF%E7%94%A8Puppeteer%E7%88%AC%E8%99%AB%2F</url>
    <content type="text"><![CDATA[Puppeteeræ˜¯ GoogleChromeå›¢é˜Ÿå®˜æ–¹çš„æ— ç•Œé¢ï¼ˆHeadlessï¼‰Chromeå·¥å…·ï¼Œå®ƒæ˜¯ä¸€ä¸ªNodeåº“ï¼Œæä¾›äº†ä¸€ä¸ªé«˜çº§çš„APIæ¥æŽ§åˆ¶DevToolåè®®ä¸Šçš„æ— å¤´ç‰ˆ Chrome ã€‚ä¹Ÿå¯ä»¥é…ç½®ä¸ºä½¿ç”¨å®Œæ•´ï¼ˆéžæ— å¤´ï¼‰çš„ Chromeã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051const puppeteer = require('puppeteer')const cheerio = require('cheerio')const fs = require('fs')const assert = require('assert')async function start() &#123; const browser = await puppeteer.launch() const page = await browser.newPage() //è¿‡æ»¤è¯·æ±‚èµ„æº// await page.setRequestInterception(true)// page.on('request', interceptedRequest =&gt; &#123;// if (interceptedRequest.url().endsWith('.png') ||// interceptedRequest.url().endsWith('.jpg') ||// interceptedRequest.url().endsWith('.gif'))// interceptedRequest.abort()// else// interceptedRequest.continue()// &#125;) await page.goto('http://jandan.net/ooxx') const $ = cheerio.load(await page.content()) const $img = $('img') for (let index in $img) &#123; try &#123; const content = await getResourceContent(page, ($img[index].attribs.src)) const contentBuffer = Buffer.from(content, 'base64') const fileName = $img[index].attribs.src.match( /^http(s)?:\/\/(.+)\/(.+)\/(.+\..+)/)[4] fs.writeFileSync(fileName, contentBuffer, 'base64') &#125; catch (e) &#123;&#125; &#125; await browser.close()&#125;//èŽ·å¾—èµ„æºæ ‘async function getResourceTree(page) &#123; var resource = await page._client.send('Page.getResourceTree') return resource.frameTree&#125;//æ ¹æ®url frameIdæŸ¥æ‰¾èµ„æºå®žä¾‹async function getResourceContent(page, url) &#123; const &#123;content, base64Encoded&#125; = await page._client.send( 'Page.getResourceContent', &#123;frameId: String(page.mainFrame()._id), url&#125;, ) assert.strictEqual(base64Encoded, true) return content&#125;start()]]></content>
  </entry>
</search>
